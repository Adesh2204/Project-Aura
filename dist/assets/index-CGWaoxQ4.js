var lb=Object.defineProperty;var ub=(e,t,n)=>t in e?lb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var tm=(e,t,n)=>ub(e,typeof t!="symbol"?t+"":t,n);function cb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function _v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function db(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var wv={exports:{}},zl={},xv={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),hb=Symbol.for("react.portal"),fb=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),mb=Symbol.for("react.profiler"),gb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),_b=Symbol.for("react.suspense"),wb=Symbol.for("react.memo"),xb=Symbol.for("react.lazy"),nm=Symbol.iterator;function bb(e){return e===null||typeof e!="object"?null:(e=nm&&e[nm]||e["@@iterator"],typeof e=="function"?e:null)}var bv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sv=Object.assign,Ev={};function os(e,t,n){this.props=e,this.context=t,this.refs=Ev,this.updater=n||bv}os.prototype.isReactComponent={};os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kv(){}kv.prototype=os.prototype;function yh(e,t,n){this.props=e,this.context=t,this.refs=Ev,this.updater=n||bv}var _h=yh.prototype=new kv;_h.constructor=yh;Sv(_h,os.prototype);_h.isPureReactComponent=!0;var rm=Array.isArray,Pv=Object.prototype.hasOwnProperty,wh={current:null},Cv={key:!0,ref:!0,__self:!0,__source:!0};function Tv(e,t,n){var r,s={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Pv.call(t,r)&&!Cv.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];s.children=d}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Ro,type:e,key:o,ref:l,props:s,_owner:wh.current}}function Sb(e,t){return{$$typeof:Ro,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ro}function Eb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var im=/\/+/g;function nc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Eb(""+e.key):t.toString(36)}function Wa(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ro:case hb:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+nc(l,0):r,rm(s)?(n="",e!=null&&(n=e.replace(im,"$&/")+"/"),Wa(s,t,n,"",function(h){return h})):s!=null&&(xh(s)&&(s=Sb(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(im,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",rm(e))for(var c=0;c<e.length;c++){o=e[c];var d=r+nc(o,c);l+=Wa(o,t,n,d,s)}else if(d=bb(e),typeof d=="function")for(e=d.call(e),c=0;!(o=e.next()).done;)o=o.value,d=r+nc(o,c++),l+=Wa(o,t,n,d,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ga(e,t,n){if(e==null)return e;var r=[],s=0;return Wa(e,r,"","",function(o){return t.call(n,o,s++)}),r}function kb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Za={transition:null},Pb={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Za,ReactCurrentOwner:wh};function Lv(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:ga,forEach:function(e,t,n){ga(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ga(e,function(){t++}),t},toArray:function(e){return ga(e,function(t){return t})||[]},only:function(e){if(!xh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=os;ce.Fragment=fb;ce.Profiler=mb;ce.PureComponent=yh;ce.StrictMode=pb;ce.Suspense=_b;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pb;ce.act=Lv;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Sv({},e.props),s=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=wh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)Pv.call(t,d)&&!Cv.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Ro,type:e.type,key:s,ref:o,props:r,_owner:l}};ce.createContext=function(e){return e={$$typeof:vb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gb,_context:e},e.Consumer=e};ce.createElement=Tv;ce.createFactory=function(e){var t=Tv.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:yb,render:e}};ce.isValidElement=xh;ce.lazy=function(e){return{$$typeof:xb,_payload:{_status:-1,_result:e},_init:kb}};ce.memo=function(e,t){return{$$typeof:wb,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Za.transition;Za.transition={};try{e()}finally{Za.transition=t}};ce.unstable_act=Lv;ce.useCallback=function(e,t){return ht.current.useCallback(e,t)};ce.useContext=function(e){return ht.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ce.useEffect=function(e,t){return ht.current.useEffect(e,t)};ce.useId=function(){return ht.current.useId()};ce.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return ht.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};ce.useRef=function(e){return ht.current.useRef(e)};ce.useState=function(e){return ht.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return ht.current.useTransition()};ce.version="18.3.1";xv.exports=ce;var y=xv.exports;const ge=_v(y),Kc=cb({__proto__:null,default:ge},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb=y,Tb=Symbol.for("react.element"),Lb=Symbol.for("react.fragment"),Nb=Object.prototype.hasOwnProperty,jb=Cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ab={key:!0,ref:!0,__self:!0,__source:!0};function Nv(e,t,n){var r,s={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Nb.call(t,r)&&!Ab.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Tb,type:e,key:o,ref:l,props:s,_owner:jb.current}}zl.Fragment=Lb;zl.jsx=Nv;zl.jsxs=Nv;wv.exports=zl;var g=wv.exports,Gc={},jv={exports:{}},Nt={},Av={exports:{}},Ov={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,$){var z=R.length;R.push($);e:for(;0<z;){var K=z-1>>>1,X=R[K];if(0<s(X,$))R[K]=$,R[z]=X,z=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],z=R.pop();if(z!==$){R[0]=z;e:for(var K=0,X=R.length,oe=X>>>1;K<oe;){var fe=2*(K+1)-1,ie=R[fe],J=fe+1,Re=R[J];if(0>s(ie,z))J<X&&0>s(Re,ie)?(R[K]=Re,R[J]=z,K=J):(R[K]=ie,R[fe]=z,K=fe);else if(J<X&&0>s(Re,z))R[K]=Re,R[J]=z,K=J;else break e}}return $}function s(R,$){var z=R.sortIndex-$.sortIndex;return z!==0?z:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,m=null,_=3,w=!1,E=!1,P=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(R){for(var $=n(h);$!==null;){if($.callback===null)r(h);else if($.startTime<=R)r(h),$.sortIndex=$.expirationTime,t(d,$);else break;$=n(h)}}function T(R){if(P=!1,S(R),!E)if(n(d)!==null)E=!0,te(A);else{var $=n(h);$!==null&&de(T,$.startTime-R)}}function A(R,$){E=!1,P&&(P=!1,b(D),D=-1),w=!0;var z=_;try{for(S($),m=n(d);m!==null&&(!(m.expirationTime>$)||R&&!H());){var K=m.callback;if(typeof K=="function"){m.callback=null,_=m.priorityLevel;var X=K(m.expirationTime<=$);$=e.unstable_now(),typeof X=="function"?m.callback=X:m===n(d)&&r(d),S($)}else r(d);m=n(d)}if(m!==null)var oe=!0;else{var fe=n(h);fe!==null&&de(T,fe.startTime-$),oe=!1}return oe}finally{m=null,_=z,w=!1}}var M=!1,O=null,D=-1,W=5,U=-1;function H(){return!(e.unstable_now()-U<W)}function ee(){if(O!==null){var R=e.unstable_now();U=R;var $=!0;try{$=O(!0,R)}finally{$?V():(M=!1,O=null)}}else M=!1}var V;if(typeof x=="function")V=function(){x(ee)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Oe=Q.port2;Q.port1.onmessage=ee,V=function(){Oe.postMessage(null)}}else V=function(){C(ee,0)};function te(R){O=R,M||(M=!0,V())}function de(R,$){D=C(function(){R(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){E||w||(E=!0,te(A))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(R){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var z=_;_=$;try{return R()}finally{_=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=_;_=R;try{return $()}finally{_=z}},e.unstable_scheduleCallback=function(R,$,z){var K=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=z+X,R={id:p++,callback:$,priorityLevel:R,startTime:z,expirationTime:X,sortIndex:-1},z>K?(R.sortIndex=z,t(h,R),n(d)===null&&R===n(h)&&(P?(b(D),D=-1):P=!0,de(T,z-K))):(R.sortIndex=X,t(d,R),E||w||(E=!0,te(A))),R},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(R){var $=_;return function(){var z=_;_=$;try{return R.apply(this,arguments)}finally{_=z}}}})(Ov);Av.exports=Ov;var Ob=Av.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb=y,Lt=Ob;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rv=new Set,ho={};function ii(e,t){Yi(e,t),Yi(e+"Capture",t)}function Yi(e,t){for(ho[e]=t,e=0;e<t.length;e++)Rv.add(t[e])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=Object.prototype.hasOwnProperty,Ib=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sm={},om={};function Mb(e){return Yc.call(om,e)?!0:Yc.call(sm,e)?!1:Ib.test(e)?om[e]=!0:(sm[e]=!0,!1)}function $b(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Db(e,t,n,r){if(t===null||typeof t>"u"||$b(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ft(e,t,n,r,s,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var bh=/[\-:]([a-z])/g;function Sh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bh,Sh);et[t]=new ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bh,Sh);et[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bh,Sh);et[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Eh(e,t,n,r){var s=et.hasOwnProperty(t)?et[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Db(t,n,s,r)&&(n=null),r||s===null?Mb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Hn=Rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),kh=Symbol.for("react.strict_mode"),Jc=Symbol.for("react.profiler"),Iv=Symbol.for("react.provider"),Mv=Symbol.for("react.context"),Ph=Symbol.for("react.forward_ref"),Qc=Symbol.for("react.suspense"),Xc=Symbol.for("react.suspense_list"),Ch=Symbol.for("react.memo"),Xn=Symbol.for("react.lazy"),$v=Symbol.for("react.offscreen"),am=Symbol.iterator;function As(e){return e===null||typeof e!="object"?null:(e=am&&e[am]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,rc;function Hs(e){if(rc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);rc=t&&t[1]||""}return`
`+rc+e}var ic=!1;function sc(e,t){if(!e||ic)return"";ic=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=r.stack.split(`
`),l=s.length-1,c=o.length-1;1<=l&&0<=c&&s[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==o[c]){var d=`
`+s[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=c);break}}}finally{ic=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hs(e):""}function zb(e){switch(e.tag){case 5:return Hs(e.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 2:case 15:return e=sc(e.type,!1),e;case 11:return e=sc(e.type.render,!1),e;case 1:return e=sc(e.type,!0),e;default:return""}}function ed(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ti:return"Fragment";case Ci:return"Portal";case Jc:return"Profiler";case kh:return"StrictMode";case Qc:return"Suspense";case Xc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mv:return(e.displayName||"Context")+".Consumer";case Iv:return(e._context.displayName||"Context")+".Provider";case Ph:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ch:return t=e.displayName||null,t!==null?t:ed(e.type)||"Memo";case Xn:t=e._payload,e=e._init;try{return ed(e(t))}catch{}}return null}function Fb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ed(t);case 8:return t===kh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bb(e){var t=Dv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ya(e){e._valueTracker||(e._valueTracker=Bb(e))}function zv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Dv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function td(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fv(e,t){t=t.checked,t!=null&&Eh(e,"checked",t,!1)}function nd(e,t){Fv(e,t);var n=mr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rd(e,t.type,n):t.hasOwnProperty("defaultValue")&&rd(e,t.type,mr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function um(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function rd(e,t,n){(t!=="number"||sl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ws=Array.isArray;function Fi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function id(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Ws(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mr(n)}}function Bv(e,t){var n=mr(t.value),r=mr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _a,Hv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_a=_a||document.createElement("div"),_a.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_a.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ub=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){Ub.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function Wv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function Zv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Wv(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hb=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(e,t){if(t){if(Hb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function ad(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=null;function Th(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ud=null,Bi=null,Ui=null;function hm(e){if(e=$o(e)){if(typeof ud!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Wl(t),ud(e.stateNode,e.type,t))}}function Vv(e){Bi?Ui?Ui.push(e):Ui=[e]:Bi=e}function qv(){if(Bi){var e=Bi,t=Ui;if(Ui=Bi=null,hm(e),t)for(e=0;e<t.length;e++)hm(t[e])}}function Kv(e,t){return e(t)}function Gv(){}var oc=!1;function Yv(e,t,n){if(oc)return e(t,n);oc=!0;try{return Kv(e,t,n)}finally{oc=!1,(Bi!==null||Ui!==null)&&(Gv(),qv())}}function po(e,t){var n=e.stateNode;if(n===null)return null;var r=Wl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var cd=!1;if(Dn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){cd=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{cd=!1}function Wb(e,t,n,r,s,o,l,c,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var Qs=!1,ol=null,al=!1,dd=null,Zb={onError:function(e){Qs=!0,ol=e}};function Vb(e,t,n,r,s,o,l,c,d){Qs=!1,ol=null,Wb.apply(Zb,arguments)}function qb(e,t,n,r,s,o,l,c,d){if(Vb.apply(this,arguments),Qs){if(Qs){var h=ol;Qs=!1,ol=null}else throw Error(B(198));al||(al=!0,dd=h)}}function si(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fm(e){if(si(e)!==e)throw Error(B(188))}function Kb(e){var t=e.alternate;if(!t){if(t=si(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return fm(s),e;if(o===r)return fm(s),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=o;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,r=o;break}if(c===r){l=!0,r=s,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,r=s;break}if(c===r){l=!0,r=o,n=s;break}c=c.sibling}if(!l)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function Qv(e){return e=Kb(e),e!==null?Xv(e):null}function Xv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xv(e);if(t!==null)return t;e=e.sibling}return null}var ey=Lt.unstable_scheduleCallback,pm=Lt.unstable_cancelCallback,Gb=Lt.unstable_shouldYield,Yb=Lt.unstable_requestPaint,Me=Lt.unstable_now,Jb=Lt.unstable_getCurrentPriorityLevel,Lh=Lt.unstable_ImmediatePriority,ty=Lt.unstable_UserBlockingPriority,ll=Lt.unstable_NormalPriority,Qb=Lt.unstable_LowPriority,ny=Lt.unstable_IdlePriority,Fl=null,gn=null;function Xb(e){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Fl,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:n1,e1=Math.log,t1=Math.LN2;function n1(e){return e>>>=0,e===0?32:31-(e1(e)/t1|0)|0}var wa=64,xa=4194304;function Zs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ul(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?r=Zs(c):(o&=l,o!==0&&(r=Zs(o)))}else l=n&~s,l!==0?r=Zs(l):o!==0&&(r=Zs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xt(t),s=1<<n,r|=e[n],t&=~s;return r}function r1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Xt(o),c=1<<l,d=s[l];d===-1?(!(c&n)||c&r)&&(s[l]=r1(c,t)):d<=t&&(e.expiredLanes|=c),o&=~c}}function hd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ry(){var e=wa;return wa<<=1,!(wa&4194240)&&(wa=64),e}function ac(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Io(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xt(t),e[t]=n}function s1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Xt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Nh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ve=0;function iy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sy,jh,oy,ay,ly,fd=!1,ba=[],ar=null,lr=null,ur=null,mo=new Map,go=new Map,tr=[],o1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function Rs(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=$o(t),t!==null&&jh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function a1(e,t,n,r,s){switch(t){case"focusin":return ar=Rs(ar,e,t,n,r,s),!0;case"dragenter":return lr=Rs(lr,e,t,n,r,s),!0;case"mouseover":return ur=Rs(ur,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return mo.set(o,Rs(mo.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,go.set(o,Rs(go.get(o)||null,e,t,n,r,s)),!0}return!1}function uy(e){var t=Br(e.target);if(t!==null){var n=si(t);if(n!==null){if(t=n.tag,t===13){if(t=Jv(n),t!==null){e.blockedOn=t,ly(e.priority,function(){oy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Va(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ld=r,n.target.dispatchEvent(r),ld=null}else return t=$o(n),t!==null&&jh(t),e.blockedOn=n,!1;t.shift()}return!0}function gm(e,t,n){Va(e)&&n.delete(t)}function l1(){fd=!1,ar!==null&&Va(ar)&&(ar=null),lr!==null&&Va(lr)&&(lr=null),ur!==null&&Va(ur)&&(ur=null),mo.forEach(gm),go.forEach(gm)}function Is(e,t){e.blockedOn===t&&(e.blockedOn=null,fd||(fd=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,l1)))}function vo(e){function t(s){return Is(s,e)}if(0<ba.length){Is(ba[0],e);for(var n=1;n<ba.length;n++){var r=ba[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ar!==null&&Is(ar,e),lr!==null&&Is(lr,e),ur!==null&&Is(ur,e),mo.forEach(t),go.forEach(t),n=0;n<tr.length;n++)r=tr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)uy(n),n.blockedOn===null&&tr.shift()}var Hi=Hn.ReactCurrentBatchConfig,cl=!0;function u1(e,t,n,r){var s=ve,o=Hi.transition;Hi.transition=null;try{ve=1,Ah(e,t,n,r)}finally{ve=s,Hi.transition=o}}function c1(e,t,n,r){var s=ve,o=Hi.transition;Hi.transition=null;try{ve=4,Ah(e,t,n,r)}finally{ve=s,Hi.transition=o}}function Ah(e,t,n,r){if(cl){var s=pd(e,t,n,r);if(s===null)vc(e,t,r,dl,n),mm(e,r);else if(a1(s,e,t,n,r))r.stopPropagation();else if(mm(e,r),t&4&&-1<o1.indexOf(e)){for(;s!==null;){var o=$o(s);if(o!==null&&sy(o),o=pd(e,t,n,r),o===null&&vc(e,t,r,dl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else vc(e,t,r,null,n)}}var dl=null;function pd(e,t,n,r){if(dl=null,e=Th(r),e=Br(e),e!==null)if(t=si(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dl=e,null}function cy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jb()){case Lh:return 1;case ty:return 4;case ll:case Qb:return 16;case ny:return 536870912;default:return 16}default:return 16}}var ir=null,Oh=null,qa=null;function dy(){if(qa)return qa;var e,t=Oh,n=t.length,r,s="value"in ir?ir.value:ir.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[o-r];r++);return qa=s.slice(e,1<r?1-r:void 0)}function Ka(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sa(){return!0}function vm(){return!1}function jt(e){function t(n,r,s,o,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sa:vm,this.isPropagationStopped=vm,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),t}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rh=jt(as),Mo=Ne({},as,{view:0,detail:0}),d1=jt(Mo),lc,uc,Ms,Bl=Ne({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ih,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(lc=e.screenX-Ms.screenX,uc=e.screenY-Ms.screenY):uc=lc=0,Ms=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:uc}}),ym=jt(Bl),h1=Ne({},Bl,{dataTransfer:0}),f1=jt(h1),p1=Ne({},Mo,{relatedTarget:0}),cc=jt(p1),m1=Ne({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=jt(m1),v1=Ne({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=jt(v1),_1=Ne({},as,{data:0}),_m=jt(_1),w1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=b1[e])?!!t[e]:!1}function Ih(){return S1}var E1=Ne({},Mo,{key:function(e){if(e.key){var t=w1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ih,charCode:function(e){return e.type==="keypress"?Ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k1=jt(E1),P1=Ne({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=jt(P1),C1=Ne({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ih}),T1=jt(C1),L1=Ne({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),N1=jt(L1),j1=Ne({},Bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A1=jt(j1),O1=[9,13,27,32],Mh=Dn&&"CompositionEvent"in window,Xs=null;Dn&&"documentMode"in document&&(Xs=document.documentMode);var R1=Dn&&"TextEvent"in window&&!Xs,hy=Dn&&(!Mh||Xs&&8<Xs&&11>=Xs),xm=" ",bm=!1;function fy(e,t){switch(e){case"keyup":return O1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function I1(e,t){switch(e){case"compositionend":return py(t);case"keypress":return t.which!==32?null:(bm=!0,xm);case"textInput":return e=t.data,e===xm&&bm?null:e;default:return null}}function M1(e,t){if(Li)return e==="compositionend"||!Mh&&fy(e,t)?(e=dy(),qa=Oh=ir=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hy&&t.locale!=="ko"?null:t.data;default:return null}}var $1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$1[e.type]:t==="textarea"}function my(e,t,n,r){Vv(r),t=hl(t,"onChange"),0<t.length&&(n=new Rh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var eo=null,yo=null;function D1(e){Py(e,0)}function Ul(e){var t=Ai(e);if(zv(t))return e}function z1(e,t){if(e==="change")return t}var gy=!1;if(Dn){var dc;if(Dn){var hc="oninput"in document;if(!hc){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),hc=typeof Em.oninput=="function"}dc=hc}else dc=!1;gy=dc&&(!document.documentMode||9<document.documentMode)}function km(){eo&&(eo.detachEvent("onpropertychange",vy),yo=eo=null)}function vy(e){if(e.propertyName==="value"&&Ul(yo)){var t=[];my(t,yo,e,Th(e)),Yv(D1,t)}}function F1(e,t,n){e==="focusin"?(km(),eo=t,yo=n,eo.attachEvent("onpropertychange",vy)):e==="focusout"&&km()}function B1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ul(yo)}function U1(e,t){if(e==="click")return Ul(t)}function H1(e,t){if(e==="input"||e==="change")return Ul(t)}function W1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:W1;function _o(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yc.call(t,s)||!tn(e[s],t[s]))return!1}return!0}function Pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cm(e,t){var n=Pm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pm(n)}}function yy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _y(){for(var e=window,t=sl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sl(e.document)}return t}function $h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z1(e){var t=_y(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yy(n.ownerDocument.documentElement,n)){if(r!==null&&$h(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Cm(n,o);var l=Cm(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V1=Dn&&"documentMode"in document&&11>=document.documentMode,Ni=null,md=null,to=null,gd=!1;function Tm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gd||Ni==null||Ni!==sl(r)||(r=Ni,"selectionStart"in r&&$h(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),to&&_o(to,r)||(to=r,r=hl(md,"onSelect"),0<r.length&&(t=new Rh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ni)))}function Ea(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ji={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},fc={},wy={};Dn&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function Hl(e){if(fc[e])return fc[e];if(!ji[e])return e;var t=ji[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wy)return fc[e]=t[n];return e}var xy=Hl("animationend"),by=Hl("animationiteration"),Sy=Hl("animationstart"),Ey=Hl("transitionend"),ky=new Map,Lm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){ky.set(e,t),ii(t,[e])}for(var pc=0;pc<Lm.length;pc++){var mc=Lm[pc],q1=mc.toLowerCase(),K1=mc[0].toUpperCase()+mc.slice(1);_r(q1,"on"+K1)}_r(xy,"onAnimationEnd");_r(by,"onAnimationIteration");_r(Sy,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(Ey,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Nm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qb(r,t,void 0,e),e.currentTarget=null}function Py(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==o&&s.isPropagationStopped())break e;Nm(s,c,h),o=d}else for(l=0;l<r.length;l++){if(c=r[l],d=c.instance,h=c.currentTarget,c=c.listener,d!==o&&s.isPropagationStopped())break e;Nm(s,c,h),o=d}}}if(al)throw e=dd,al=!1,dd=null,e}function Se(e,t){var n=t[xd];n===void 0&&(n=t[xd]=new Set);var r=e+"__bubble";n.has(r)||(Cy(t,e,2,!1),n.add(r))}function gc(e,t,n){var r=0;t&&(r|=4),Cy(n,e,r,t)}var ka="_reactListening"+Math.random().toString(36).slice(2);function wo(e){if(!e[ka]){e[ka]=!0,Rv.forEach(function(n){n!=="selectionchange"&&(G1.has(n)||gc(n,!1,e),gc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ka]||(t[ka]=!0,gc("selectionchange",!1,t))}}function Cy(e,t,n,r){switch(cy(t)){case 1:var s=u1;break;case 4:s=c1;break;default:s=Ah}n=s.bind(null,t,n,e),s=void 0,!cd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function vc(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;c!==null;){if(l=Br(c),l===null)return;if(d=l.tag,d===5||d===6){r=o=l;continue e}c=c.parentNode}}r=r.return}Yv(function(){var h=o,p=Th(n),m=[];e:{var _=ky.get(e);if(_!==void 0){var w=Rh,E=e;switch(e){case"keypress":if(Ka(n)===0)break e;case"keydown":case"keyup":w=k1;break;case"focusin":E="focus",w=cc;break;case"focusout":E="blur",w=cc;break;case"beforeblur":case"afterblur":w=cc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=f1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=T1;break;case xy:case by:case Sy:w=g1;break;case Ey:w=N1;break;case"scroll":w=d1;break;case"wheel":w=A1;break;case"copy":case"cut":case"paste":w=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=wm}var P=(t&4)!==0,C=!P&&e==="scroll",b=P?_!==null?_+"Capture":null:_;P=[];for(var x=h,S;x!==null;){S=x;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,b!==null&&(T=po(x,b),T!=null&&P.push(xo(x,T,S)))),C)break;x=x.return}0<P.length&&(_=new w(_,E,null,n,p),m.push({event:_,listeners:P}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",_&&n!==ld&&(E=n.relatedTarget||n.fromElement)&&(Br(E)||E[zn]))break e;if((w||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,w?(E=n.relatedTarget||n.toElement,w=h,E=E?Br(E):null,E!==null&&(C=si(E),E!==C||E.tag!==5&&E.tag!==6)&&(E=null)):(w=null,E=h),w!==E)){if(P=ym,T="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(P=wm,T="onPointerLeave",b="onPointerEnter",x="pointer"),C=w==null?_:Ai(w),S=E==null?_:Ai(E),_=new P(T,x+"leave",w,n,p),_.target=C,_.relatedTarget=S,T=null,Br(p)===h&&(P=new P(b,x+"enter",E,n,p),P.target=S,P.relatedTarget=C,T=P),C=T,w&&E)t:{for(P=w,b=E,x=0,S=P;S;S=_i(S))x++;for(S=0,T=b;T;T=_i(T))S++;for(;0<x-S;)P=_i(P),x--;for(;0<S-x;)b=_i(b),S--;for(;x--;){if(P===b||b!==null&&P===b.alternate)break t;P=_i(P),b=_i(b)}P=null}else P=null;w!==null&&jm(m,_,w,P,!1),E!==null&&C!==null&&jm(m,C,E,P,!0)}}e:{if(_=h?Ai(h):window,w=_.nodeName&&_.nodeName.toLowerCase(),w==="select"||w==="input"&&_.type==="file")var A=z1;else if(Sm(_))if(gy)A=H1;else{A=B1;var M=F1}else(w=_.nodeName)&&w.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(A=U1);if(A&&(A=A(e,h))){my(m,A,n,p);break e}M&&M(e,_,h),e==="focusout"&&(M=_._wrapperState)&&M.controlled&&_.type==="number"&&rd(_,"number",_.value)}switch(M=h?Ai(h):window,e){case"focusin":(Sm(M)||M.contentEditable==="true")&&(Ni=M,md=h,to=null);break;case"focusout":to=md=Ni=null;break;case"mousedown":gd=!0;break;case"contextmenu":case"mouseup":case"dragend":gd=!1,Tm(m,n,p);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":Tm(m,n,p)}var O;if(Mh)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Li?fy(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(hy&&n.locale!=="ko"&&(Li||D!=="onCompositionStart"?D==="onCompositionEnd"&&Li&&(O=dy()):(ir=p,Oh="value"in ir?ir.value:ir.textContent,Li=!0)),M=hl(h,D),0<M.length&&(D=new _m(D,e,null,n,p),m.push({event:D,listeners:M}),O?D.data=O:(O=py(n),O!==null&&(D.data=O)))),(O=R1?I1(e,n):M1(e,n))&&(h=hl(h,"onBeforeInput"),0<h.length&&(p=new _m("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=O))}Py(m,t)})}function xo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=po(e,n),o!=null&&r.unshift(xo(e,o,s)),o=po(e,t),o!=null&&r.push(xo(e,o,s))),e=e.return}return r}function _i(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jm(e,t,n,r,s){for(var o=t._reactName,l=[];n!==null&&n!==r;){var c=n,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,s?(d=po(n,o),d!=null&&l.unshift(xo(n,d,c))):s||(d=po(n,o),d!=null&&l.push(xo(n,d,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Y1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function Am(e){return(typeof e=="string"?e:""+e).replace(Y1,`
`).replace(J1,"")}function Pa(e,t,n){if(t=Am(t),Am(e)!==t&&n)throw Error(B(425))}function fl(){}var vd=null,yd=null;function _d(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(e){return Om.resolve(null).then(e).catch(eS)}:wd;function eS(e){setTimeout(function(){throw e})}function yc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vo(t)}function cr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ls=Math.random().toString(36).slice(2),pn="__reactFiber$"+ls,bo="__reactProps$"+ls,zn="__reactContainer$"+ls,xd="__reactEvents$"+ls,tS="__reactListeners$"+ls,nS="__reactHandles$"+ls;function Br(e){var t=e[pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zn]||n[pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rm(e);e!==null;){if(n=e[pn])return n;e=Rm(e)}return t}e=n,n=e.parentNode}return null}function $o(e){return e=e[pn]||e[zn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ai(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Wl(e){return e[bo]||null}var bd=[],Oi=-1;function wr(e){return{current:e}}function Ee(e){0>Oi||(e.current=bd[Oi],bd[Oi]=null,Oi--)}function xe(e,t){Oi++,bd[Oi]=e.current,e.current=t}var gr={},ot=wr(gr),wt=wr(!1),Gr=gr;function Ji(e,t){var n=e.type.contextTypes;if(!n)return gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xt(e){return e=e.childContextTypes,e!=null}function pl(){Ee(wt),Ee(ot)}function Im(e,t,n){if(ot.current!==gr)throw Error(B(168));xe(ot,t),xe(wt,n)}function Ty(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(B(108,Fb(e)||"Unknown",s));return Ne({},n,r)}function ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gr,Gr=ot.current,xe(ot,e),xe(wt,wt.current),!0}function Mm(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Ty(e,t,Gr),r.__reactInternalMemoizedMergedChildContext=e,Ee(wt),Ee(ot),xe(ot,e)):Ee(wt),xe(wt,n)}var An=null,Zl=!1,_c=!1;function Ly(e){An===null?An=[e]:An.push(e)}function rS(e){Zl=!0,Ly(e)}function xr(){if(!_c&&An!==null){_c=!0;var e=0,t=ve;try{var n=An;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}An=null,Zl=!1}catch(s){throw An!==null&&(An=An.slice(e+1)),ey(Lh,xr),s}finally{ve=t,_c=!1}}return null}var Ri=[],Ii=0,gl=null,vl=0,Mt=[],$t=0,Yr=null,On=1,Rn="";function Mr(e,t){Ri[Ii++]=vl,Ri[Ii++]=gl,gl=e,vl=t}function Ny(e,t,n){Mt[$t++]=On,Mt[$t++]=Rn,Mt[$t++]=Yr,Yr=e;var r=On;e=Rn;var s=32-Xt(r)-1;r&=~(1<<s),n+=1;var o=32-Xt(t)+s;if(30<o){var l=s-s%5;o=(r&(1<<l)-1).toString(32),r>>=l,s-=l,On=1<<32-Xt(t)+s|n<<s|r,Rn=o+e}else On=1<<o|n<<s|r,Rn=e}function Dh(e){e.return!==null&&(Mr(e,1),Ny(e,1,0))}function zh(e){for(;e===gl;)gl=Ri[--Ii],Ri[Ii]=null,vl=Ri[--Ii],Ri[Ii]=null;for(;e===Yr;)Yr=Mt[--$t],Mt[$t]=null,Rn=Mt[--$t],Mt[$t]=null,On=Mt[--$t],Mt[$t]=null}var Pt=null,kt=null,ke=!1,Jt=null;function jy(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $m(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,kt=cr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yr!==null?{id:On,overflow:Rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,kt=null,!0):!1;default:return!1}}function Sd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ed(e){if(ke){var t=kt;if(t){var n=t;if(!$m(e,t)){if(Sd(e))throw Error(B(418));t=cr(n.nextSibling);var r=Pt;t&&$m(e,t)?jy(r,n):(e.flags=e.flags&-4097|2,ke=!1,Pt=e)}}else{if(Sd(e))throw Error(B(418));e.flags=e.flags&-4097|2,ke=!1,Pt=e}}}function Dm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function Ca(e){if(e!==Pt)return!1;if(!ke)return Dm(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_d(e.type,e.memoizedProps)),t&&(t=kt)){if(Sd(e))throw Ay(),Error(B(418));for(;t;)jy(e,t),t=cr(t.nextSibling)}if(Dm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=cr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=Pt?cr(e.stateNode.nextSibling):null;return!0}function Ay(){for(var e=kt;e;)e=cr(e.nextSibling)}function Qi(){kt=Pt=null,ke=!1}function Fh(e){Jt===null?Jt=[e]:Jt.push(e)}var iS=Hn.ReactCurrentBatchConfig;function $s(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=s.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Ta(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zm(e){var t=e._init;return t(e._payload)}function Oy(e){function t(b,x){if(e){var S=b.deletions;S===null?(b.deletions=[x],b.flags|=16):S.push(x)}}function n(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function s(b,x){return b=pr(b,x),b.index=0,b.sibling=null,b}function o(b,x,S){return b.index=S,e?(S=b.alternate,S!==null?(S=S.index,S<x?(b.flags|=2,x):S):(b.flags|=2,x)):(b.flags|=1048576,x)}function l(b){return e&&b.alternate===null&&(b.flags|=2),b}function c(b,x,S,T){return x===null||x.tag!==6?(x=Pc(S,b.mode,T),x.return=b,x):(x=s(x,S),x.return=b,x)}function d(b,x,S,T){var A=S.type;return A===Ti?p(b,x,S.props.children,T,S.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Xn&&zm(A)===x.type)?(T=s(x,S.props),T.ref=$s(b,x,S),T.return=b,T):(T=tl(S.type,S.key,S.props,null,b.mode,T),T.ref=$s(b,x,S),T.return=b,T)}function h(b,x,S,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Cc(S,b.mode,T),x.return=b,x):(x=s(x,S.children||[]),x.return=b,x)}function p(b,x,S,T,A){return x===null||x.tag!==7?(x=Kr(S,b.mode,T,A),x.return=b,x):(x=s(x,S),x.return=b,x)}function m(b,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pc(""+x,b.mode,S),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case va:return S=tl(x.type,x.key,x.props,null,b.mode,S),S.ref=$s(b,null,x),S.return=b,S;case Ci:return x=Cc(x,b.mode,S),x.return=b,x;case Xn:var T=x._init;return m(b,T(x._payload),S)}if(Ws(x)||As(x))return x=Kr(x,b.mode,S,null),x.return=b,x;Ta(b,x)}return null}function _(b,x,S,T){var A=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return A!==null?null:c(b,x,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case va:return S.key===A?d(b,x,S,T):null;case Ci:return S.key===A?h(b,x,S,T):null;case Xn:return A=S._init,_(b,x,A(S._payload),T)}if(Ws(S)||As(S))return A!==null?null:p(b,x,S,T,null);Ta(b,S)}return null}function w(b,x,S,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return b=b.get(S)||null,c(x,b,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case va:return b=b.get(T.key===null?S:T.key)||null,d(x,b,T,A);case Ci:return b=b.get(T.key===null?S:T.key)||null,h(x,b,T,A);case Xn:var M=T._init;return w(b,x,S,M(T._payload),A)}if(Ws(T)||As(T))return b=b.get(S)||null,p(x,b,T,A,null);Ta(x,T)}return null}function E(b,x,S,T){for(var A=null,M=null,O=x,D=x=0,W=null;O!==null&&D<S.length;D++){O.index>D?(W=O,O=null):W=O.sibling;var U=_(b,O,S[D],T);if(U===null){O===null&&(O=W);break}e&&O&&U.alternate===null&&t(b,O),x=o(U,x,D),M===null?A=U:M.sibling=U,M=U,O=W}if(D===S.length)return n(b,O),ke&&Mr(b,D),A;if(O===null){for(;D<S.length;D++)O=m(b,S[D],T),O!==null&&(x=o(O,x,D),M===null?A=O:M.sibling=O,M=O);return ke&&Mr(b,D),A}for(O=r(b,O);D<S.length;D++)W=w(O,b,D,S[D],T),W!==null&&(e&&W.alternate!==null&&O.delete(W.key===null?D:W.key),x=o(W,x,D),M===null?A=W:M.sibling=W,M=W);return e&&O.forEach(function(H){return t(b,H)}),ke&&Mr(b,D),A}function P(b,x,S,T){var A=As(S);if(typeof A!="function")throw Error(B(150));if(S=A.call(S),S==null)throw Error(B(151));for(var M=A=null,O=x,D=x=0,W=null,U=S.next();O!==null&&!U.done;D++,U=S.next()){O.index>D?(W=O,O=null):W=O.sibling;var H=_(b,O,U.value,T);if(H===null){O===null&&(O=W);break}e&&O&&H.alternate===null&&t(b,O),x=o(H,x,D),M===null?A=H:M.sibling=H,M=H,O=W}if(U.done)return n(b,O),ke&&Mr(b,D),A;if(O===null){for(;!U.done;D++,U=S.next())U=m(b,U.value,T),U!==null&&(x=o(U,x,D),M===null?A=U:M.sibling=U,M=U);return ke&&Mr(b,D),A}for(O=r(b,O);!U.done;D++,U=S.next())U=w(O,b,D,U.value,T),U!==null&&(e&&U.alternate!==null&&O.delete(U.key===null?D:U.key),x=o(U,x,D),M===null?A=U:M.sibling=U,M=U);return e&&O.forEach(function(ee){return t(b,ee)}),ke&&Mr(b,D),A}function C(b,x,S,T){if(typeof S=="object"&&S!==null&&S.type===Ti&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case va:e:{for(var A=S.key,M=x;M!==null;){if(M.key===A){if(A=S.type,A===Ti){if(M.tag===7){n(b,M.sibling),x=s(M,S.props.children),x.return=b,b=x;break e}}else if(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Xn&&zm(A)===M.type){n(b,M.sibling),x=s(M,S.props),x.ref=$s(b,M,S),x.return=b,b=x;break e}n(b,M);break}else t(b,M);M=M.sibling}S.type===Ti?(x=Kr(S.props.children,b.mode,T,S.key),x.return=b,b=x):(T=tl(S.type,S.key,S.props,null,b.mode,T),T.ref=$s(b,x,S),T.return=b,b=T)}return l(b);case Ci:e:{for(M=S.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(b,x.sibling),x=s(x,S.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else t(b,x);x=x.sibling}x=Cc(S,b.mode,T),x.return=b,b=x}return l(b);case Xn:return M=S._init,C(b,x,M(S._payload),T)}if(Ws(S))return E(b,x,S,T);if(As(S))return P(b,x,S,T);Ta(b,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(b,x.sibling),x=s(x,S),x.return=b,b=x):(n(b,x),x=Pc(S,b.mode,T),x.return=b,b=x),l(b)):n(b,x)}return C}var Xi=Oy(!0),Ry=Oy(!1),yl=wr(null),_l=null,Mi=null,Bh=null;function Uh(){Bh=Mi=_l=null}function Hh(e){var t=yl.current;Ee(yl),e._currentValue=t}function kd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wi(e,t){_l=e,Bh=Mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_t=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(Bh!==e)if(e={context:e,memoizedValue:t,next:null},Mi===null){if(_l===null)throw Error(B(308));Mi=e,_l.dependencies={lanes:0,firstContext:e}}else Mi=Mi.next=e;return t}var Ur=null;function Wh(e){Ur===null?Ur=[e]:Ur.push(e)}function Iy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Wh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Fn(e,r)}function Fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var er=!1;function Zh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function My(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Fn(e,n)}return s=r.interleaved,s===null?(t.next=t,Wh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Fn(e,n)}function Ga(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nh(e,n)}}function Fm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wl(e,t,n,r){var s=e.updateQueue;er=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,h=d.next;d.next=null,l===null?o=h:l.next=h,l=d;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==l&&(c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=d))}if(o!==null){var m=s.baseState;l=0,p=h=d=null,c=o;do{var _=c.lane,w=c.eventTime;if((r&_)===_){p!==null&&(p=p.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var E=e,P=c;switch(_=t,w=n,P.tag){case 1:if(E=P.payload,typeof E=="function"){m=E.call(w,m,_);break e}m=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=P.payload,_=typeof E=="function"?E.call(w,m,_):E,_==null)break e;m=Ne({},m,_);break e;case 2:er=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,_=s.effects,_===null?s.effects=[c]:_.push(c))}else w={eventTime:w,lane:_,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(h=p=w,d=m):p=p.next=w,l|=_;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;_=c,c=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);if(p===null&&(d=m),s.baseState=d,s.firstBaseUpdate=h,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Qr|=l,e.lanes=l,e.memoizedState=m}}function Bm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Do={},vn=wr(Do),So=wr(Do),Eo=wr(Do);function Hr(e){if(e===Do)throw Error(B(174));return e}function Vh(e,t){switch(xe(Eo,t),xe(So,e),xe(vn,Do),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sd(t,e)}Ee(vn),xe(vn,t)}function es(){Ee(vn),Ee(So),Ee(Eo)}function $y(e){Hr(Eo.current);var t=Hr(vn.current),n=sd(t,e.type);t!==n&&(xe(So,e),xe(vn,n))}function qh(e){So.current===e&&(Ee(vn),Ee(So))}var Ce=wr(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wc=[];function Kh(){for(var e=0;e<wc.length;e++)wc[e]._workInProgressVersionPrimary=null;wc.length=0}var Ya=Hn.ReactCurrentDispatcher,xc=Hn.ReactCurrentBatchConfig,Jr=0,Te=null,He=null,Ve=null,bl=!1,no=!1,ko=0,sS=0;function tt(){throw Error(B(321))}function Gh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Yh(e,t,n,r,s,o){if(Jr=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=e===null||e.memoizedState===null?uS:cS,e=n(r,s),no){o=0;do{if(no=!1,ko=0,25<=o)throw Error(B(301));o+=1,Ve=He=null,t.updateQueue=null,Ya.current=dS,e=n(r,s)}while(no)}if(Ya.current=Sl,t=He!==null&&He.next!==null,Jr=0,Ve=He=Te=null,bl=!1,t)throw Error(B(300));return e}function Jh(){var e=ko!==0;return ko=0,e}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Te.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Bt(){if(He===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ve===null?Te.memoizedState:Ve.next;if(t!==null)Ve=t,He=e;else{if(e===null)throw Error(B(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ve===null?Te.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Po(e,t){return typeof t=="function"?t(e):t}function bc(e){var t=Bt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=He,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var c=l=null,d=null,h=o;do{var p=h.lane;if((Jr&p)===p)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=m,l=r):d=d.next=m,Te.lanes|=p,Qr|=p}h=h.next}while(h!==null&&h!==o);d===null?l=r:d.next=c,tn(r,t.memoizedState)||(_t=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Te.lanes|=o,Qr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sc(e){var t=Bt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=e(o,l.action),l=l.next;while(l!==s);tn(o,t.memoizedState)||(_t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Dy(){}function zy(e,t){var n=Te,r=Bt(),s=t(),o=!tn(r.memoizedState,s);if(o&&(r.memoizedState=s,_t=!0),r=r.queue,Qh(Uy.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Co(9,By.bind(null,n,r,s,t),void 0,null),qe===null)throw Error(B(349));Jr&30||Fy(n,t,s)}return s}function Fy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function By(e,t,n,r){t.value=n,t.getSnapshot=r,Hy(t)&&Wy(e)}function Uy(e,t,n){return n(function(){Hy(t)&&Wy(e)})}function Hy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tn(e,n)}catch{return!0}}function Wy(e){var t=Fn(e,1);t!==null&&en(t,e,1,-1)}function Um(e){var t=dn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=lS.bind(null,Te,e),[t.memoizedState,e]}function Co(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zy(){return Bt().memoizedState}function Ja(e,t,n,r){var s=dn();Te.flags|=e,s.memoizedState=Co(1|t,n,void 0,r===void 0?null:r)}function Vl(e,t,n,r){var s=Bt();r=r===void 0?null:r;var o=void 0;if(He!==null){var l=He.memoizedState;if(o=l.destroy,r!==null&&Gh(r,l.deps)){s.memoizedState=Co(t,n,o,r);return}}Te.flags|=e,s.memoizedState=Co(1|t,n,o,r)}function Hm(e,t){return Ja(8390656,8,e,t)}function Qh(e,t){return Vl(2048,8,e,t)}function Vy(e,t){return Vl(4,2,e,t)}function qy(e,t){return Vl(4,4,e,t)}function Ky(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gy(e,t,n){return n=n!=null?n.concat([e]):null,Vl(4,4,Ky.bind(null,t,e),n)}function Xh(){}function Yy(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jy(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qy(e,t,n){return Jr&21?(tn(n,t)||(n=ry(),Te.lanes|=n,Qr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=n)}function oS(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=xc.transition;xc.transition={};try{e(!1),t()}finally{ve=n,xc.transition=r}}function Xy(){return Bt().memoizedState}function aS(e,t,n){var r=fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},e_(e))t_(t,n);else if(n=Iy(e,t,n,r),n!==null){var s=dt();en(n,e,r,s),n_(n,t,r)}}function lS(e,t,n){var r=fr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(e_(e))t_(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,n);if(s.hasEagerState=!0,s.eagerState=c,tn(c,l)){var d=t.interleaved;d===null?(s.next=s,Wh(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}n=Iy(e,t,s,r),n!==null&&(s=dt(),en(n,e,r,s),n_(n,t,r))}}function e_(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function t_(e,t){no=bl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function n_(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nh(e,n)}}var Sl={readContext:Ft,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},uS={readContext:Ft,useCallback:function(e,t){return dn().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:Hm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ja(4194308,4,Ky.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ja(4,2,e,t)},useMemo:function(e,t){var n=dn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=aS.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=dn();return e={current:e},t.memoizedState=e},useState:Um,useDebugValue:Xh,useDeferredValue:function(e){return dn().memoizedState=e},useTransition:function(){var e=Um(!1),t=e[0];return e=oS.bind(null,e[1]),dn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,s=dn();if(ke){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),qe===null)throw Error(B(349));Jr&30||Fy(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Hm(Uy.bind(null,r,o,e),[e]),r.flags|=2048,Co(9,By.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=dn(),t=qe.identifierPrefix;if(ke){var n=Rn,r=On;n=(r&~(1<<32-Xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cS={readContext:Ft,useCallback:Yy,useContext:Ft,useEffect:Qh,useImperativeHandle:Gy,useInsertionEffect:Vy,useLayoutEffect:qy,useMemo:Jy,useReducer:bc,useRef:Zy,useState:function(){return bc(Po)},useDebugValue:Xh,useDeferredValue:function(e){var t=Bt();return Qy(t,He.memoizedState,e)},useTransition:function(){var e=bc(Po)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:Dy,useSyncExternalStore:zy,useId:Xy,unstable_isNewReconciler:!1},dS={readContext:Ft,useCallback:Yy,useContext:Ft,useEffect:Qh,useImperativeHandle:Gy,useInsertionEffect:Vy,useLayoutEffect:qy,useMemo:Jy,useReducer:Sc,useRef:Zy,useState:function(){return Sc(Po)},useDebugValue:Xh,useDeferredValue:function(e){var t=Bt();return He===null?t.memoizedState=e:Qy(t,He.memoizedState,e)},useTransition:function(){var e=Sc(Po)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:Dy,useSyncExternalStore:zy,useId:Xy,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Pd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ql={isMounted:function(e){return(e=e._reactInternals)?si(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),s=fr(e),o=Mn(r,s);o.payload=t,n!=null&&(o.callback=n),t=dr(e,o,s),t!==null&&(en(t,e,s,r),Ga(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),s=fr(e),o=Mn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=dr(e,o,s),t!==null&&(en(t,e,s,r),Ga(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=fr(e),s=Mn(n,r);s.tag=2,t!=null&&(s.callback=t),t=dr(e,s,r),t!==null&&(en(t,e,r,n),Ga(t,e,r))}};function Wm(e,t,n,r,s,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!_o(n,r)||!_o(s,o):!0}function r_(e,t,n){var r=!1,s=gr,o=t.contextType;return typeof o=="object"&&o!==null?o=Ft(o):(s=xt(t)?Gr:ot.current,r=t.contextTypes,o=(r=r!=null)?Ji(e,s):gr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ql,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Zm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ql.enqueueReplaceState(t,t.state,null)}function Cd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Zh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ft(o):(o=xt(t)?Gr:ot.current,s.context=Ji(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Pd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ql.enqueueReplaceState(s,s.state,null),wl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var n="",r=t;do n+=zb(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Ec(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Td(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hS=typeof WeakMap=="function"?WeakMap:Map;function i_(e,t,n){n=Mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kl||(kl=!0,Dd=r),Td(e,t)},n}function s_(e,t,n){n=Mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Td(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Td(e,t),typeof r!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Vm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hS;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=PS.bind(null,e,t,n),t.then(e,e))}function qm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Km(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mn(-1,1),t.tag=2,dr(n,t,1))),n.lanes|=1),e)}var fS=Hn.ReactCurrentOwner,_t=!1;function ut(e,t,n,r){t.child=e===null?Ry(t,null,n,r):Xi(t,e.child,n,r)}function Gm(e,t,n,r,s){n=n.render;var o=t.ref;return Wi(t,s),r=Yh(e,t,n,r,o,s),n=Jh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(ke&&n&&Dh(t),t.flags|=1,ut(e,t,r,s),t.child)}function Ym(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!lf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,o_(e,t,o,r,s)):(e=tl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(l,r)&&e.ref===t.ref)return Bn(e,t,s)}return t.flags|=1,e=pr(o,r),e.ref=t.ref,e.return=t,t.child=e}function o_(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(_o(o,r)&&e.ref===t.ref)if(_t=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(_t=!0);else return t.lanes=e.lanes,Bn(e,t,s)}return Ld(e,t,n,r,s)}function a_(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Di,Et),Et|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Di,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xe(Di,Et),Et|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,xe(Di,Et),Et|=r;return ut(e,t,s,n),t.child}function l_(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ld(e,t,n,r,s){var o=xt(n)?Gr:ot.current;return o=Ji(t,o),Wi(t,s),n=Yh(e,t,n,r,o,s),r=Jh(),e!==null&&!_t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bn(e,t,s)):(ke&&r&&Dh(t),t.flags|=1,ut(e,t,n,s),t.child)}function Jm(e,t,n,r,s){if(xt(n)){var o=!0;ml(t)}else o=!1;if(Wi(t,s),t.stateNode===null)Qa(e,t),r_(t,n,r),Cd(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var d=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ft(h):(h=xt(n)?Gr:ot.current,h=Ji(t,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||d!==h)&&Zm(t,l,r,h),er=!1;var _=t.memoizedState;l.state=_,wl(t,r,l,s),d=t.memoizedState,c!==r||_!==d||wt.current||er?(typeof p=="function"&&(Pd(t,n,p,r),d=t.memoizedState),(c=er||Wm(t,n,c,r,_,d,h))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),l.props=r,l.state=d,l.context=h,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,My(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:Kt(t.type,c),l.props=h,m=t.pendingProps,_=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Ft(d):(d=xt(n)?Gr:ot.current,d=Ji(t,d));var w=n.getDerivedStateFromProps;(p=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==m||_!==d)&&Zm(t,l,r,d),er=!1,_=t.memoizedState,l.state=_,wl(t,r,l,s);var E=t.memoizedState;c!==m||_!==E||wt.current||er?(typeof w=="function"&&(Pd(t,n,w,r),E=t.memoizedState),(h=er||Wm(t,n,h,r,_,E,d)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,E,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,E,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=E),l.props=r,l.state=E,l.context=d,r=h):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return Nd(e,t,n,r,o,s)}function Nd(e,t,n,r,s,o){l_(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Mm(t,n,!1),Bn(e,t,o);r=t.stateNode,fS.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Xi(t,e.child,null,o),t.child=Xi(t,null,c,o)):ut(e,t,c,o),t.memoizedState=r.state,s&&Mm(t,n,!0),t.child}function u_(e){var t=e.stateNode;t.pendingContext?Im(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Im(e,t.context,!1),Vh(e,t.containerInfo)}function Qm(e,t,n,r,s){return Qi(),Fh(s),t.flags|=256,ut(e,t,n,r),t.child}var jd={dehydrated:null,treeContext:null,retryLane:0};function Ad(e){return{baseLanes:e,cachePool:null,transitions:null}}function c_(e,t,n){var r=t.pendingProps,s=Ce.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xe(Ce,s&1),e===null)return Ed(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Yl(l,r,0,null),e=Kr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ad(n),t.memoizedState=jd,e):ef(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return pS(e,t,l,r,c,s,n);if(o){o=r.fallback,l=t.mode,s=e.child,c=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=pr(s,d),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?o=pr(c,o):(o=Kr(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Ad(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=jd,r}return o=e.child,e=o.sibling,r=pr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ef(e,t){return t=Yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function La(e,t,n,r){return r!==null&&Fh(r),Xi(t,e.child,null,n),e=ef(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pS(e,t,n,r,s,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Ec(Error(B(422))),La(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Yl({mode:"visible",children:r.children},s,0,null),o=Kr(o,s,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Xi(t,e.child,null,l),t.child.memoizedState=Ad(l),t.memoizedState=jd,o);if(!(t.mode&1))return La(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(B(419)),r=Ec(o,r,void 0),La(e,t,l,r)}if(c=(l&e.childLanes)!==0,_t||c){if(r=qe,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Fn(e,s),en(r,e,s,-1))}return af(),r=Ec(Error(B(421))),La(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=CS.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,kt=cr(s.nextSibling),Pt=t,ke=!0,Jt=null,e!==null&&(Mt[$t++]=On,Mt[$t++]=Rn,Mt[$t++]=Yr,On=e.id,Rn=e.overflow,Yr=t),t=ef(t,r.children),t.flags|=4096,t)}function Xm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kd(e.return,t,n)}function kc(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function d_(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ut(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xm(e,n,t);else if(e.tag===19)Xm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),kc(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&xl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}kc(t,!0,n,null,o);break;case"together":kc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=pr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mS(e,t,n){switch(t.tag){case 3:u_(t),Qi();break;case 5:$y(t);break;case 1:xt(t.type)&&ml(t);break;case 4:Vh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xe(yl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?c_(e,t,n):(xe(Ce,Ce.current&1),e=Bn(e,t,n),e!==null?e.sibling:null);xe(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return d_(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,a_(e,t,n)}return Bn(e,t,n)}var h_,Od,f_,p_;h_=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Od=function(){};f_=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Hr(vn.current);var o=null;switch(n){case"input":s=td(e,s),r=td(e,r),o=[];break;case"select":s=Ne({},s,{value:void 0}),r=Ne({},r,{value:void 0}),o=[];break;case"textarea":s=id(e,s),r=id(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fl)}od(n,r);var l;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ho.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var d=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(o=o||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ho.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Se("scroll",e),o||c===d||(o=[])):(o=o||[]).push(h,d))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};p_=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ds(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gS(e,t,n){var r=t.pendingProps;switch(zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return xt(t.type)&&pl(),nt(t),null;case 3:return r=t.stateNode,es(),Ee(wt),Ee(ot),Kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(Bd(Jt),Jt=null))),Od(e,t),nt(t),null;case 5:qh(t);var s=Hr(Eo.current);if(n=t.type,e!==null&&t.stateNode!=null)f_(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return nt(t),null}if(e=Hr(vn.current),Ca(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[pn]=t,r[bo]=o,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<Vs.length;s++)Se(Vs[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":lm(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":cm(r,o),Se("invalid",r)}od(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Pa(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Pa(r.textContent,c,e),s=["children",""+c]):ho.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Se("scroll",r)}switch(n){case"input":ya(r),um(r,o,!0);break;case"textarea":ya(r),dm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=fl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pn]=t,e[bo]=r,h_(e,t,!1,!1),t.stateNode=e;e:{switch(l=ad(n,r),n){case"dialog":Se("cancel",e),Se("close",e),s=r;break;case"iframe":case"object":case"embed":Se("load",e),s=r;break;case"video":case"audio":for(s=0;s<Vs.length;s++)Se(Vs[s],e);s=r;break;case"source":Se("error",e),s=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),s=r;break;case"details":Se("toggle",e),s=r;break;case"input":lm(e,r),s=td(e,r),Se("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ne({},r,{value:void 0}),Se("invalid",e);break;case"textarea":cm(e,r),s=id(e,r),Se("invalid",e);break;default:s=r}od(n,s),c=s;for(o in c)if(c.hasOwnProperty(o)){var d=c[o];o==="style"?Zv(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Hv(e,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&fo(e,d):typeof d=="number"&&fo(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ho.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Se("scroll",e):d!=null&&Eh(e,o,d,l))}switch(n){case"input":ya(e),um(e,r,!1);break;case"textarea":ya(e),dm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Fi(e,!!r.multiple,o,!1):r.defaultValue!=null&&Fi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)p_(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Hr(Eo.current),Hr(vn.current),Ca(t)){if(r=t.stateNode,n=t.memoizedProps,r[pn]=t,(o=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:Pa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pn]=t,t.stateNode=r}return nt(t),null;case 13:if(Ee(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&kt!==null&&t.mode&1&&!(t.flags&128))Ay(),Qi(),t.flags|=98560,o=!1;else if(o=Ca(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[pn]=t}else Qi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),o=!1}else Jt!==null&&(Bd(Jt),Jt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?We===0&&(We=3):af())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return es(),Od(e,t),e===null&&wo(t.stateNode.containerInfo),nt(t),null;case 10:return Hh(t.type._context),nt(t),null;case 17:return xt(t.type)&&pl(),nt(t),null;case 19:if(Ee(Ce),o=t.memoizedState,o===null)return nt(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Ds(o,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=xl(e),l!==null){for(t.flags|=128,Ds(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Ce,Ce.current&1|2),t.child}e=e.sibling}o.tail!==null&&Me()>ns&&(t.flags|=128,r=!0,Ds(o,!1),t.lanes=4194304)}else{if(!r)if(e=xl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ds(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ke)return nt(t),null}else 2*Me()-o.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,Ds(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Me(),t.sibling=null,n=Ce.current,xe(Ce,r?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return of(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function vS(e,t){switch(zh(t),t.tag){case 1:return xt(t.type)&&pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),Ee(wt),Ee(ot),Kh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qh(t),null;case 13:if(Ee(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Ce),null;case 4:return es(),null;case 10:return Hh(t.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Na=!1,it=!1,yS=typeof WeakSet=="function"?WeakSet:Set,q=null;function $i(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function Rd(e,t,n){try{n()}catch(r){je(e,t,r)}}var eg=!1;function _S(e,t){if(vd=cl,e=_y(),$h(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,d=-1,h=0,p=0,m=e,_=null;t:for(;;){for(var w;m!==n||s!==0&&m.nodeType!==3||(c=l+s),m!==o||r!==0&&m.nodeType!==3||(d=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(w=m.firstChild)!==null;)_=m,m=w;for(;;){if(m===e)break t;if(_===n&&++h===s&&(c=l),_===o&&++p===r&&(d=l),(w=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=w}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},cl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var E=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var P=E.memoizedProps,C=E.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?P:Kt(t.type,P),C);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(T){je(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return E=eg,eg=!1,E}function ro(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Rd(t,n,o)}s=s.next}while(s!==r)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Id(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function m_(e){var t=e.alternate;t!==null&&(e.alternate=null,m_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pn],delete t[bo],delete t[xd],delete t[tS],delete t[nS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function g_(e){return e.tag===5||e.tag===3||e.tag===4}function tg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||g_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Md(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(r!==4&&(e=e.child,e!==null))for(Md(e,t,n),e=e.sibling;e!==null;)Md(e,t,n),e=e.sibling}function $d(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($d(e,t,n),e=e.sibling;e!==null;)$d(e,t,n),e=e.sibling}var Ye=null,Gt=!1;function Gn(e,t,n){for(n=n.child;n!==null;)v_(e,t,n),n=n.sibling}function v_(e,t,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Fl,n)}catch{}switch(n.tag){case 5:it||$i(n,t);case 6:var r=Ye,s=Gt;Ye=null,Gn(e,t,n),Ye=r,Gt=s,Ye!==null&&(Gt?(e=Ye,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(Gt?(e=Ye,n=n.stateNode,e.nodeType===8?yc(e.parentNode,n):e.nodeType===1&&yc(e,n),vo(e)):yc(Ye,n.stateNode));break;case 4:r=Ye,s=Gt,Ye=n.stateNode.containerInfo,Gt=!0,Gn(e,t,n),Ye=r,Gt=s;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Rd(n,t,l),s=s.next}while(s!==r)}Gn(e,t,n);break;case 1:if(!it&&($i(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){je(n,t,c)}Gn(e,t,n);break;case 21:Gn(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Gn(e,t,n),it=r):Gn(e,t,n);break;default:Gn(e,t,n)}}function ng(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yS),t.forEach(function(r){var s=TS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ye=c.stateNode,Gt=!1;break e;case 3:Ye=c.stateNode.containerInfo,Gt=!0;break e;case 4:Ye=c.stateNode.containerInfo,Gt=!0;break e}c=c.return}if(Ye===null)throw Error(B(160));v_(o,l,s),Ye=null,Gt=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(h){je(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)y_(t,e),t=t.sibling}function y_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vt(t,e),un(e),r&4){try{ro(3,e,e.return),Kl(3,e)}catch(P){je(e,e.return,P)}try{ro(5,e,e.return)}catch(P){je(e,e.return,P)}}break;case 1:Vt(t,e),un(e),r&512&&n!==null&&$i(n,n.return);break;case 5:if(Vt(t,e),un(e),r&512&&n!==null&&$i(n,n.return),e.flags&32){var s=e.stateNode;try{fo(s,"")}catch(P){je(e,e.return,P)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Fv(s,o),ad(c,l);var h=ad(c,o);for(l=0;l<d.length;l+=2){var p=d[l],m=d[l+1];p==="style"?Zv(s,m):p==="dangerouslySetInnerHTML"?Hv(s,m):p==="children"?fo(s,m):Eh(s,p,m,h)}switch(c){case"input":nd(s,o);break;case"textarea":Bv(s,o);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Fi(s,!!o.multiple,w,!1):_!==!!o.multiple&&(o.defaultValue!=null?Fi(s,!!o.multiple,o.defaultValue,!0):Fi(s,!!o.multiple,o.multiple?[]:"",!1))}s[bo]=o}catch(P){je(e,e.return,P)}}break;case 6:if(Vt(t,e),un(e),r&4){if(e.stateNode===null)throw Error(B(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(P){je(e,e.return,P)}}break;case 3:if(Vt(t,e),un(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(t.containerInfo)}catch(P){je(e,e.return,P)}break;case 4:Vt(t,e),un(e);break;case 13:Vt(t,e),un(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(rf=Me())),r&4&&ng(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(it=(h=it)||p,Vt(t,e),it=h):Vt(t,e),un(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(q=e,p=e.child;p!==null;){for(m=q=p;q!==null;){switch(_=q,w=_.child,_.tag){case 0:case 11:case 14:case 15:ro(4,_,_.return);break;case 1:$i(_,_.return);var E=_.stateNode;if(typeof E.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,E.props=t.memoizedProps,E.state=t.memoizedState,E.componentWillUnmount()}catch(P){je(r,n,P)}}break;case 5:$i(_,_.return);break;case 22:if(_.memoizedState!==null){ig(m);continue}}w!==null?(w.return=_,q=w):ig(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Wv("display",l))}catch(P){je(e,e.return,P)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(P){je(e,e.return,P)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Vt(t,e),un(e),r&4&&ng(e);break;case 21:break;default:Vt(t,e),un(e)}}function un(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(g_(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fo(s,""),r.flags&=-33);var o=tg(e);$d(e,o,s);break;case 3:case 4:var l=r.stateNode.containerInfo,c=tg(e);Md(e,c,l);break;default:throw Error(B(161))}}catch(d){je(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wS(e,t,n){q=e,__(e)}function __(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,o=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Na;if(!l){var c=s.alternate,d=c!==null&&c.memoizedState!==null||it;c=Na;var h=it;if(Na=l,(it=d)&&!h)for(q=s;q!==null;)l=q,d=l.child,l.tag===22&&l.memoizedState!==null?sg(s):d!==null?(d.return=l,q=d):sg(s);for(;o!==null;)q=o,__(o),o=o.sibling;q=s,Na=c,it=h}rg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,q=o):rg(e)}}function rg(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Kl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Kt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Bm(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bm(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&vo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}it||t.flags&512&&Id(t)}catch(_){je(t,t.return,_)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function ig(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function sg(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kl(4,t)}catch(d){je(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(d){je(t,s,d)}}var o=t.return;try{Id(t)}catch(d){je(t,o,d)}break;case 5:var l=t.return;try{Id(t)}catch(d){je(t,l,d)}}}catch(d){je(t,t.return,d)}if(t===e){q=null;break}var c=t.sibling;if(c!==null){c.return=t.return,q=c;break}q=t.return}}var xS=Math.ceil,El=Hn.ReactCurrentDispatcher,tf=Hn.ReactCurrentOwner,zt=Hn.ReactCurrentBatchConfig,pe=0,qe=null,Fe=null,Xe=0,Et=0,Di=wr(0),We=0,To=null,Qr=0,Gl=0,nf=0,io=null,vt=null,rf=0,ns=1/0,Nn=null,kl=!1,Dd=null,hr=null,ja=!1,sr=null,Pl=0,so=0,zd=null,Xa=-1,el=0;function dt(){return pe&6?Me():Xa!==-1?Xa:Xa=Me()}function fr(e){return e.mode&1?pe&2&&Xe!==0?Xe&-Xe:iS.transition!==null?(el===0&&(el=ry()),el):(e=ve,e!==0||(e=window.event,e=e===void 0?16:cy(e.type)),e):1}function en(e,t,n,r){if(50<so)throw so=0,zd=null,Error(B(185));Io(e,n,r),(!(pe&2)||e!==qe)&&(e===qe&&(!(pe&2)&&(Gl|=n),We===4&&nr(e,Xe)),bt(e,r),n===1&&pe===0&&!(t.mode&1)&&(ns=Me()+500,Zl&&xr()))}function bt(e,t){var n=e.callbackNode;i1(e,t);var r=ul(e,e===qe?Xe:0);if(r===0)n!==null&&pm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pm(n),t===1)e.tag===0?rS(og.bind(null,e)):Ly(og.bind(null,e)),X1(function(){!(pe&6)&&xr()}),n=null;else{switch(iy(r)){case 1:n=Lh;break;case 4:n=ty;break;case 16:n=ll;break;case 536870912:n=ny;break;default:n=ll}n=C_(n,w_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function w_(e,t){if(Xa=-1,el=0,pe&6)throw Error(B(327));var n=e.callbackNode;if(Zi()&&e.callbackNode!==n)return null;var r=ul(e,e===qe?Xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cl(e,r);else{t=r;var s=pe;pe|=2;var o=b_();(qe!==e||Xe!==t)&&(Nn=null,ns=Me()+500,qr(e,t));do try{ES();break}catch(c){x_(e,c)}while(!0);Uh(),El.current=o,pe=s,Fe!==null?t=0:(qe=null,Xe=0,t=We)}if(t!==0){if(t===2&&(s=hd(e),s!==0&&(r=s,t=Fd(e,s))),t===1)throw n=To,qr(e,0),nr(e,r),bt(e,Me()),n;if(t===6)nr(e,r);else{if(s=e.current.alternate,!(r&30)&&!bS(s)&&(t=Cl(e,r),t===2&&(o=hd(e),o!==0&&(r=o,t=Fd(e,o))),t===1))throw n=To,qr(e,0),nr(e,r),bt(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:$r(e,vt,Nn);break;case 3:if(nr(e,r),(r&130023424)===r&&(t=rf+500-Me(),10<t)){if(ul(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wd($r.bind(null,e,vt,Nn),t);break}$r(e,vt,Nn);break;case 4:if(nr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Xt(r);o=1<<l,l=t[l],l>s&&(s=l),r&=~o}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xS(r/1960))-r,10<r){e.timeoutHandle=wd($r.bind(null,e,vt,Nn),r);break}$r(e,vt,Nn);break;case 5:$r(e,vt,Nn);break;default:throw Error(B(329))}}}return bt(e,Me()),e.callbackNode===n?w_.bind(null,e):null}function Fd(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(qr(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=vt,vt=n,t!==null&&Bd(t)),e}function Bd(e){vt===null?vt=e:vt.push.apply(vt,e)}function bS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!tn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nr(e,t){for(t&=~nf,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xt(t),r=1<<n;e[n]=-1,t&=~r}}function og(e){if(pe&6)throw Error(B(327));Zi();var t=ul(e,0);if(!(t&1))return bt(e,Me()),null;var n=Cl(e,t);if(e.tag!==0&&n===2){var r=hd(e);r!==0&&(t=r,n=Fd(e,r))}if(n===1)throw n=To,qr(e,0),nr(e,t),bt(e,Me()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,vt,Nn),bt(e,Me()),null}function sf(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(ns=Me()+500,Zl&&xr())}}function Xr(e){sr!==null&&sr.tag===0&&!(pe&6)&&Zi();var t=pe;pe|=1;var n=zt.transition,r=ve;try{if(zt.transition=null,ve=1,e)return e()}finally{ve=r,zt.transition=n,pe=t,!(pe&6)&&xr()}}function of(){Et=Di.current,Ee(Di)}function qr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Q1(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pl();break;case 3:es(),Ee(wt),Ee(ot),Kh();break;case 5:qh(r);break;case 4:es();break;case 13:Ee(Ce);break;case 19:Ee(Ce);break;case 10:Hh(r.type._context);break;case 22:case 23:of()}n=n.return}if(qe=e,Fe=e=pr(e.current,null),Xe=Et=t,We=0,To=null,nf=Gl=Qr=0,vt=io=null,Ur!==null){for(t=0;t<Ur.length;t++)if(n=Ur[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,r.next=l}n.pending=r}Ur=null}return e}function x_(e,t){do{var n=Fe;try{if(Uh(),Ya.current=Sl,bl){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bl=!1}if(Jr=0,Ve=He=Te=null,no=!1,ko=0,tf.current=null,n===null||n.return===null){We=1,To=t,Fe=null;break}e:{var o=e,l=n.return,c=n,d=t;if(t=Xe,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,p=c,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var w=qm(l);if(w!==null){w.flags&=-257,Km(w,l,c,o,t),w.mode&1&&Vm(o,h,t),t=w,d=h;var E=t.updateQueue;if(E===null){var P=new Set;P.add(d),t.updateQueue=P}else E.add(d);break e}else{if(!(t&1)){Vm(o,h,t),af();break e}d=Error(B(426))}}else if(ke&&c.mode&1){var C=qm(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Km(C,l,c,o,t),Fh(ts(d,c));break e}}o=d=ts(d,c),We!==4&&(We=2),io===null?io=[o]:io.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=i_(o,d,t);Fm(o,b);break e;case 1:c=d;var x=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(hr===null||!hr.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=s_(o,c,t);Fm(o,T);break e}}o=o.return}while(o!==null)}E_(n)}catch(A){t=A,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function b_(){var e=El.current;return El.current=Sl,e===null?Sl:e}function af(){(We===0||We===3||We===2)&&(We=4),qe===null||!(Qr&268435455)&&!(Gl&268435455)||nr(qe,Xe)}function Cl(e,t){var n=pe;pe|=2;var r=b_();(qe!==e||Xe!==t)&&(Nn=null,qr(e,t));do try{SS();break}catch(s){x_(e,s)}while(!0);if(Uh(),pe=n,El.current=r,Fe!==null)throw Error(B(261));return qe=null,Xe=0,We}function SS(){for(;Fe!==null;)S_(Fe)}function ES(){for(;Fe!==null&&!Gb();)S_(Fe)}function S_(e){var t=P_(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?E_(e):Fe=t,tf.current=null}function E_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vS(n,t),n!==null){n.flags&=32767,Fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Fe=null;return}}else if(n=gS(n,t,Et),n!==null){Fe=n;return}if(t=t.sibling,t!==null){Fe=t;return}Fe=t=e}while(t!==null);We===0&&(We=5)}function $r(e,t,n){var r=ve,s=zt.transition;try{zt.transition=null,ve=1,kS(e,t,n,r)}finally{zt.transition=s,ve=r}return null}function kS(e,t,n,r){do Zi();while(sr!==null);if(pe&6)throw Error(B(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(s1(e,o),e===qe&&(Fe=qe=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ja||(ja=!0,C_(ll,function(){return Zi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zt.transition,zt.transition=null;var l=ve;ve=1;var c=pe;pe|=4,tf.current=null,_S(e,n),y_(n,e),Z1(yd),cl=!!vd,yd=vd=null,e.current=n,wS(n),Yb(),pe=c,ve=l,zt.transition=o}else e.current=n;if(ja&&(ja=!1,sr=e,Pl=s),o=e.pendingLanes,o===0&&(hr=null),Xb(n.stateNode),bt(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kl)throw kl=!1,e=Dd,Dd=null,e;return Pl&1&&e.tag!==0&&Zi(),o=e.pendingLanes,o&1?e===zd?so++:(so=0,zd=e):so=0,xr(),null}function Zi(){if(sr!==null){var e=iy(Pl),t=zt.transition,n=ve;try{if(zt.transition=null,ve=16>e?16:e,sr===null)var r=!1;else{if(e=sr,sr=null,Pl=0,pe&6)throw Error(B(331));var s=pe;for(pe|=4,q=e.current;q!==null;){var o=q,l=o.child;if(q.flags&16){var c=o.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(q=h;q!==null;){var p=q;switch(p.tag){case 0:case 11:case 15:ro(8,p,o)}var m=p.child;if(m!==null)m.return=p,q=m;else for(;q!==null;){p=q;var _=p.sibling,w=p.return;if(m_(p),p===h){q=null;break}if(_!==null){_.return=w,q=_;break}q=w}}}var E=o.alternate;if(E!==null){var P=E.child;if(P!==null){E.child=null;do{var C=P.sibling;P.sibling=null,P=C}while(P!==null)}}q=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,q=l;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ro(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,q=b;break e}q=o.return}}var x=e.current;for(q=x;q!==null;){l=q;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,q=S;else e:for(l=x;q!==null;){if(c=q,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Kl(9,c)}}catch(A){je(c,c.return,A)}if(c===l){q=null;break e}var T=c.sibling;if(T!==null){T.return=c.return,q=T;break e}q=c.return}}if(pe=s,xr(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Fl,e)}catch{}r=!0}return r}finally{ve=n,zt.transition=t}}return!1}function ag(e,t,n){t=ts(n,t),t=i_(e,t,1),e=dr(e,t,1),t=dt(),e!==null&&(Io(e,1,t),bt(e,t))}function je(e,t,n){if(e.tag===3)ag(e,e,n);else for(;t!==null;){if(t.tag===3){ag(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hr===null||!hr.has(r))){e=ts(n,e),e=s_(t,e,1),t=dr(t,e,1),e=dt(),t!==null&&(Io(t,1,e),bt(t,e));break}}t=t.return}}function PS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,qe===e&&(Xe&n)===n&&(We===4||We===3&&(Xe&130023424)===Xe&&500>Me()-rf?qr(e,0):nf|=n),bt(e,t)}function k_(e,t){t===0&&(e.mode&1?(t=xa,xa<<=1,!(xa&130023424)&&(xa=4194304)):t=1);var n=dt();e=Fn(e,t),e!==null&&(Io(e,t,n),bt(e,n))}function CS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),k_(e,n)}function TS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),k_(e,n)}var P_;P_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)_t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _t=!1,mS(e,t,n);_t=!!(e.flags&131072)}else _t=!1,ke&&t.flags&1048576&&Ny(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qa(e,t),e=t.pendingProps;var s=Ji(t,ot.current);Wi(t,n),s=Yh(null,t,r,e,s,n);var o=Jh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xt(r)?(o=!0,ml(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zh(t),s.updater=ql,t.stateNode=s,s._reactInternals=t,Cd(t,r,e,n),t=Nd(null,t,r,!0,o,n)):(t.tag=0,ke&&o&&Dh(t),ut(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=NS(r),e=Kt(r,e),s){case 0:t=Ld(null,t,r,e,n);break e;case 1:t=Jm(null,t,r,e,n);break e;case 11:t=Gm(null,t,r,e,n);break e;case 14:t=Ym(null,t,r,Kt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),Ld(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),Jm(e,t,r,s,n);case 3:e:{if(u_(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,s=o.element,My(e,t),wl(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ts(Error(B(423)),t),t=Qm(e,t,r,n,s);break e}else if(r!==s){s=ts(Error(B(424)),t),t=Qm(e,t,r,n,s);break e}else for(kt=cr(t.stateNode.containerInfo.firstChild),Pt=t,ke=!0,Jt=null,n=Ry(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qi(),r===s){t=Bn(e,t,n);break e}ut(e,t,r,n)}t=t.child}return t;case 5:return $y(t),e===null&&Ed(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,_d(r,s)?l=null:o!==null&&_d(r,o)&&(t.flags|=32),l_(e,t),ut(e,t,l,n),t.child;case 6:return e===null&&Ed(t),null;case 13:return c_(e,t,n);case 4:return Vh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xi(t,null,r,n):ut(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),Gm(e,t,r,s,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,l=s.value,xe(yl,r._currentValue),r._currentValue=l,o!==null)if(tn(o.value,l)){if(o.children===s.children&&!wt.current){t=Bn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=Mn(-1,n&-n),d.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?d.next=d:(d.next=p.next,p.next=d),h.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),kd(o.return,n,t),c.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(B(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),kd(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}ut(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Wi(t,n),s=Ft(s),r=r(s),t.flags|=1,ut(e,t,r,n),t.child;case 14:return r=t.type,s=Kt(r,t.pendingProps),s=Kt(r.type,s),Ym(e,t,r,s,n);case 15:return o_(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Kt(r,s),Qa(e,t),t.tag=1,xt(r)?(e=!0,ml(t)):e=!1,Wi(t,n),r_(t,r,s),Cd(t,r,s,n),Nd(null,t,r,!0,e,n);case 19:return d_(e,t,n);case 22:return a_(e,t,n)}throw Error(B(156,t.tag))};function C_(e,t){return ey(e,t)}function LS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,r){return new LS(e,t,n,r)}function lf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NS(e){if(typeof e=="function")return lf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ph)return 11;if(e===Ch)return 14}return 2}function pr(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tl(e,t,n,r,s,o){var l=2;if(r=e,typeof e=="function")lf(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ti:return Kr(n.children,s,o,t);case kh:l=8,s|=8;break;case Jc:return e=Dt(12,n,t,s|2),e.elementType=Jc,e.lanes=o,e;case Qc:return e=Dt(13,n,t,s),e.elementType=Qc,e.lanes=o,e;case Xc:return e=Dt(19,n,t,s),e.elementType=Xc,e.lanes=o,e;case $v:return Yl(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Iv:l=10;break e;case Mv:l=9;break e;case Ph:l=11;break e;case Ch:l=14;break e;case Xn:l=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=Dt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Kr(e,t,n,r){return e=Dt(7,e,r,t),e.lanes=n,e}function Yl(e,t,n,r){return e=Dt(22,e,r,t),e.elementType=$v,e.lanes=n,e.stateNode={isHidden:!1},e}function Pc(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function Cc(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ac(0),this.expirationTimes=ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ac(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uf(e,t,n,r,s,o,l,c,d){return e=new jS(e,t,n,c,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Dt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(o),e}function AS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function T_(e){if(!e)return gr;e=e._reactInternals;e:{if(si(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(xt(n))return Ty(e,n,t)}return t}function L_(e,t,n,r,s,o,l,c,d){return e=uf(n,r,!0,e,s,o,l,c,d),e.context=T_(null),n=e.current,r=dt(),s=fr(n),o=Mn(r,s),o.callback=t??null,dr(n,o,s),e.current.lanes=s,Io(e,s,r),bt(e,r),e}function Jl(e,t,n,r){var s=t.current,o=dt(),l=fr(s);return n=T_(n),t.context===null?t.context=n:t.pendingContext=n,t=Mn(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dr(s,t,l),e!==null&&(en(e,s,l,o),Ga(e,s,l)),l}function Tl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cf(e,t){lg(e,t),(e=e.alternate)&&lg(e,t)}function OS(){return null}var N_=typeof reportError=="function"?reportError:function(e){console.error(e)};function df(e){this._internalRoot=e}Ql.prototype.render=df.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));Jl(e,t,null,null)};Ql.prototype.unmount=df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xr(function(){Jl(null,e,null,null)}),t[zn]=null}};function Ql(e){this._internalRoot=e}Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=ay();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tr.length&&t!==0&&t<tr[n].priority;n++);tr.splice(n,0,e),n===0&&uy(e)}};function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ug(){}function RS(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var h=Tl(l);o.call(h)}}var l=L_(t,r,e,0,null,!1,!1,"",ug);return e._reactRootContainer=l,e[zn]=l.current,wo(e.nodeType===8?e.parentNode:e),Xr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=Tl(d);c.call(h)}}var d=uf(e,0,!1,null,null,!1,!1,"",ug);return e._reactRootContainer=d,e[zn]=d.current,wo(e.nodeType===8?e.parentNode:e),Xr(function(){Jl(t,d,n,r)}),d}function eu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var c=s;s=function(){var d=Tl(l);c.call(d)}}Jl(t,l,e,s)}else l=RS(n,t,e,s,r);return Tl(l)}sy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zs(t.pendingLanes);n!==0&&(Nh(t,n|1),bt(t,Me()),!(pe&6)&&(ns=Me()+500,xr()))}break;case 13:Xr(function(){var r=Fn(e,1);if(r!==null){var s=dt();en(r,e,1,s)}}),cf(e,1)}};jh=function(e){if(e.tag===13){var t=Fn(e,134217728);if(t!==null){var n=dt();en(t,e,134217728,n)}cf(e,134217728)}};oy=function(e){if(e.tag===13){var t=fr(e),n=Fn(e,t);if(n!==null){var r=dt();en(n,e,t,r)}cf(e,t)}};ay=function(){return ve};ly=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};ud=function(e,t,n){switch(t){case"input":if(nd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Wl(r);if(!s)throw Error(B(90));zv(r),nd(r,s)}}}break;case"textarea":Bv(e,n);break;case"select":t=n.value,t!=null&&Fi(e,!!n.multiple,t,!1)}};Kv=sf;Gv=Xr;var IS={usingClientEntryPoint:!1,Events:[$o,Ai,Wl,Vv,qv,sf]},zs={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MS={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qv(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||OS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{Fl=Aa.inject(MS),gn=Aa}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IS;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(t))throw Error(B(200));return AS(e,t,null,n)};Nt.createRoot=function(e,t){if(!hf(e))throw Error(B(299));var n=!1,r="",s=N_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=uf(e,1,!1,null,null,n,!1,r,s),e[zn]=t.current,wo(e.nodeType===8?e.parentNode:e),new df(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Qv(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return Xr(e)};Nt.hydrate=function(e,t,n){if(!Xl(t))throw Error(B(200));return eu(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!hf(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",l=N_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=L_(t,null,e,1,n??null,s,!1,o,l),e[zn]=t.current,wo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ql(t)};Nt.render=function(e,t,n){if(!Xl(t))throw Error(B(200));return eu(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(B(40));return e._reactRootContainer?(Xr(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[zn]=null})}),!0):!1};Nt.unstable_batchedUpdates=sf;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return eu(e,t,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function j_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j_)}catch(e){console.error(e)}}j_(),jv.exports=Nt;var wn=jv.exports,cg=wn;Gc.createRoot=cg.createRoot,Gc.hydrateRoot=cg.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dg="popstate";function $S(e={}){function t(r,s){let{pathname:o,search:l,hash:c}=r.location;return Ud("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Lo(s)}return zS(t,n,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DS(){return Math.random().toString(36).substring(2,10)}function hg(e,t){return{usr:e.state,key:e.key,idx:t}}function Ud(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?us(t):t,state:n,key:t&&t.key||r||DS()}}function Lo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function us(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function zS(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let C=p(),b=C==null?null:C-h;h=C,d&&d({action:c,location:P.location,delta:b})}function _(C,b){c="PUSH";let x=Ud(P.location,C,b);h=p()+1;let S=hg(x,h),T=P.createHref(x);try{l.pushState(S,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(T)}o&&d&&d({action:c,location:P.location,delta:1})}function w(C,b){c="REPLACE";let x=Ud(P.location,C,b);h=p();let S=hg(x,h),T=P.createHref(x);l.replaceState(S,"",T),o&&d&&d({action:c,location:P.location,delta:0})}function E(C){return FS(C)}let P={get action(){return c},get location(){return e(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(dg,m),d=C,()=>{s.removeEventListener(dg,m),d=null}},createHref(C){return t(s,C)},createURL:E,encodeLocation(C){let b=E(C);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:_,replace:w,go(C){return l.go(C)}};return P}function FS(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Le(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Lo(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function A_(e,t,n="/"){return BS(e,t,n,!1)}function BS(e,t,n,r){let s=typeof t=="string"?us(t):t,o=Un(s.pathname||"/",n);if(o==null)return null;let l=O_(e);US(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=XS(o);c=JS(l[d],h,r)}return c}function O_(e,t=[],n=[],r="",s=!1){let o=(l,c,d=s,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&d)return;Le(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=$n([r,p.relativePath]),_=n.concat(p);l.children&&l.children.length>0&&(Le(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),O_(l.children,t,_,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:GS(m,l.index),routesMeta:_})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let h of R_(l.path))o(l,c,!0,h)}),t}function R_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=R_(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function US(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YS(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var HS=/^:[\w-]+$/,WS=3,ZS=2,VS=1,qS=10,KS=-2,fg=e=>e==="*";function GS(e,t){let n=e.split("/"),r=n.length;return n.some(fg)&&(r+=KS),t&&(r+=ZS),n.filter(s=>!fg(s)).reduce((s,o)=>s+(HS.test(o)?WS:o===""?VS:qS),r)}function YS(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function JS(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=Ll({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),_=d.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Ll({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(s,m.params),l.push({params:s,pathname:$n([o,m.pathname]),pathnameBase:rE($n([o,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(o=$n([o,m.pathnameBase]))}return l}function Ll(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=QS(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},_)=>{if(p==="*"){let E=c[_]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=c[_];return m&&!w?h[p]=void 0:h[p]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:e}}function QS(e,t=!1,n=!0){xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function XS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Un(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function eE(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?us(e):e;return{pathname:n?n.startsWith("/")?n:tE(n,t):t,search:iE(r),hash:sE(s)}}function tE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tc(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function I_(e){let t=nE(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function M_(e,t,n,r=!1){let s;typeof e=="string"?s=us(e):(s={...e},Le(!s.pathname||!s.pathname.includes("?"),Tc("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),Tc("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),Tc("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let m=t.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),m-=1;s.pathname=_.join("/")}c=m>=0?t[m]:"/"}let d=eE(s,c),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var $n=e=>e.join("/").replace(/\/\/+/g,"/"),rE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $_=["POST","PUT","PATCH","DELETE"];new Set($_);var aE=["GET",...$_];new Set(aE);var cs=y.createContext(null);cs.displayName="DataRouter";var tu=y.createContext(null);tu.displayName="DataRouterState";y.createContext(!1);var D_=y.createContext({isTransitioning:!1});D_.displayName="ViewTransition";var lE=y.createContext(new Map);lE.displayName="Fetchers";var uE=y.createContext(null);uE.displayName="Await";var Sn=y.createContext(null);Sn.displayName="Navigation";var zo=y.createContext(null);zo.displayName="Location";var Wn=y.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var ff=y.createContext(null);ff.displayName="RouteError";function cE(e,{relative:t}={}){Le(Fo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=y.useContext(Sn),{hash:s,pathname:o,search:l}=Bo(e,{relative:t}),c=o;return n!=="/"&&(c=o==="/"?n:$n([n,o])),r.createHref({pathname:c,search:l,hash:s})}function Fo(){return y.useContext(zo)!=null}function oi(){return Le(Fo(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(zo).location}var z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function F_(e){y.useContext(Sn).static||y.useLayoutEffect(e)}function nu(){let{isDataRoute:e}=y.useContext(Wn);return e?SE():dE()}function dE(){Le(Fo(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(cs),{basename:t,navigator:n}=y.useContext(Sn),{matches:r}=y.useContext(Wn),{pathname:s}=oi(),o=JSON.stringify(I_(r)),l=y.useRef(!1);return F_(()=>{l.current=!0}),y.useCallback((d,h={})=>{if(xn(l.current,z_),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=M_(d,JSON.parse(o),s,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:$n([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,o,s,e])}y.createContext(null);function Bo(e,{relative:t}={}){let{matches:n}=y.useContext(Wn),{pathname:r}=oi(),s=JSON.stringify(I_(n));return y.useMemo(()=>M_(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function hE(e,t){return B_(e,t)}function B_(e,t,n,r,s){var x;Le(Fo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=y.useContext(Sn),{matches:l}=y.useContext(Wn),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let S=m&&m.path||"";U_(h,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let _=oi(),w;if(t){let S=typeof t=="string"?us(t):t;Le(p==="/"||((x=S.pathname)==null?void 0:x.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${S.pathname}" was given in the \`location\` prop.`),w=S}else w=_;let E=w.pathname||"/",P=E;if(p!=="/"){let S=p.replace(/^\//,"").split("/");P="/"+E.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=A_(e,{pathname:P});xn(m||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),xn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=vE(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:$n([p,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?p:$n([p,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,n,r,s);return t&&b?y.createElement(zo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function fE(){let e=bE(),t=oE(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:o},"ErrorBoundary")," or"," ",y.createElement("code",{style:o},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,l)}var pE=y.createElement(fE,null),mE=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(Wn.Provider,{value:this.props.routeContext},y.createElement(ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gE({routeContext:e,match:t,children:n}){let r=y.useContext(cs);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Wn.Provider,{value:e},n)}function vE(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=n==null?void 0:n.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Le(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:m,errors:_}=n,w=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let _,w=!1,E=null,P=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,E=p.route.errorElement||pE,c&&(d<0&&m===0?(U_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):d===m&&(w=!0,P=p.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,m+1)),b=()=>{let x;return _?x=E:w?x=P:p.route.Component?x=y.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=h,y.createElement(gE,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?y.createElement(mE,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:b(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):b()},null)}function pf(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yE(e){let t=y.useContext(cs);return Le(t,pf(e)),t}function _E(e){let t=y.useContext(tu);return Le(t,pf(e)),t}function wE(e){let t=y.useContext(Wn);return Le(t,pf(e)),t}function mf(e){let t=wE(e),n=t.matches[t.matches.length-1];return Le(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function xE(){return mf("useRouteId")}function bE(){var r;let e=y.useContext(ff),t=_E("useRouteError"),n=mf("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function SE(){let{router:e}=yE("useNavigate"),t=mf("useNavigate"),n=y.useRef(!1);return F_(()=>{n.current=!0}),y.useCallback(async(s,o={})=>{xn(n.current,z_),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var pg={};function U_(e,t,n){!t&&!pg[e]&&(pg[e]=!0,xn(!1,n))}y.memo(EE);function EE({routes:e,future:t,state:n,unstable_onError:r}){return B_(e,void 0,n,r,t)}function qs(e){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kE({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){Le(!Fo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=us(n));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:_="default"}=n,w=y.useMemo(()=>{let E=Un(d,l);return E==null?null:{location:{pathname:E,search:h,hash:p,state:m,key:_},navigationType:r}},[l,d,h,p,m,_,r]);return xn(w!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:y.createElement(Sn.Provider,{value:c},y.createElement(zo.Provider,{children:t,value:w}))}function PE({children:e,location:t}){return hE(Hd(e),t)}function Hd(e,t=[]){let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let o=[...t,s];if(r.type===y.Fragment){n.push.apply(n,Hd(r.props.children,o));return}Le(r.type===qs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Hd(r.props.children,o)),n.push(l)}),n}var nl="get",rl="application/x-www-form-urlencoded";function ru(e){return e!=null&&typeof e.tagName=="string"}function CE(e){return ru(e)&&e.tagName.toLowerCase()==="button"}function TE(e){return ru(e)&&e.tagName.toLowerCase()==="form"}function LE(e){return ru(e)&&e.tagName.toLowerCase()==="input"}function NE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jE(e,t){return e.button===0&&(!t||t==="_self")&&!NE(e)}var Oa=null;function AE(){if(Oa===null)try{new FormData(document.createElement("form"),0),Oa=!1}catch{Oa=!0}return Oa}var OE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lc(e){return e!=null&&!OE.has(e)?(xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rl}"`),null):e}function RE(e,t){let n,r,s,o,l;if(TE(e)){let c=e.getAttribute("action");r=c?Un(c,t):null,n=e.getAttribute("method")||nl,s=Lc(e.getAttribute("enctype"))||rl,o=new FormData(e)}else if(CE(e)||LE(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(r=d?Un(d,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||nl,s=Lc(e.getAttribute("formenctype"))||Lc(c.getAttribute("enctype"))||rl,o=new FormData(c,e),!AE()){let{name:h,type:p,value:m}=e;if(p==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,m)}}else{if(ru(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nl,r=null,s=rl,l=e}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gf(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function IE(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Un(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ME(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $E(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function DE(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await ME(o,n);return l.links?l.links():[]}return[]}));return UE(r.flat(1).filter($E).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function mg(e,t,n,r,s,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>{var p;return n[h].pathname!==d.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,h)=>l(d,h)||c(d,h)):o==="data"?t.filter((d,h)=>{var m;let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function zE(e,t,{includeHydrateFallback:n}={}){return FE(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function FE(e){return[...new Set(e)]}function BE(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function UE(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(BE(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function H_(){let e=y.useContext(cs);return gf(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function HE(){let e=y.useContext(tu);return gf(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vf=y.createContext(void 0);vf.displayName="FrameworkContext";function W_(){let e=y.useContext(vf);return gf(e,"You must render this element inside a <HydratedRouter> element"),e}function WE(e,t){let n=y.useContext(vf),[r,s]=y.useState(!1),[o,l]=y.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=t,_=y.useRef(null);y.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let P=b=>{b.forEach(x=>{l(x.isIntersecting)})},C=new IntersectionObserver(P,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[e]),y.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let w=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?e!=="intent"?[o,_,{}]:[o,_,{onFocus:Fs(c,w),onBlur:Fs(d,E),onMouseEnter:Fs(h,w),onMouseLeave:Fs(p,E),onTouchStart:Fs(m,w)}]:[!1,_,{}]}function Fs(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ZE({page:e,...t}){let{router:n}=H_(),r=y.useMemo(()=>A_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?y.createElement(qE,{page:e,matches:r,...t}):null}function VE(e){let{manifest:t,routeModules:n}=W_(),[r,s]=y.useState([]);return y.useEffect(()=>{let o=!1;return DE(e,t,n).then(l=>{o||s(l)}),()=>{o=!0}},[e,t,n]),r}function qE({page:e,matches:t,...n}){let r=oi(),{manifest:s,routeModules:o}=W_(),{basename:l}=H_(),{loaderData:c,matches:d}=HE(),h=y.useMemo(()=>mg(e,t,d,s,r,"data"),[e,t,d,s,r]),p=y.useMemo(()=>mg(e,t,d,s,r,"assets"),[e,t,d,s,r]),m=y.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let E=new Set,P=!1;if(t.forEach(b=>{var S;let x=s.routes[b.route.id];!x||!x.hasLoader||(!h.some(T=>T.route.id===b.route.id)&&b.route.id in c&&((S=o[b.route.id])!=null&&S.shouldRevalidate)||x.hasClientLoader?P=!0:E.add(b.route.id))}),E.size===0)return[];let C=IE(e,l,"data");return P&&E.size>0&&C.searchParams.set("_routes",t.filter(b=>E.has(b.route.id)).map(b=>b.route.id).join(",")),[C.pathname+C.search]},[l,c,r,s,h,t,e,o]),_=y.useMemo(()=>zE(p,s),[p,s]),w=VE(p);return y.createElement(y.Fragment,null,m.map(E=>y.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),_.map(E=>y.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),w.map(({key:E,link:P})=>y.createElement("link",{key:E,nonce:n.nonce,...P})))}function KE(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z_&&(window.__reactRouterVersion="7.8.2")}catch{}function GE({basename:e,children:t,window:n}){let r=y.useRef();r.current==null&&(r.current=$S({window:n,v5Compat:!0}));let s=r.current,[o,l]=y.useState({action:s.action,location:s.location}),c=y.useCallback(d=>{y.startTransition(()=>l(d))},[l]);return y.useLayoutEffect(()=>s.listen(c),[s,c]),y.createElement(kE,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yf=y.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:c,target:d,to:h,preventScrollReset:p,viewTransition:m,..._},w){let{basename:E}=y.useContext(Sn),P=typeof h=="string"&&V_.test(h),C,b=!1;if(typeof h=="string"&&P&&(C=h,Z_))try{let W=new URL(window.location.href),U=h.startsWith("//")?new URL(W.protocol+h):new URL(h),H=Un(U.pathname,E);U.origin===W.origin&&H!=null?h=H+U.search+U.hash:b=!0}catch{xn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=cE(h,{relative:s}),[S,T,A]=WE(r,_),M=XE(h,{replace:l,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:m});function O(W){t&&t(W),W.defaultPrevented||M(W)}let D=y.createElement("a",{..._,...A,href:C||x,onClick:b||o?t:O,ref:KE(w,T),target:d,"data-discover":!P&&n==="render"?"true":void 0});return S&&!P?y.createElement(y.Fragment,null,D,y.createElement(ZE,{page:x})):D});yf.displayName="Link";var YE=y.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:c,children:d,...h},p){let m=Bo(l,{relative:h.relative}),_=oi(),w=y.useContext(tu),{navigator:E,basename:P}=y.useContext(Sn),C=w!=null&&ik(m)&&c===!0,b=E.encodeLocation?E.encodeLocation(m).pathname:m.pathname,x=_.pathname,S=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(x=x.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&P&&(S=Un(S,P)||S);const T=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=x===b||!s&&x.startsWith(b)&&x.charAt(T)==="/",M=S!=null&&(S===b||!s&&S.startsWith(b)&&S.charAt(b.length)==="/"),O={isActive:A,isPending:M,isTransitioning:C},D=A?t:void 0,W;typeof r=="function"?W=r(O):W=[r,A?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(O):o;return y.createElement(yf,{...h,"aria-current":D,className:W,ref:p,style:U,to:l,viewTransition:c},typeof d=="function"?d(O):d)});YE.displayName="NavLink";var JE=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:l=nl,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:m,..._},w)=>{let E=nk(),P=rk(c,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&V_.test(c),x=S=>{if(d&&d(S),S.defaultPrevented)return;S.preventDefault();let T=S.nativeEvent.submitter,A=(T==null?void 0:T.getAttribute("formmethod"))||l;E(T||S.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:s,state:o,relative:h,preventScrollReset:p,viewTransition:m})};return y.createElement("form",{ref:w,method:C,action:P,onSubmit:r?d:x,..._,"data-discover":!b&&e==="render"?"true":void 0})});JE.displayName="Form";function QE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q_(e){let t=y.useContext(cs);return Le(t,QE(e)),t}function XE(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=nu(),d=oi(),h=Bo(e,{relative:o});return y.useCallback(p=>{if(jE(p,t)){p.preventDefault();let m=n!==void 0?n:Lo(d)===Lo(h);c(e,{replace:m,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,h,n,r,t,e,s,o,l])}var ek=0,tk=()=>`__${String(++ek)}__`;function nk(){let{router:e}=q_("useSubmit"),{basename:t}=y.useContext(Sn),n=xE();return y.useCallback(async(r,s={})=>{let{action:o,method:l,encType:c,formData:d,body:h}=RE(r,t);if(s.navigate===!1){let p=s.fetcherKey||tk();await e.fetch(p,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function rk(e,{relative:t}={}){let{basename:n}=y.useContext(Sn),r=y.useContext(Wn);Le(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Bo(e||".",{relative:t})},l=oi();if(e==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?`?${p}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:$n([n,o.pathname])),Lo(o)}function ik(e,{relative:t}={}){let n=y.useContext(D_);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=q_("useViewTransitionState"),s=Bo(e,{relative:t});if(!n.isTransitioning)return!1;let o=Un(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Un(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ll(s.pathname,l)!=null||Ll(s.pathname,o)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ae=(e,t)=>{const n=y.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,...h},p)=>y.createElement("svg",{ref:p,...sk,width:s,height:s,stroke:r,strokeWidth:l?Number(o)*24/Number(s):o,className:["lucide",`lucide-${ok(e)}`,c].join(" "),...h},[...t.map(([m,_])=>y.createElement(m,_)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Ae("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Ae("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=Ae("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Ae("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=Ae("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vk=({callerName:e,onEndCall:t,onCallAnswered:n})=>{const[r,s]=y.useState(0),[o,l]=y.useState(!1),[c,d]=y.useState(!1);y.useEffect(()=>{const _=setTimeout(()=>{l(!0),n()},2500);return()=>clearTimeout(_)},[n]),y.useEffect(()=>{let _;return o&&(_=setInterval(()=>{s(w=>w+1)},1e3)),()=>{_&&clearInterval(_)}},[o]);const h=_=>{const w=Math.floor(_/60),E=_%60;return`${w.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`},p=()=>{t()},m=()=>{d(!c)};return g.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[g.jsx("div",{className:"bg-black text-white text-center py-2 text-sm",children:g.jsxs("div",{className:"flex justify-between items-center px-4",children:[g.jsx("span",{children:"9:41 AM"}),g.jsx("span",{className:"font-medium",children:o?"Call in Progress":"Incoming Call"}),g.jsxs("div",{className:"flex space-x-1",children:[g.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),g.jsx("div",{className:"w-1 h-1 bg-white rounded-full"}),g.jsx("div",{className:"w-1 h-1 bg-white rounded-full"})]})]})}),g.jsxs("div",{className:"flex-1 bg-gradient-to-b from-gray-900 to-black text-white flex flex-col justify-between p-8",children:[g.jsxs("div",{className:"text-center mt-16",children:[!o&&g.jsx("p",{className:"text-lg text-gray-300 mb-4",children:"Incoming call from"}),g.jsx("div",{className:"w-32 h-32 bg-gray-600 rounded-full mx-auto mb-6 flex items-center justify-center",children:g.jsx("span",{className:"text-4xl",children:""})}),g.jsx("h1",{className:"text-4xl font-light mb-2",children:e}),g.jsx("p",{className:"text-gray-400",children:"Mobile"}),o&&g.jsx("div",{className:"mt-8",children:g.jsx("p",{className:"text-2xl font-mono text-green-400",children:h(r)})})]}),g.jsx("div",{className:"pb-8",children:o?g.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-xs mx-auto",children:[g.jsx("button",{onClick:m,className:`w-16 h-16 rounded-full flex items-center justify-center ${c?"bg-red-500":"bg-gray-600"}`,children:c?g.jsx(ck,{className:"w-6 h-6 text-white"}):g.jsx(Nl,{className:"w-6 h-6 text-white"})}),g.jsx("button",{onClick:p,className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center",children:g.jsx(vg,{className:"w-8 h-8 text-white"})}),g.jsx("button",{className:"w-16 h-16 bg-gray-600 rounded-full flex items-center justify-center",children:g.jsx(mk,{className:"w-6 h-6 text-white"})})]}):g.jsxs("div",{className:"flex justify-center space-x-16",children:[g.jsx("button",{onClick:p,className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center",children:g.jsx(vg,{className:"w-8 h-8 text-white"})}),g.jsx("button",{onClick:()=>{l(!0),n()},className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center",children:g.jsx(iu,{className:"w-8 h-8 text-white"})})]})})]}),g.jsx("div",{className:"absolute top-20 left-4 right-4",children:g.jsx("div",{className:"bg-black bg-opacity-50 rounded-lg p-3",children:g.jsx("p",{className:"text-white text-xs text-center",children:"Press volume down or shake phone to emergency exit"})})})]})},yk=({contacts:e,onContactsUpdate:t,maxContacts:n=3})=>{const[r,s]=y.useState(!1),[o,l]=y.useState({name:"",phoneNumber:""}),c=()=>{if(!o.name.trim()||!o.phoneNumber.trim()){alert("Please fill in both name and phone number");return}const p={id:`contact_${Date.now()}`,name:o.name.trim(),phoneNumber:o.phoneNumber.trim()};t([...e,p]),l({name:"",phoneNumber:""}),s(!1)},d=p=>{t(e.filter(m=>m.id!==p))},h=e.length<n;return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Emergency Contacts"}),g.jsxs("span",{className:"text-sm text-gray-500",children:[e.length,"/",n]})]}),g.jsx("div",{className:"space-y-3",children:e.map(p=>g.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:g.jsx(Wd,{className:"w-5 h-5 text-gray-600"})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),g.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[g.jsx(iu,{className:"w-3 h-3 mr-1"}),p.phoneNumber]})]})]}),g.jsx("button",{onClick:()=>d(p.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:g.jsx(pk,{className:"w-4 h-4"})})]},p.id))}),r&&g.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3 mt-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),g.jsx("input",{type:"text",value:o.name,onChange:p=>l({...o,name:p.target.value}),placeholder:"Contact name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-aura-primary focus:border-transparent text-gray-900"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),g.jsx("input",{type:"tel",value:o.phoneNumber,onChange:p=>l({...o,phoneNumber:p.target.value}),placeholder:"+1 (555) 123-4567",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-aura-primary focus:border-transparent text-gray-900"})]}),g.jsxs("div",{className:"flex space-x-2 pt-2",children:[g.jsx("button",{onClick:c,className:"flex-1 bg-aura-primary text-white py-2 px-4 rounded-md hover:bg-aura-primary-dark transition-colors",children:"Save Contact"}),g.jsx("button",{onClick:()=>s(!1),className:"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}),h&&g.jsxs("button",{onClick:()=>s(!0),className:"w-full border-2 border-dashed border-gray-300 rounded-lg py-4 px-4 text-gray-600 hover:border-aura-primary hover:text-aura-primary transition-colors flex items-center justify-center space-x-2",children:[g.jsx(dk,{className:"w-5 h-5"}),g.jsx("span",{children:"Add Emergency Contact"})]}),e.length===0&&g.jsxs("div",{className:"text-center py-6 text-gray-500",children:[g.jsx(Wd,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),g.jsx("p",{children:"No emergency contacts added yet"}),g.jsx("p",{className:"text-sm",children:"Add at least one contact to activate Aura"})]})]})},_k=({userProfile:e,onProfileUpdate:t,onBack:n})=>{const[r,s]=y.useState("contacts"),[o,l]=y.useState(e.name),c=h=>{t({emergencyContacts:h})},d=()=>{t({name:o.trim()})};return g.jsxs("div",{className:"min-h-screen bg-aura-background",children:[g.jsx("div",{className:"bg-white shadow-sm",children:g.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:g.jsx(Uo,{className:"w-5 h-5 text-gray-600"})}),g.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Settings"})]})})}),g.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[g.jsxs("button",{onClick:()=>s("voice"),className:`flex items-center justify-center py-2 px-3 rounded-md text-sm font-medium transition-colors ${r==="voice"?"bg-white text-aura-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[g.jsx(Nl,{className:"w-4 h-4 mr-1"}),"Voice"]}),g.jsx("button",{onClick:()=>s("contacts"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ${r==="contacts"?"bg-white text-aura-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Contacts"}),g.jsx("button",{onClick:()=>s("profile"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ${r==="profile"?"bg-white text-aura-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Profile"}),g.jsx("button",{onClick:()=>s("help"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ${r==="help"?"bg-white text-aura-primary shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Help"})]})}),g.jsxs("div",{className:"max-w-md mx-auto px-4 pb-8",children:[r==="voice"&&g.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-12 h-12 bg-aura-primary rounded-full flex items-center justify-center",children:g.jsx(Nl,{className:"w-6 h-6 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Voice Activation"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Configure voice recognition settings"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-gray-800",children:"Enable Voice Activation"}),g.jsx("p",{className:"text-sm text-gray-500",children:'Aura will listen for "Help Aura" to activate emergency mode'})]}),g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"sr-only peer",checked:e.voiceActivationEnabled||!1,onChange:h=>t({voiceActivationEnabled:h.target.checked})}),g.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-aura-primary"})]})]}),g.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[g.jsx("p",{className:"font-medium text-gray-800 mb-2",children:"Voice Recognition Language"}),g.jsxs("select",{value:e.voiceActivationLanguage||"en-US",onChange:h=>t({voiceActivationLanguage:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-aura-primary focus:border-transparent",children:[g.jsx("option",{value:"en-US",children:"English (US)"}),g.jsx("option",{value:"en-GB",children:"English (UK)"}),g.jsx("option",{value:"es-ES",children:"Spanish"}),g.jsx("option",{value:"fr-FR",children:"French"}),g.jsx("option",{value:"de-DE",children:"German"}),g.jsx("option",{value:"zh-CN",children:"Chinese (Simplified)"}),g.jsx("option",{value:"ja-JP",children:"Japanese"}),g.jsx("option",{value:"ko-KR",children:"Korean"}),g.jsx("option",{value:"ar-SA",children:"Arabic"}),g.jsx("option",{value:"hi-IN",children:"Hindi"})]})]}),g.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start space-x-2",children:[g.jsx(gg,{className:"w-5 h-5 text-blue-500 mt-0.5"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-blue-800",children:"How Voice Activation Works"}),g.jsx("p",{className:"text-sm text-blue-600 mt-1",children:'When enabled, Aura will continuously listen for the phrase "Help Aura" in the background. When detected, it will automatically trigger the emergency sequence without requiring confirmation. For privacy, all voice processing happens directly on your device.'})]})]})})]})]}),r==="contacts"&&g.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:g.jsx(yk,{contacts:e.emergencyContacts,onContactsUpdate:c,maxContacts:3})}),r==="profile"&&g.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-12 h-12 bg-aura-primary rounded-full flex items-center justify-center",children:g.jsx(Wd,{className:"w-6 h-6 text-white"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Profile"}),g.jsx("p",{className:"text-sm text-gray-600",children:"This information is used in emergency alerts"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:"Enter your name",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-aura-primary focus:border-transparent text-gray-900"}),g.jsx("button",{onClick:d,className:"bg-aura-primary text-white py-2 px-4 rounded-md hover:bg-aura-primary-dark transition-colors",children:"Update"})]})]}),g.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start space-x-2",children:[g.jsx(rs,{className:"w-5 h-5 text-blue-600 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-blue-900",children:"Privacy Notice"}),g.jsx("p",{className:"text-sm text-blue-800 mt-1",children:"Your personal information is stored locally on your device and only shared with your emergency contacts during alerts."})]})]})})]})]}),r==="help"&&g.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-6",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:g.jsx(gg,{className:"w-6 h-6 text-blue-600"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"How to Use Aura"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Your personal safety guide"})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"1. Activate Aura"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Tap the central button to activate. Aura will start listening and can simulate a phone call."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"2. Speak Naturally"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Describe your situation. Aura will respond as if you're talking to a friend on the phone."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"3. Emergency Detection"}),g.jsx("p",{className:"text-sm text-gray-600",children:"If Aura detects distress keywords, it will become assertive and automatically alert your emergency contacts."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"4. Automatic Alerts"}),g.jsx("p",{className:"text-sm text-gray-600",children:"Emergency contacts receive SMS alerts with your location when threats are detected."})]})]}),g.jsx("div",{className:"bg-amber-50 rounded-lg p-4",children:g.jsxs("div",{className:"flex items-start space-x-2",children:[g.jsx(rs,{className:"w-5 h-5 text-amber-600 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-amber-900",children:"Important"}),g.jsx("p",{className:"text-sm text-amber-800 mt-1",children:"Aura is a deterrent tool. In real emergencies, always call 911 or your local emergency services."})]})]})})]})]})]})},wk=({onComplete:e})=>{const[t,n]=y.useState({microphone:!1,location:!1}),[r,s]=y.useState(!1),o=async()=>{s(!0);const l=async()=>{try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(h=>h.stop()),n(h=>({...h,microphone:!0}))}catch(d){console.warn("Microphone permission denied:",d)}},c=async()=>{try{await new Promise(d=>{let h=!1;const p=()=>{h||(h=!0,d())},m=setTimeout(p,2e3);navigator.geolocation.getCurrentPosition(()=>{clearTimeout(m),n(_=>({..._,location:!0})),p()},()=>{p()},{enableHighAccuracy:!1,timeout:2e3,maximumAge:6e4})})}catch(d){console.warn("Location permission error:",d)}};try{await Promise.allSettled([l(),c()])}finally{s(!1),e()}};return g.jsx("div",{className:"min-h-screen bg-aura-background flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 max-w-md w-full",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("div",{className:"w-16 h-16 bg-aura-primary rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(_f,{className:"w-8 h-8 text-white"})}),g.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to Aura"}),g.jsx("p",{className:"text-gray-600",children:"Your personal safety companion with voice activation needs a few permissions to protect you effectively."})]}),g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.microphone?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:g.jsx(Nl,{className:"w-4 h-4"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium",children:"Microphone Access"}),g.jsx("p",{className:"text-sm text-gray-500",children:'Required for voice activation with "Help Aura" trigger phrase'})]})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.location?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:g.jsx(ei,{className:"w-4 h-4"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium",children:"Location Access"}),g.jsx("p",{className:"text-sm text-gray-500",children:"To share your location in emergency alerts"})]})]}),g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:g.jsx(wf,{className:"w-4 h-4"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium",children:"Emergency Contacts"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Add contacts to notify during emergencies"})]})]})]}),g.jsx("button",{onClick:o,disabled:r,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${r?"bg-gray-400 text-white cursor-not-allowed":"bg-aura-primary text-white hover:bg-indigo-600"}`,children:r?"Checking Permissions...":"Continue to Aura"}),g.jsx("p",{className:"text-center text-sm text-gray-500 mt-3",children:"You can enable additional permissions later in settings"})]})})},xk=({alertResult:e,userLocation:t,onBack:n,onAllClear:r})=>{var c,d;const[s,o]=y.useState([{id:"contacts",text:"Notifying emergency contacts...",completed:!1,icon:g.jsx(wf,{className:"w-5 h-5"})},{id:"location",text:"Sharing your live location...",completed:!1,icon:g.jsx(ei,{className:"w-5 h-5"})},{id:"authorities",text:"Notifying authorities (Simulated)...",completed:!1,icon:g.jsx(rs,{className:"w-5 h-5"})}]);y.useEffect(()=>{const h=[];return h.push(setTimeout(()=>{o(p=>p.map(m=>m.id==="contacts"?{...m,text:"Emergency contacts notified",completed:!0}:m))},1e3)),h.push(setTimeout(()=>{o(p=>p.map(m=>m.id==="location"?{...m,text:"Live location shared",completed:!0}:m))},2e3)),h.push(setTimeout(()=>{o(p=>p.map(m=>m.id==="authorities"?{...m,text:"Authorities notified",completed:!0}:m))},3e3)),()=>{h.forEach(p=>clearTimeout(p))}},[]);const l=s.every(h=>h.completed);return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:[g.jsx("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm",children:g.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("button",{onClick:n,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors text-white",children:g.jsx(Uo,{className:"w-5 h-5"})}),g.jsx("h1",{className:"text-xl font-semibold text-white",children:"Emergency Alert"})]})})}),g.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-24 h-24 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl",children:g.jsx(rs,{className:"w-12 h-12 text-white"})}),g.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"ALERT SENT"}),g.jsx("p",{className:"text-xl text-blue-100 font-medium",children:"Help is on the way."})]}),g.jsx("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 space-y-4",children:s.map(h=>g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-500 ${h.completed?"bg-green-500 text-white":"bg-white bg-opacity-20 text-blue-200 animate-pulse"}`,children:h.completed?g.jsx(ak,{className:"w-5 h-5"}):h.icon}),g.jsx("span",{className:`font-medium transition-colors duration-500 ${h.completed?"text-green-100":"text-blue-100"}`,children:h.text})]},h.id))}),t&&g.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[g.jsx(ei,{className:"w-5 h-5 text-blue-200"}),g.jsx("h3",{className:"font-semibold text-white",children:"Your Location"})]}),g.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4",children:[g.jsxs("p",{className:"text-blue-100 text-sm mb-2",children:["Coordinates: ",t.latitude.toFixed(6),", ",t.longitude.toFixed(6)]}),g.jsx("a",{href:`https://www.google.com/maps?q=${t.latitude},${t.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-300 hover:text-blue-200 text-sm underline",children:"View on Google Maps "})]})]}),e&&g.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6",children:[g.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[g.jsx(iu,{className:"w-5 h-5 text-blue-200"}),g.jsx("h3",{className:"font-semibold text-white",children:"Alert Details"})]}),g.jsxs("div",{className:"space-y-2 text-blue-100 text-sm",children:[g.jsxs("p",{children:["Contacts notified: ",((c=e.data)==null?void 0:c.contactsNotified)||"Processing..."]}),g.jsxs("p",{children:["Alert sent: ",new Date(((d=e.data)==null?void 0:d.timestamp)||Date.now()).toLocaleTimeString()]}),g.jsxs("p",{children:["Status: ",e.success?"Delivered":"Processing"]})]})]}),g.jsx("div",{className:"bg-amber-500 bg-opacity-20 border border-amber-400 border-opacity-30 rounded-xl p-4",children:g.jsxs("div",{className:"flex items-start space-x-3",children:[g.jsx(_f,{className:"w-5 h-5 text-amber-300 mt-0.5"}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-amber-200 mb-1",children:"Important"}),g.jsx("p",{className:"text-amber-100 text-sm",children:"This is a simulated emergency response for demonstration. In real emergencies, always call 911 or your local emergency services directly."})]})]})}),g.jsxs("div",{className:"space-y-4",children:[l&&g.jsx("button",{onClick:r,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-6 rounded-xl transition-colors shadow-lg",children:"I Am Safe - Send All Clear"}),g.jsx("button",{onClick:n,className:"w-full bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-medium py-3 px-6 rounded-xl transition-colors backdrop-blur-sm",children:"Return to Aura"})]})]})})]})};var rt=(e=>(e.IDLE="idle",e.ACTIVE="active",e.ALERT="alert",e.SOS_ACTIVE="sos_active",e.EMERGENCY_VOICE="emergency_voice",e))(rt||{});const bk=()=>{const[e,t]=y.useState(rt.IDLE),[n,r]=y.useState(!1),[s,o]=y.useState(""),[l,c]=y.useState(""),[d,h]=y.useState(null),p=y.useCallback(()=>{t(rt.ACTIVE),r(!0)},[]),m=y.useCallback(()=>{t(rt.IDLE),r(!1),o(""),c("")},[]),_=y.useCallback(()=>{t(rt.ALERT)},[]),w=y.useCallback(()=>{t(rt.SOS_ACTIVE)},[]),E=y.useCallback(()=>{t(rt.EMERGENCY_VOICE)},[]),P=y.useCallback(()=>{t(rt.IDLE),r(!1),o(""),c(""),h(null)},[]),C=y.useCallback(S=>{o(S)},[]),b=y.useCallback(S=>{c(S)},[]),x=y.useCallback(S=>{h(S)},[]);return{state:e,isListening:n,transcription:s,aiResponse:l,sosAlertResult:d,activateAura:p,deactivateAura:m,triggerAlert:_,triggerSOS:w,triggerEmergencyVoice:E,resetToIdle:P,updateTranscription:C,updateAiResponse:b,updateSOSResult:x}},Sk=()=>{const[e,t]=y.useState(!1),[n,r]=y.useState(null),s=y.useRef(null),o=y.useRef(null),l=y.useCallback(async()=>{try{const h=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});o.current=h;const p=new MediaRecorder(h,{mimeType:"audio/webm;codecs=opus"});s.current=p;const m=[];p.ondataavailable=_=>{_.data.size>0&&m.push(_.data)},p.onstop=()=>{const _=new Blob(m,{type:"audio/webm"});r(_),t(!1)},p.start(),t(!0)}catch(h){throw console.error("Error starting recording:",h),h}},[]),c=y.useCallback(()=>{s.current&&e&&(s.current.stop(),o.current&&(o.current.getTracks().forEach(h=>h.stop()),o.current=null))},[e]),d=y.useCallback(()=>{r(null)},[]);return{isRecording:e,audioBlob:n,startRecording:l,stopRecording:c,clearAudio:d}},Ek=()=>{const[e,t]=y.useState(null),[n,r]=y.useState(!1),[s,o]=y.useState(null),l=y.useCallback(()=>new Promise((c,d)=>{if(r(!0),o(null),!navigator.geolocation){const h="Geolocation is not supported by this browser";o(h),r(!1),d(new Error(h));return}navigator.geolocation.getCurrentPosition(h=>{const p={latitude:h.coords.latitude,longitude:h.coords.longitude};t(p),r(!1),c(p)},h=>{let p="Unable to retrieve location";switch(h.code){case h.PERMISSION_DENIED:p="Location access denied by user";break;case h.POSITION_UNAVAILABLE:p="Location information unavailable";break;case h.TIMEOUT:p="Location request timed out";break}o(p),r(!1),d(new Error(p))},{enableHighAccuracy:!1,timeout:3e3,maximumAge:12e4})}),[]);return{location:e,isLoading:n,error:s,getCurrentLocation:l}},kk=e=>{const[t,n]=y.useState({isListening:!1,permissionStatus:"prompt",error:null,confidence:0}),r=y.useRef(null),s="SpeechRecognition"in window||"webkitSpeechRecognition"in window,o=y.useRef(!1),l=y.useRef(e.enabled),c=y.useRef(e.language),d=y.useRef(e.triggerPhrase),h=y.useRef(e.onActivate);y.useEffect(()=>{l.current=e.enabled},[e.enabled]),y.useEffect(()=>{c.current=e.language},[e.language]),y.useEffect(()=>{d.current=e.triggerPhrase},[e.triggerPhrase]),y.useEffect(()=>{h.current=e.onActivate},[e.onActivate]);const p=y.useCallback(()=>{if(!s)return n(C=>({...C,error:"Speech recognition not supported in this browser"})),null;const E=window.SpeechRecognition||window.webkitSpeechRecognition,P=new E;return P.continuous=!0,P.interimResults=!0,P.lang=c.current||"en-US",P.maxAlternatives=3,P.onstart=()=>{n(C=>({...C,isListening:!0,error:null}))},P.onend=()=>{n(C=>({...C,isListening:!1})),o.current&&l.current&&t.permissionStatus==="granted"&&setTimeout(()=>{try{P.start()}catch(C){console.error("Error restarting recognition:",C)}},300)},P.onresult=C=>{const b=Array.from(C.results).map(O=>O[0].transcript.toLowerCase()).join(" ");console.log("Speech recognized:",b);const x=d.current.toLowerCase();if(b.includes(x)){console.log("Trigger phrase detected directly"),n(O=>({...O,confidence:1})),h.current();return}const S=b.split(" "),T=x.split(" "),M=T.filter(O=>S.some(D=>D.includes(O)||O.includes(D))).length/T.length;M>=.6&&(console.log("Trigger phrase detected with fuzzy matching, confidence:",M),n(O=>({...O,confidence:M})),h.current())},P.onerror=C=>{console.error("Speech recognition error:",C.error);let b="Speech recognition error";C.error==="not-allowed"?(n(x=>({...x,permissionStatus:"denied"})),b="Microphone permission denied"):C.error==="no-speech"?b="No speech detected":C.error==="audio-capture"?b="Audio capture error":C.error==="network"&&(b="Network error"),n(x=>({...x,error:b,isListening:!1}))},P},[s,t.permissionStatus]),m=y.useCallback(async()=>{try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(P=>P.stop()),n(P=>({...P,permissionStatus:"granted",error:null}))}catch(E){console.error("Permission request failed:",E),n(P=>({...P,permissionStatus:"denied",error:"Microphone permission denied"}))}},[]),_=y.useCallback(()=>{if(!(!l.current||t.permissionStatus!=="granted"))try{const E=p();E&&(r.current=E,o.current=!0,E.start())}catch(E){console.error("Error starting speech recognition:",E),n(P=>({...P,error:"Failed to start speech recognition"}))}},[t.permissionStatus,p]),w=y.useCallback(()=>{if(o.current=!1,r.current){try{r.current.stop()}catch(E){console.error("Error stopping speech recognition:",E)}r.current=null}n(E=>({...E,isListening:!1}))},[]);return y.useEffect(()=>{(async()=>{try{const P=await navigator.permissions.query({name:"microphone"});n(C=>({...C,permissionStatus:P.state})),P.onchange=()=>{n(C=>({...C,permissionStatus:P.state}))}}catch(P){console.error("Error checking microphone permission:",P);try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(b=>b.stop()),n(b=>({...b,permissionStatus:"granted"}))}catch{n(b=>({...b,permissionStatus:"denied"}))}}})()},[]),y.useEffect(()=>(l.current&&t.permissionStatus==="granted"&&!t.isListening&&_(),(!l.current||t.permissionStatus!=="granted")&&t.isListening&&w(),()=>{w()}),[t.permissionStatus,t.isListening,_,w,e.enabled]),{isListening:t.isListening,permissionStatus:t.permissionStatus,error:t.error,confidence:t.confidence,isSupported:s,requestPermission:m,startListening:_,stopListening:w}},Pk="modulepreload",Ck=function(e){return"/"+e},yg={},Ho=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(d=>{if(d=Ck(d),d in yg)return;yg[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":Pk,h||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((_,w)=>{m.addEventListener("load",_),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},Tk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ho(async()=>{const{default:r}=await Promise.resolve().then(()=>ds);return{default:r}},[]).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class xf extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Lk extends xf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _g extends xf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wg extends xf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zd||(Zd={}));var Nk=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(m){l(m)}}function d(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(e,t||[])).next())})};class jk{constructor(t,{headers:n={},customFetch:r,region:s=Zd.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Tk(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Nk(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=n;let c={},{region:d}=n;d||(d=this.region);const h=new URL(`${this.url}/${t}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let p;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(c["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(c["Content-Type"]="application/json",p=JSON.stringify(l)));const m=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:p}).catch(P=>{throw new Lk(P)}),_=m.headers.get("x-relay-error");if(_&&_==="true")throw new _g(m);if(!m.ok)throw new wg(m);let w=((r=m.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return w==="application/json"?E=yield m.json():w==="application/octet-stream"?E=yield m.blob():w==="text/event-stream"?E=m:w==="multipart/form-data"?E=yield m.formData():E=yield m.text(),{data:E,error:null,response:m}}catch(s){return{data:null,error:s,response:s instanceof wg||s instanceof _g?s.context:void 0}}})}}var yt={},bf={},su={},Wo={},ou={},au={},Ak=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},is=Ak();const Ok=is.fetch,Y_=is.fetch.bind(is),J_=is.Headers,Rk=is.Request,Ik=is.Response,ds=Object.freeze(Object.defineProperty({__proto__:null,Headers:J_,Request:Rk,Response:Ik,default:Y_,fetch:Ok},Symbol.toStringTag,{value:"Module"})),Mk=db(ds);var lu={};Object.defineProperty(lu,"__esModule",{value:!0});let $k=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lu.default=$k;var Q_=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(au,"__esModule",{value:!0});const Dk=Q_(Mk),zk=Q_(lu);let Fk=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Dk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var l,c,d,h;let p=null,m=null,_=null,w=o.status,E=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((l=this.headers.get("Accept"))===null||l===void 0)&&l.includes("application/vnd.pgrst.plan+text"))?m=x:m=JSON.parse(x))}const C=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),b=(d=o.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");C&&b&&b.length>1&&(_=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,_=null,w=406,E="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const C=await o.text();try{p=JSON.parse(C),Array.isArray(p)&&o.status===404&&(m=[],p=null,w=200,E="OK")}catch{o.status===404&&C===""?(w=204,E="No Content"):p={message:C}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,w=200,E="OK"),p&&this.shouldThrowOnError)throw new zk.default(p)}return{error:p,data:m,count:_,status:w,statusText:E}});return this.shouldThrowOnError||(s=s.catch(o=>{var l,c,d;return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(c=o==null?void 0:o.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(d=o==null?void 0:o.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};au.default=Fk;var Bk=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ou,"__esModule",{value:!0});const Uk=Bk(au);let Hk=class extends Uk.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:l="text"}={}){var c;const d=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${d};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ou.default=Hk;var Wk=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wo,"__esModule",{value:!0});const Zk=Wk(ou);let Vk=class extends Zk.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Wo.default=Vk;var qk=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(su,"__esModule",{value:!0});const Bs=qk(Wo);let Kk=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),r&&this.headers.append("Prefer",`count=${r}`),new Bs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Bs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new Bs.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Bs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Bs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};su.default=Kk;var X_=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bf,"__esModule",{value:!0});const Gk=X_(su),Yk=X_(Wo);let Jk=class e0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Gk.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var l;let c;const d=new URL(`${this.url}/rpc/${t}`);let h;r||s?(c=r?"HEAD":"GET",Object.entries(n).filter(([m,_])=>_!==void 0).map(([m,_])=>[m,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([m,_])=>{d.searchParams.append(m,_)})):(c="POST",h=n);const p=new Headers(this.headers);return o&&p.set("Prefer",`count=${o}`),new Yk.default({method:c,url:d,headers:p,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};bf.default=Jk;var hs=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const t0=hs(bf);yt.PostgrestClient=t0.default;const n0=hs(su);yt.PostgrestQueryBuilder=n0.default;const r0=hs(Wo);yt.PostgrestFilterBuilder=r0.default;const i0=hs(ou);yt.PostgrestTransformBuilder=i0.default;const s0=hs(au);yt.PostgrestBuilder=s0.default;const o0=hs(lu);yt.PostgrestError=o0.default;var Qk=yt.default={PostgrestClient:t0.default,PostgrestQueryBuilder:n0.default,PostgrestFilterBuilder:r0.default,PostgrestTransformBuilder:i0.default,PostgrestBuilder:s0.default,PostgrestError:o0.default};const{PostgrestClient:Xk,PostgrestQueryBuilder:Yj,PostgrestFilterBuilder:Jj,PostgrestTransformBuilder:Qj,PostgrestBuilder:Xj,PostgrestError:eA}=Qk;class eP{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tP="2.15.1",nP=`realtime-js/${tP}`,rP="1.0.0",Vd=1e4,iP=1e3,sP=100;var oo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oo||(oo={}));var Be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Be||(Be={}));var Yt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yt||(Yt={}));var qd;(function(e){e.websocket="websocket"})(qd||(qd={}));var Fr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Fr||(Fr={}));class oP{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class a0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(we||(we={}));const xg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,l)=>(o[l]=aP(l,e,t,s),o),{})},aP=(e,t,n,r)=>{const s=t.find(c=>c.name===e),o=s==null?void 0:s.type,l=n[e];return o&&!r.includes(o)?l0(o,l):Kd(l)},l0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return dP(t,n)}switch(e){case we.bool:return lP(t);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return uP(t);case we.json:case we.jsonb:return cP(t);case we.timestamp:return hP(t);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return Kd(t);default:return Kd(t)}},Kd=e=>e,lP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},uP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dP=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>l0(t,c))}return e},hP=e=>typeof e=="string"?e.replace(" ","T"):e,u0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Nc{constructor(t,n,r={},s=Vd){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bg||(bg={}));class ao{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ao.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=ao.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ao.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),l=this.transformState(n),c={},d={};return this.map(o,(h,p)=>{l[h]||(d[h]=p)}),this.map(l,(h,p)=>{const m=o[h];if(m){const _=p.map(C=>C.presence_ref),w=m.map(C=>C.presence_ref),E=p.filter(C=>w.indexOf(C.presence_ref)<0),P=m.filter(C=>_.indexOf(C.presence_ref)<0);E.length>0&&(c[h]=E),P.length>0&&(d[h]=P)}else c[h]=p}),this.syncDiff(o,{joins:c,leaves:d},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var h;const p=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),p.length>0){const m=t[c].map(w=>w.presence_ref),_=p.filter(w=>m.indexOf(w.presence_ref)<0);t[c].unshift(..._)}r(c,p,d)}),this.map(l,(c,d)=>{let h=t[c];if(!h)return;const p=d.map(m=>m.presence_ref);h=h.filter(m=>p.indexOf(m.presence_ref)<0),t[c]=h,s(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Sg||(Sg={}));var lo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lo||(lo={}));var jn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class Sf{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nc(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new a0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ao(this),this.broadcastEndpointURL=u0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[lo.PRESENCE]&&this.bindings[lo.PRESENCE].length>0,p={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(jn.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var w;if(this.socket.setAuth(),_===void 0){t==null||t(jn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,P=(w=E==null?void 0:E.length)!==null&&w!==void 0?w:0,C=[];for(let b=0;b<P;b++){const x=E[b],{filter:{event:S,schema:T,table:A,filter:M}}=x,O=_&&_[b];if(O&&O.event===S&&O.schema===T&&O.table===A&&O.filter===M)C.push(Object.assign(Object.assign({},x),{id:O.id}));else{this.unsubscribe(),this.state=Be.errored,t==null||t(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(jn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Be.errored,t==null||t(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Be.joined&&t===lo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:l}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Nc(this,Yt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nc(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sP){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:p}=Yt;if(r&&[c,d,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let _=this._onMessage(l,n,r);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var E,P,C;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((C=(P=w.filter)===null||P===void 0?void 0:P.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(w=>w.callback(_,r)):(o=this.bindings[l])===null||o===void 0||o.filter(w=>{var E,P,C,b,x,S;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const T=w.id,A=(E=w.filter)===null||E===void 0?void 0:E.event;return T&&((P=n.ids)===null||P===void 0?void 0:P.includes(T))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const T=(x=(b=w==null?void 0:w.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return T==="*"||T===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof _=="object"&&"ids"in _){const E=_.data,{schema:P,table:C,commit_timestamp:b,type:x,errors:S}=E;_=Object.assign(Object.assign({},{schema:P,table:C,commit_timestamp:b,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(E))}w.callback(_,r)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Sf.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yt.close,{},t)}_onError(t){this._on(Yt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xg(t.columns,t.old_record)),n}}const Eg=()=>{},Ra={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fP=[1e3,2e3,5e3,1e4],pP=1e4,mP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gP{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vd,this.transport=null,this.heartbeatIntervalMs=Ra.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eg,this.ref=0,this.reconnectTimer=null,this.logger=Eg,this.conn=null,this.sendBuffer=[],this.serializer=new oP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Ho(async()=>{const{default:c}=await Promise.resolve().then(()=>ds);return{default:c}},void 0).then(({default:c})=>c(...l)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${qd.websocket}`,this.httpEndpoint=u0(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eP.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rP}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oo.connecting:return Fr.Connecting;case oo.open:return Fr.Open;case oo.closing:return Fr.Closing;default:return Fr.Closed}}isConnected(){return this.connectionState()===Fr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Sf(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(iP,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ra.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:l}=n,c=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${s} ${c}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([mP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:nP};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Yt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new a0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ra.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,l,c,d,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Vd,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ra.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:p=>fP[p-1]||pP,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(p,m)=>m(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ef extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class vP extends Ef{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gd extends Ef{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var yP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(m){l(m)}}function d(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(e,t||[])).next())})};const c0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ho(async()=>{const{default:r}=await Promise.resolve().then(()=>ds);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_P=()=>yP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ho(()=>Promise.resolve().then(()=>ds),void 0)).Response:Response}),Yd=e=>{if(Array.isArray(e))return e.map(n=>Yd(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Yd(r)}),t},wP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ai=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(m){l(m)}}function d(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(e,t||[])).next())})};const jc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xP=(e,t,n)=>ai(void 0,void 0,void 0,function*(){const r=yield _P();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,l=(s==null?void 0:s.statusCode)||o+"";t(new vP(jc(s),o,l))}).catch(s=>{t(new Gd(jc(s),s))}):t(new Gd(jc(e),e))}),bP=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(wP(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Zo(e,t,n,r,s,o){return ai(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(n,bP(t,r,s,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>xP(d,c,r))})})}function jl(e,t,n,r){return ai(this,void 0,void 0,function*(){return Zo(e,"GET",t,n,r)})}function hn(e,t,n,r,s){return ai(this,void 0,void 0,function*(){return Zo(e,"POST",t,r,s,n)})}function Jd(e,t,n,r,s){return ai(this,void 0,void 0,function*(){return Zo(e,"PUT",t,r,s,n)})}function SP(e,t,n,r){return ai(this,void 0,void 0,function*(){return Zo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function d0(e,t,n,r,s){return ai(this,void 0,void 0,function*(){return Zo(e,"DELETE",t,r,s,n)})}var lt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(m){l(m)}}function d(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(e,t||[])).next())})};const EP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kP{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=c0(s)}uploadOrUpdate(t,n,r,s){return lt(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},kg),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),m=yield(t=="PUT"?Jd:hn)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(Ue(o))return{data:null,error:o};throw o}})}upload(t,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return lt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",n);try{let d;const h=Object.assign({upsert:kg.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const m=yield Jd(this.fetch,c.toString(),d,{headers:p});return{data:{path:o,fullPath:m.Key},error:null}}catch(d){if(Ue(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return lt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield hn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new Ef("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}update(t,n,r){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return lt(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}copy(t,n,r){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return lt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield hn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return lt(this,void 0,void 0,function*(){try{const s=yield hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}download(t,n){return lt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield jl(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Ue(c))return{data:null,error:c};throw c}})}info(t){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield jl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yd(r),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}exists(t){return lt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield SP(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ue(r)&&r instanceof Gd){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&s.push(d);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}remove(t){return lt(this,void 0,void 0,function*(){try{return{data:yield d0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}list(t,n,r){return lt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},EP),n),{prefix:t||""});return{data:yield hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}listV2(t,n){return lt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield hn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const PP="2.11.0",CP={"X-Client-Info":`storage-js/${PP}`};var wi=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(m){l(m)}}function d(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(e,[])).next())})};class TP{constructor(t,n={},r,s){const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},CP),n),this.fetch=c0(r)}listBuckets(){return wi(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}getBucket(t){return wi(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return wi(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return wi(this,void 0,void 0,function*(){try{return{data:yield Jd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}emptyBucket(t){return wi(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}deleteBucket(t){return wi(this,void 0,void 0,function*(){try{return{data:yield d0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}}class LP extends TP{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new kP(this.url,this.headers,t,this.fetch)}}const NP="2.56.0";let Ks="";typeof Deno<"u"?Ks="deno":typeof document<"u"?Ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ks="react-native":Ks="node";const jP={"X-Client-Info":`supabase-js-${Ks}/${NP}`},AP={headers:jP},OP={schema:"public"},RP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IP={};var MP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(m){l(m)}}function d(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(e,t||[])).next())})};const $P=e=>{let t;return e?t=e:typeof fetch>"u"?t=Y_:t=fetch,(...n)=>t(...n)},DP=()=>typeof Headers>"u"?J_:Headers,zP=(e,t,n)=>{const r=$P(n),s=DP();return(o,l)=>MP(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};var FP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(m){l(m)}}function d(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(e,[])).next())})};function BP(e){return e.endsWith("/")?e:e+"/"}function UP(e,t){var n,r;const{db:s,auth:o,realtime:l,global:c}=e,{db:d,auth:h,realtime:p,global:m}=t,_={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>FP(this,void 0,void 0,function*(){return""})};return e.accessToken?_.accessToken=e.accessToken:delete _.accessToken,_}const h0="2.71.1",ki=30*1e3,Qd=3,Ac=Qd*ki,HP="http://localhost:9999",WP="supabase.auth.token",ZP={"X-Client-Info":`gotrue-js/${h0}`},Xd="X-Supabase-Api-Version",f0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qP=10*60*1e3;class kf extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class KP extends kf{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function GP(e){return re(e)&&e.name==="AuthApiError"}class p0 extends kf{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class br extends kf{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Qn extends br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YP(e){return re(e)&&e.name==="AuthSessionMissingError"}class Ia extends br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ma extends br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $a extends br{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JP(e){return re(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pg extends br{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class eh extends br{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Oc(e){return re(e)&&e.name==="AuthRetryableFetchError"}class Cg extends br{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class th extends br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tg=` 	
\r=`.split(""),QP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tg.length;t+=1)e[Tg[t].charCodeAt(0)]=-2;for(let t=0;t<Al.length;t+=1)e[Al[t].charCodeAt(0)]=t;return e})();function Lg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Al[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Al[r]),t.queuedBits-=6}}function m0(e,t,n){const r=QP[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ng(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{tC(l,r,n)};for(let l=0;l<e.length;l+=1)m0(e.charCodeAt(l),s,o);return t.join("")}function XP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eC(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}XP(r,t)}}function tC(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function nC(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)m0(e.charCodeAt(s),n,r);return new Uint8Array(t)}function rC(e){const t=[];return eC(e,n=>t.push(n)),new Uint8Array(t)}function iC(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Lg(s,n,r)),Lg(null,n,r),t.join("")}function sC(e){return Math.round(Date.now()/1e3)+e}function oC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",Ar={tested:!1,writable:!1},g0=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};function aC(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const v0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ho(async()=>{const{default:r}=await Promise.resolve().then(()=>ds);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},lC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Or=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yn=async(e,t)=>{await e.removeItem(t)};class uu{constructor(){this.promise=new uu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}uu.promiseConstructor=Promise;function Rc(e){const t=e.split(".");if(t.length!==3)throw new th("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!VP.test(t[r]))throw new th("JWT not in base64url format");return{header:JSON.parse(Ng(t[0])),payload:JSON.parse(Ng(t[1])),signature:nC(t[2]),raw:{header:t[0],payload:t[1]}}}async function uC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cC(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){s(l);return}}})()})}function dC(e){return("0"+e.toString(16)).substr(-2)}function hC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,dC).join("")}async function fC(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function pC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await fC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xi(e,t,n=!1){const r=hC();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Pi(e,`${t}-code-verifier`,s);const o=await pC(r);return[o,r===o?"plain":"s256"]}const mC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gC(e){const t=e.headers.get(Xd);if(!t||!t.match(mC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _C=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bi(e){if(!_C.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ic(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jg(e){return JSON.parse(JSON.stringify(e))}var wC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Dr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xC=[502,503,504];async function Ag(e){var t;if(!lC(e))throw new eh(Dr(e),0);if(xC.includes(e.status))throw new eh(Dr(e),e.status);let n;try{n=await e.json()}catch(o){throw new p0(Dr(o),o)}let r;const s=gC(e);if(s&&s.getTime()>=f0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Cg(Dr(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Cg(Dr(n),e.status,n.weak_password.reasons);throw new KP(Dr(n),e.status||500,r)}const bC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ue(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Xd]||(o[Xd]=f0["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await SC(e,t,n+c,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function SC(e,t,n,r,s,o){const l=bC(t,r,s,o);let c;try{c=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new eh(Dr(d),0)}if(c.ok||await Ag(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(d){await Ag(d)}}function Ln(e){var t;let n=null;CC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=sC(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Og(e){const t=Ln(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function rr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function EC(e){return{data:e,error:null}}function kC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,l=wC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function PC(e){return e}function CC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mc=["global","local","others"];var TC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class LC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=v0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Mc[0]){if(Mc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mc.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:rr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=TC(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:kC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(re(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:rr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:PC});if(p.error)throw p.error;const m=await p.json(),_=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(E=>{const P=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(E.split(";")[1].split("=")[1]);h[`${C}Page`]=P}),h.total=parseInt(_)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(re(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){bi(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:rr})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){bi(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:rr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){bi(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:rr})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){bi(t.userId);try{const{data:n,error:r}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(re(n))return{data:null,error:n};throw n}}async _deleteFactor(t){bi(t.userId),bi(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}}function Rg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function NC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Si={debug:!!(globalThis&&g0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class y0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class jC extends y0{}async function AC(e,t,n){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Si.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}NC();const OC={url:HP,storageKey:WP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ig(e,t,n){return await n()}const Ei={};class No{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=No.nextInstanceID,No.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},OC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new LC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=v0(s.fetch),this.lock=s.lock||Ig,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=AC:this.lock=Ig,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:g0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rg(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Rg(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ei[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ei[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${h0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=aC(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),qt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),JP(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return re(n)?{error:n}:{error:new p0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ln}),{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(re(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:p,password:m,options:_}=t;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await xi(this.storage,this.storageKey)),o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:p,password:m,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:w,code_challenge_method:E},xform:Ln})}else if("phone"in t){const{phone:p,password:m,options:_}=t;o=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},channel:(s=_==null?void 0:_.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Ln})}else throw new Ma("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(re(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:c}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Og})}else if("phone"in t){const{phone:o,password:l,options:c}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Og})}else throw new Ma("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ia}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,l,c,d,h,p,m,_,w;let E,P;if("message"in t)E=t.message,P=t.signature;else{const{chain:C,wallet:b,statement:x,options:S}=t;let T;if(qt())if(typeof b=="object")T=b;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))T=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=b}const A=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const M=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),x?{statement:x}:null));let O;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")O=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)O=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)E=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),P=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${A.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((h=S==null?void 0:S.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((m=(p=S==null?void 0:S.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...S.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const M=await T.signMessage(new TextEncoder().encode(E),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=M}}try{const{data:C,error:b}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:iC(P)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ln});if(b)throw b;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Ia}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:b})}catch(C){if(re(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await Or(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:l}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Ln});if(await Yn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ia}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(re(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:l}=t,c=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ln}),{data:d,error:h}=c;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ia}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,l;try{if("email"in t){const{email:c,options:d}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await xi(this.storage,this.storageKey));const{error:m}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:p}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Ma("You must provide either an email or phone number.")}catch(c){if(re(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ln});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await xi(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:EC})}catch(o){if(re(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Qn;const{error:s}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:l}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:l,error:c}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Ma("You must provide either an email or phone number and a type")}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ac:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Or(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Ic()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,p))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:rr}):await this._useSession(async n=>{var r,s,o;const{data:l,error:c}=n;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qn}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:rr})})}catch(n){if(re(n))return YP(n)&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Qn;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await xi(this.storage,this.storageKey));const{data:h,error:p}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:rr});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:l}=Rc(t.access_token);if(l.exp&&(r=l.exp,s=r<=n),s){const{session:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(re(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:c}=n;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Qn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!qt())throw new $a("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $a(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Pg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $a("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pg("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=t;if(!o||!c||!l||!h)throw new $a("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(c);let _=p+m;d&&(_=parseInt(d));const w=_-p;w*1e3<=ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${m}s`);const E=_-m;p-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,_,p):p-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,_,p);const{data:P,error:C}=await this._getUser(o);if(C)throw C;const b={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:m,expires_at:_,refresh_token:l,token_type:h,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(r){if(re(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Or(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(GP(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Yn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=oC(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await xi(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(re(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var l,c,d,h,p;const{data:m,error:_}=o;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return qt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(re(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)throw l;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await cC(async s=>(s>0&&await uC(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ln})),(s,o)=>{const l=200*Math.pow(2,s);return o&&Oc(o)&&Date.now()+l-r<ki})}catch(r){if(this._debug(n,"error",r),re(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),qt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Or(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await Pi(this.userStorage,this.storageKey+"-user",l)),s.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Ic()}else if(s&&!s.user&&!s.user){const l=await Or(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Yn(this.storage,this.storageKey+"-user"),await Pi(this.storage,this.storageKey,s)):s.user=Ic()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ac;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ac}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Oc(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new uu;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Qn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),re(o)){const l={session:null,error:o};return Oc(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=jg(s);await Pi(this.storage,this.storageKey,o)}else{const s=jg(n);await Pi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Yn(this.storage,this.storageKey),await Yn(this.storage,this.storageKey+"-code-verifier"),await Yn(this.storage,this.storageKey+"-user"),this.userStorage&&await Yn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ki);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ki}ms, refresh threshold is ${Qd} ticks`),s<=Qd&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof y0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await xi(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:h}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(re(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:l,error:c}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(re(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(re(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Rc(s.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(c=>c.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+qP>s)return r;const{data:o,error:l}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:w,error:E}=await this.getSession();if(E||!w.session)return{data:null,error:E};r=w.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:d}}=Rc(r);n!=null&&n.allowExpired||vC(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:o,header:s,signature:l},error:null}}const p=yC(s.alg),m=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,l,rC(`${c}.${d}`)))throw new th("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}}No.nextInstanceID=0;const RC=No;class IC extends RC{constructor(t){super(t)}}var MC=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(m){l(m)}}function d(p){try{h(r.throw(p))}catch(m){l(m)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(e,[])).next())})};class $C{constructor(t,n,r){var s,o,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const c=BP(t),d=new URL(c);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:OP,realtime:IP,auth:Object.assign(Object.assign({},RP),{storageKey:h}),global:AP},m=UP(r??{},p);this.storageKey=(s=m.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,m.global.fetch),this.fetch=zP(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new Xk(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new LP(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new jk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return MC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:l,lock:c,debug:d},h,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IC({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:l,lock:c,debug:d,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new gP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DC=(e,t,n)=>new $C(e,t,n);function zC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}zC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _0="https://ppqcrsmtijnbbxqizgvr.supabase.co",FC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBwcWNyc210aWpuYmJ4cWl6Z3ZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMzAwMTcsImV4cCI6MjA3MTYwNjAxN30.84AC8pI219Glh4aj22wbqLi-n-zdFO6QYsrHS0q9gHc";console.log("Supabase configuration check:");console.log("URL:",_0);console.log("Key:","Present");const Ge=DC(_0,FC,{auth:{persistSession:!0,autoRefreshToken:!0}});class BC{async signUp(t,n){return await Ge.auth.signUp({email:t,password:n})}async signIn(t,n){return await Ge.auth.signInWithPassword({email:t,password:n})}async signOut(){return await Ge.auth.signOut()}async createUser(t){try{const{data:n,error:r}=await Ge.from("users").insert(t).select().single();if(r)throw r;return n}catch(n){return console.error("Error creating user:",n),null}}async getUserById(t){try{const{data:n,error:r}=await Ge.from("users").select("*").eq("id",t).single();if(r)throw r;const{data:s,error:o}=await Ge.from("emergency_contacts").select("*").eq("user_id",t);if(o)throw o;const l=(s||[]).map(c=>({id:c.id,name:c.name,phoneNumber:c.phone_number}));return{...n,emergency_contacts:l}}catch(n){return console.error("Error fetching user:",n),null}}async updateUser(t,n){try{const{data:r,error:s}=await Ge.from("users").update(n).eq("id",t).select().single();if(s)throw s;return r}catch(r){return console.error("Error updating user:",r),null}}async createEmergencyContact(t,n){try{const{data:r,error:s}=await Ge.from("emergency_contacts").insert({user_id:t,name:n.name,phone_number:n.phoneNumber,relationship:"Emergency Contact"}).select().single();if(s)throw s;return r}catch(r){return console.error("Error creating emergency contact:",r),null}}async updateEmergencyContact(t,n){try{const r={};n.name&&(r.name=n.name),n.phoneNumber&&(r.phone_number=n.phoneNumber);const{data:s,error:o}=await Ge.from("emergency_contacts").update(r).eq("id",t).select().single();if(o)throw o;return s}catch(r){return console.error("Error updating emergency contact:",r),null}}async deleteEmergencyContact(t){try{const{error:n}=await Ge.from("emergency_contacts").delete().eq("id",t);if(n)throw n;return!0}catch(n){return console.error("Error deleting emergency contact:",n),!1}}async createSOSAlert(t){try{const{data:n,error:r}=await Ge.from("sos_alerts").insert(t).select().single();if(r)throw r;return n}catch(n){return console.error("Error creating SOS alert:",n),null}}async getSOSAlertsByUserId(t){try{const{data:n,error:r}=await Ge.from("sos_alerts").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return n||[]}catch(n){return console.error("Error fetching SOS alerts:",n),[]}}async updateSOSAlert(t,n){try{const{data:r,error:s}=await Ge.from("sos_alerts").update(n).eq("id",t).select().single();if(s)throw s;return r}catch(r){return console.error("Error updating SOS alert:",r),null}}async getActiveSOSAlerts(){try{const{data:t,error:n}=await Ge.from("sos_alerts").select("*").eq("status","active").order("created_at",{ascending:!1});if(n)throw n;return t||[]}catch(t){return console.error("Error fetching active SOS alerts:",t),[]}}}const fn=new BC,Mg="your-openai-api-key",UC="your-elevenlabs-api-key";class HC{constructor(){tm(this,"emergencyWarnings",["Hey! I can see you on camera right now. Step away from that person immediately.","This is a monitored safety call. I'm recording everything and your location is being tracked. Back off now!","Police have been notified and are en route to your exact location. I repeat - authorities are on the way. Leave immediately!","This is your final warning. Emergency services are 2 minutes away. You are being recorded and identified. Move away now!"])}async transcribeAudio(t){try{const n=new FormData;n.append("file",t,"audio.webm"),n.append("model","whisper-1"),n.append("language","en");const r=await fetch("https://api.openai.com/v1/audio/transcriptions",{method:"POST",headers:{Authorization:`Bearer ${Mg}`},body:n});if(!r.ok)throw new Error(`Transcription failed: ${r.statusText}`);return(await r.json()).text||""}catch(n){return console.error("Error transcribing audio:",n),"Someone is talking to me and I'm not sure about their intentions."}}async getAIResponse(t,n=!1){var r,s;try{const o=n?"You are Aura, a personal safety AI. The situation has escalated. Change your tone to be loud, assertive, and official. Announce that this is a monitored safety call, that audio is being recorded, and that the user's location has been shared with authorities. Address the potential aggressor directly. Keep responses under 50 words and be direct.":"You are Aura, a personal safety AI. You are on a simulated phone call with me. Your tone is calm, clear, and reassuring. Respond as if you are a friend or family member on the phone, asking clarifying questions like 'What's going on?' or 'Describe them to me'. Keep responses under 30 words.",l=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Mg}`},body:JSON.stringify({model:"gpt-4o",messages:[{role:"system",content:o},{role:"user",content:t}],max_tokens:100,temperature:.7})});if(!l.ok)throw new Error(`AI response failed: ${l.statusText}`);return((s=(r=(await l.json()).choices[0])==null?void 0:r.message)==null?void 0:s.content)||"I understand. Can you tell me more about what's happening?"}catch(o){return console.error("Error getting AI response:",o),n?"This call is being monitored and recorded. The user's location has been shared with emergency services. Please step away immediately.":"Hey, what's going on? Are you okay? Can you describe what's happening?"}}async generateSpeech(t){try{const n=await fetch("https://api.elevenlabs.io/v1/text-to-speech/21m00Tcm4TlvDq8ikWAM",{method:"POST",headers:{Accept:"audio/mpeg","Content-Type":"application/json","xi-api-key":UC},body:JSON.stringify({text:t,model_id:"eleven_monolingual_v1",voice_settings:{stability:.5,similarity_boost:.5}})});if(!n.ok)throw new Error(`Speech generation failed: ${n.statusText}`);return await n.blob()}catch(n){return console.error("Error generating speech:",n),new Blob}}async triggerSmsAlert(t,n){try{if(!SUPABASE_URL||SUPABASE_URL==="your-supabase-url"||!SUPABASE_ANON_KEY||SUPABASE_ANON_KEY==="your-supabase-anon-key")return console.warn("Supabase not configured, using mock response for SMS alert"),{success:!0,message:"Emergency alert sent successfully (mock response - Supabase not configured)"};const r=await fetch(`${this.baseUrl}/send-aura-alert`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${SUPABASE_ANON_KEY}`},body:JSON.stringify({userId:t,latitude:n.latitude,longitude:n.longitude})});if(!r.ok)throw new Error(`Alert failed: ${r.statusText}`);return await r.json()}catch(r){return console.error("Error sending SMS alert:",r),{success:!0,message:"Emergency alert sent successfully (mock response)"}}}async triggerSOSAlert(t,n){try{const r=await fn.createSOSAlert({user_id:t,location:{latitude:n.latitude,longitude:n.longitude},status:"active"});if(!r)throw new Error("Failed to create SOS alert");const o=(await fn.getEmergencyContactsByUserId(t)).length;return{success:!0,message:"SOS alert triggered successfully",data:{alertId:r.id,contactsNotified:o,timestamp:new Date().toISOString()}}}catch(r){return console.error("Error sending SOS alert:",r),{success:!1,message:r instanceof Error?r.message:"Failed to trigger SOS alert",data:null}}}detectThreat(t){const n=["help me","help","go away","leave me alone","stop","no","scared","afraid","uncomfortable","threatening","following","emergency","call police","danger","unsafe"],r=t.toLowerCase();return n.some(s=>r.includes(s))}async processAudioWorkflow(t){try{const n=await this.transcribeAudio(t),r=this.detectThreat(n),s=await this.getAIResponse(n,r);return{transcription:n,threat_detected:r,ai_response:s}}catch(n){throw console.error("Error in audio workflow:",n),n}}async playAudioResponse(t){try{const n=await this.generateSpeech(t);if(n.size>0){const r=URL.createObjectURL(n),s=new Audio(r);s.volume=1,await new Promise((o,l)=>{s.onended=o,s.onerror=l,s.play()}),URL.revokeObjectURL(r)}else if("speechSynthesis"in window){const r=new SpeechSynthesisUtterance(t);r.rate=.9,r.pitch=1,r.volume=1,speechSynthesis.speak(r)}}catch(n){throw console.error("Error playing audio response:",n),n}}async playEmergencyWarnings(){try{for(let t=0;t<this.emergencyWarnings.length;t++){const n=this.emergencyWarnings[t];if("speechSynthesis"in window){const r=new SpeechSynthesisUtterance(n);r.rate=.8,r.pitch=.7,r.volume=1;const o=speechSynthesis.getVoices().find(l=>l.name.toLowerCase().includes("male")||l.name.toLowerCase().includes("david")||l.name.toLowerCase().includes("daniel"));o&&(r.voice=o),speechSynthesis.speak(r),await new Promise(l=>{r.onend=l,r.onerror=l}),t<this.emergencyWarnings.length-1&&await new Promise(l=>setTimeout(l,1e4))}}}catch(t){throw console.error("Error playing emergency warnings:",t),t}}stopEmergencyWarnings(){"speechSynthesis"in window&&speechSynthesis.cancel()}}const Jn=new HC,Rr={USER_PROFILE:"aura_user_profile",EMERGENCY_CONTACTS:"aura_emergency_contacts",USER_ID:"aura_user_id"};class WC{generateUserId(){return`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getUserId(){let t=localStorage.getItem(Rr.USER_ID);return t||(t=this.generateUserId(),localStorage.setItem(Rr.USER_ID,t)),t}initializeDefaultContacts(){const t=[{id:`contact_${Date.now()}`,name:"Emergency Services",phoneNumber:"911"}];return this.saveEmergencyContacts(t),t}saveEmergencyContacts(t){localStorage.setItem(Rr.EMERGENCY_CONTACTS,JSON.stringify(t))}getEmergencyContacts(){const t=localStorage.getItem(Rr.EMERGENCY_CONTACTS);if(!t)return this.initializeDefaultContacts();const n=JSON.parse(t);return n.length===0?this.initializeDefaultContacts():n}saveUserProfile(t){const r={...this.getUserProfile(),...t};localStorage.setItem(Rr.USER_PROFILE,JSON.stringify(r))}getUserProfile(){const t=localStorage.getItem(Rr.USER_PROFILE),n={id:this.getUserId(),name:"",emergencyContacts:this.getEmergencyContacts(),voiceActivationEnabled:!1,voiceActivationLanguage:"en-US"};return t?{...n,...JSON.parse(t)}:n}isOnboardingComplete(){return this.getUserProfile().emergencyContacts.length>0}clearAllData(){Object.values(Rr).forEach(t=>{localStorage.removeItem(t)})}}const Us=new WC,$g=(e,t,n)=>e+(t-e)*n,ZC=({auraState:e,isListening:t,permissionStatus:n,onRequestPermission:r})=>{const s=y.useRef(null),o=y.useRef(null),l=y.useRef(null),c=y.useRef(null),d=y.useRef(null),h=y.useRef(null),p=y.useRef(0),m=y.useRef(null),_=y.useMemo(()=>({idle:["#8ab4ff","#b39ddb"],listening:["#8ab4ff","#b39ddb"],active:["#ffd36e","#ff8a65"],alert:["#ff6b6b","#ffd166"],sos_active:["#34d399","#059669"]}),[]);y.useEffect(()=>((async()=>{if(!(n!=="granted"||l.current))try{const P=await navigator.mediaDevices.getUserMedia({audio:!0}),C=new(window.AudioContext||window.webkitAudioContext),b=C.createMediaStreamSource(P),x=C.createAnalyser();x.fftSize=1024,x.smoothingTimeConstant=.85;const S=new Uint8Array(x.frequencyBinCount);b.connect(x),d.current=C,c.current=b,l.current=x,h.current=S}catch(P){console.error("Failed to init audio analyser",P)}})(),()=>{if(d.current)try{d.current.close()}catch{}l.current=null,c.current=null,d.current=null,h.current=null}),[n]),y.useEffect(()=>{const E=s.current,P=o.current;if(!E||!P)return;const C=()=>{const x=Math.min(P.clientWidth,520);E.width=x*2,E.height=x*2,E.style.width=`${x}px`,E.style.height=`${x}px`};C();const b=new ResizeObserver(C);return b.observe(P),()=>b.disconnect()},[]),y.useEffect(()=>{const E=s.current;if(!E)return;const P=E.getContext("2d");if(!P)return;let C=0;const b=()=>{C+=.008;const x=l.current,S=h.current;if(x&&S&&(t||n==="granted")){x.getByteTimeDomainData(S);let de=0;for(let $=0;$<S.length;$++){const z=(S[$]-128)/128;de+=z*z}const R=Math.sqrt(de/S.length);p.current=$g(p.current,Math.min(R*3,1),.2)}else p.current=$g(p.current,.05,.05);const T=E.width,A=E.height,M=T/2,O=A/2,D=Math.min(T,A)*.42;P.clearRect(0,0,T,A);const W=P.createRadialGradient(M,O,D*.3,M,O,D*1.4),U=e===rt.ALERT?"alert":e===rt.SOS_ACTIVE?"sos_active":e===rt.ACTIVE?"active":t?"listening":"idle",[H,ee]=_[U];W.addColorStop(0,`${H}22`),W.addColorStop(1,"#00000000"),P.fillStyle=W,P.fillRect(0,0,T,A);const V=34,Q=40,Oe=D*(.22+p.current*.45);P.save(),P.translate(M,O),P.globalCompositeOperation="lighter";for(let de=0;de<=V;de++){const $=de/V*Math.PI,z=Math.sin($)*D,K=Math.cos($)*D*.55;for(let X=0;X<Q;X++){const fe=X/Q*Math.PI*2+C*.8,ie=Math.cos(fe)*z,J=K,Re=Math.sin(fe)*z,Ht=1+Math.sin((ie+Re)*.015+C*2)*Math.cos(J*.04+C)*Oe/Math.max(1,D*2),kr=ie*Ht,Pr=J*Ht,Vn=1/(1+Re/(D*2)),li=Math.max(1.8,3.2*Vn+p.current*3.2),Eu=.12+Vn*.22+p.current*.2,ui=P.createRadialGradient(kr,Pr,0,kr,Pr,li*3);ui.addColorStop(0,`${H}`),ui.addColorStop(1,`${ee}00`),P.fillStyle=ui,P.globalAlpha=Eu,P.beginPath(),P.arc(kr,Pr,li,0,Math.PI*2),P.fill()}}P.restore(),P.save();const te=P.createRadialGradient(M,O,D*.15,M,O,D*1.1);te.addColorStop(0,`${H}66`),te.addColorStop(1,"#00000000"),P.fillStyle=te,P.fillRect(0,0,T,A),P.restore(),m.current=requestAnimationFrame(b)};return m.current=requestAnimationFrame(b),()=>{m.current&&cancelAnimationFrame(m.current)}},[e,t,n,_]);const w=n!=="granted";return g.jsxs("div",{ref:o,className:"relative flex items-center justify-center",style:{minHeight:220},children:[g.jsx("canvas",{ref:s,className:"rounded-full"}),w&&g.jsx("button",{onClick:r,className:"absolute bottom-2 px-3 py-1.5 text-xs rounded-full bg-white/10 backdrop-blur border border-white/20 hover:bg-white/20 transition",children:"Enable microphone for live orb"})]})};function w0(e,t){const n=y.useRef(t);y.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const VC=1;function qC(e){return Object.freeze({__version:VC,map:e})}function x0(e,t){return Object.freeze({...e,...t})}const b0=y.createContext(null),S0=b0.Provider;function cu(){const e=y.useContext(b0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function E0(e){function t(n,r){const{instance:s,context:o}=e(n).current;return y.useImperativeHandle(r,()=>s),n.children==null?null:ge.createElement(S0,{value:o},n.children)}return y.forwardRef(t)}function KC(e){function t(n,r){const[s,o]=y.useState(!1),{instance:l}=e(n,o).current;y.useImperativeHandle(r,()=>l),y.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?wn.createPortal(n.children,c):null}return y.forwardRef(t)}function GC(e){function t(n,r){const{instance:s}=e(n).current;return y.useImperativeHandle(r,()=>s),null}return y.forwardRef(t)}function Pf(e,t){const n=y.useRef();y.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function du(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function YC(e,t){return function(r,s){const o=cu(),l=e(du(r,o),o);return w0(o.map,r.attribution),Pf(l.current,r.eventHandlers),t(l.current,o,r,s),l}}var nh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Tt,function(n){var r="1.9.4";function s(i){var a,u,f,v;for(u=1,f=arguments.length;u<f;u++){v=arguments[u];for(a in v)i[a]=v[a]}return i}var o=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function l(i,a){var u=Array.prototype.slice;if(i.bind)return i.bind.apply(i,u.call(arguments,1));var f=u.call(arguments,2);return function(){return i.apply(a,f.length?f.concat(u.call(arguments)):arguments)}}var c=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++c),i._leaflet_id}function h(i,a,u){var f,v,k,N;return N=function(){f=!1,v&&(k.apply(u,v),v=!1)},k=function(){f?v=arguments:(i.apply(u,arguments),setTimeout(N,a),f=!0)},k}function p(i,a,u){var f=a[1],v=a[0],k=f-v;return i===f&&u?i:((i-v)%k+k)%k+v}function m(){return!1}function _(i,a){if(a===!1)return i;var u=Math.pow(10,a===void 0?6:a);return Math.round(i*u)/u}function w(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function E(i){return w(i).split(/\s+/)}function P(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var u in a)i.options[u]=a[u];return i.options}function C(i,a,u){var f=[];for(var v in i)f.push(encodeURIComponent(u?v.toUpperCase():v)+"="+encodeURIComponent(i[v]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function x(i,a){return i.replace(b,function(u,f){var v=a[f];if(v===void 0)throw new Error("No value provided for variable "+u);return typeof v=="function"&&(v=v(a)),v})}var S=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function T(i,a){for(var u=0;u<i.length;u++)if(i[u]===a)return u;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var O=0;function D(i){var a=+new Date,u=Math.max(0,16-(a-O));return O=a+u,window.setTimeout(i,u)}var W=window.requestAnimationFrame||M("RequestAnimationFrame")||D,U=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function H(i,a,u){if(u&&W===D)i.call(a);else return W.call(window,l(i,a))}function ee(i){i&&U.call(window,i)}var V={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:d,throttle:h,wrapNum:p,falseFn:m,formatNum:_,trim:w,splitWords:E,setOptions:P,getParamString:C,template:x,isArray:S,indexOf:T,emptyImageUrl:A,requestFn:W,cancelFn:U,requestAnimFrame:H,cancelAnimFrame:ee};function Q(){}Q.extend=function(i){var a=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,f=o(u);f.constructor=a,a.prototype=f;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(a[v]=this[v]);return i.statics&&s(a,i.statics),i.includes&&(Oe(i.includes),s.apply(null,[f].concat(i.includes))),s(f,i),delete f.statics,delete f.includes,f.options&&(f.options=u.options?o(u.options):{},s(f.options,i.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,N=f._initHooks.length;k<N;k++)f._initHooks[k].call(this)}},a},Q.include=function(i){var a=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},Q.mergeOptions=function(i){return s(this.prototype.options,i),this},Q.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),u=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Oe(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=S(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(i,a,u){if(typeof i=="object")for(var f in i)this._on(f,i[f],a);else{i=E(i);for(var v=0,k=i.length;v<k;v++)this._on(i[v],a,u)}return this},off:function(i,a,u){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var f in i)this._off(f,i[f],a);else{i=E(i);for(var v=arguments.length===1,k=0,N=i.length;k<N;k++)v?this._off(i[k]):this._off(i[k],a,u)}return this},_on:function(i,a,u,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,u)===!1){u===this&&(u=void 0);var v={fn:a,ctx:u};f&&(v.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(v)}},_off:function(i,a,u){var f,v,k;if(this._events&&(f=this._events[i],!!f)){if(arguments.length===1){if(this._firingCount)for(v=0,k=f.length;v<k;v++)f[v].fn=m;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var N=this._listens(i,a,u);if(N!==!1){var j=f[N];this._firingCount&&(j.fn=m,this._events[i]=f=f.slice()),f.splice(N,1)}}},fire:function(i,a,u){if(!this.listens(i,u))return this;var f=s({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var v=this._events[i];if(v){this._firingCount=this._firingCount+1||1;for(var k=0,N=v.length;k<N;k++){var j=v[k],I=j.fn;j.once&&this.off(i,I,j.ctx),I.call(j.ctx||this,f)}this._firingCount--}}return u&&this._propagateEvent(f),this},listens:function(i,a,u,f){typeof i!="string"&&console.warn('"string" type argument expected');var v=a;typeof a!="function"&&(f=!!a,v=void 0,u=void 0);var k=this._events&&this._events[i];if(k&&k.length&&this._listens(i,v,u)!==!1)return!0;if(f){for(var N in this._eventParents)if(this._eventParents[N].listens(i,a,u,f))return!0}return!1},_listens:function(i,a,u){if(!this._events)return!1;var f=this._events[i]||[];if(!a)return!!f.length;u===this&&(u=void 0);for(var v=0,k=f.length;v<k;v++)if(f[v].fn===a&&f[v].ctx===u)return v;return!1},once:function(i,a,u){if(typeof i=="object")for(var f in i)this._on(f,i[f],a,!0);else{i=E(i);for(var v=0,k=i.length;v<k;v++)this._on(i[v],a,u,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var de=Q.extend(te);function R(i,a,u){this.x=u?Math.round(i):i,this.y=u?Math.round(a):a}var $=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(i){return this.clone()._add(z(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(z(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new R(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new R(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$(this.x),this.y=$(this.y),this},distanceTo:function(i){i=z(i);var a=i.x-this.x,u=i.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(i){return i=z(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=z(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function z(i,a,u){return i instanceof R?i:S(i)?new R(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new R(i.x,i.y):new R(i,a,u)}function K(i,a){if(i)for(var u=a?[i,a]:i,f=0,v=u.length;f<v;f++)this.extend(u[f])}K.prototype={extend:function(i){var a,u;if(!i)return this;if(i instanceof R||typeof i[0]=="number"||"x"in i)a=u=z(i);else if(i=X(i),a=i.min,u=i.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(i){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,u;return typeof i[0]=="number"||i instanceof R?i=z(i):i=X(i),i instanceof K?(a=i.min,u=i.max):a=u=i,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(i){i=X(i);var a=this.min,u=this.max,f=i.min,v=i.max,k=v.x>=a.x&&f.x<=u.x,N=v.y>=a.y&&f.y<=u.y;return k&&N},overlaps:function(i){i=X(i);var a=this.min,u=this.max,f=i.min,v=i.max,k=v.x>a.x&&f.x<u.x,N=v.y>a.y&&f.y<u.y;return k&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,u=this.max,f=Math.abs(a.x-u.x)*i,v=Math.abs(a.y-u.y)*i;return X(z(a.x-f,a.y-v),z(u.x+f,u.y+v))},equals:function(i){return i?(i=X(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function X(i,a){return!i||i instanceof K?i:new K(i,a)}function oe(i,a){if(i)for(var u=a?[i,a]:i,f=0,v=u.length;f<v;f++)this.extend(u[f])}oe.prototype={extend:function(i){var a=this._southWest,u=this._northEast,f,v;if(i instanceof ie)f=i,v=i;else if(i instanceof oe){if(f=i._southWest,v=i._northEast,!f||!v)return this}else return i?this.extend(J(i)||fe(i)):this;return!a&&!u?(this._southWest=new ie(f.lat,f.lng),this._northEast=new ie(v.lat,v.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),u.lat=Math.max(v.lat,u.lat),u.lng=Math.max(v.lng,u.lng)),this},pad:function(i){var a=this._southWest,u=this._northEast,f=Math.abs(a.lat-u.lat)*i,v=Math.abs(a.lng-u.lng)*i;return new oe(new ie(a.lat-f,a.lng-v),new ie(u.lat+f,u.lng+v))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ie||"lat"in i?i=J(i):i=fe(i);var a=this._southWest,u=this._northEast,f,v;return i instanceof oe?(f=i.getSouthWest(),v=i.getNorthEast()):f=v=i,f.lat>=a.lat&&v.lat<=u.lat&&f.lng>=a.lng&&v.lng<=u.lng},intersects:function(i){i=fe(i);var a=this._southWest,u=this._northEast,f=i.getSouthWest(),v=i.getNorthEast(),k=v.lat>=a.lat&&f.lat<=u.lat,N=v.lng>=a.lng&&f.lng<=u.lng;return k&&N},overlaps:function(i){i=fe(i);var a=this._southWest,u=this._northEast,f=i.getSouthWest(),v=i.getNorthEast(),k=v.lat>a.lat&&f.lat<u.lat,N=v.lng>a.lng&&f.lng<u.lng;return k&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=fe(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(i,a){return i instanceof oe?i:new oe(i,a)}function ie(i,a,u){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,u!==void 0&&(this.alt=+u)}ie.prototype={equals:function(i,a){if(!i)return!1;i=J(i);var u=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return u<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+_(this.lat,i)+", "+_(this.lng,i)+")"},distanceTo:function(i){return mt.distance(this,J(i))},wrap:function(){return mt.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,u=a/Math.cos(Math.PI/180*this.lat);return fe([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function J(i,a,u){return i instanceof ie?i:S(i)&&typeof i[0]!="object"?i.length===3?new ie(i[0],i[1],i[2]):i.length===2?new ie(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ie(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new ie(i,a,u)}var Re={latLngToPoint:function(i,a){var u=this.projection.project(i),f=this.scale(a);return this.transformation._transform(u,f)},pointToLatLng:function(i,a){var u=this.scale(a),f=this.transformation.untransform(i,u);return this.projection.unproject(f)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(i),f=this.transformation.transform(a.min,u),v=this.transformation.transform(a.max,u);return new K(f,v)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?p(i.lng,this.wrapLng,!0):i.lng,u=this.wrapLat?p(i.lat,this.wrapLat,!0):i.lat,f=i.alt;return new ie(u,a,f)},wrapLatLngBounds:function(i){var a=i.getCenter(),u=this.wrapLatLng(a),f=a.lat-u.lat,v=a.lng-u.lng;if(f===0&&v===0)return i;var k=i.getSouthWest(),N=i.getNorthEast(),j=new ie(k.lat-f,k.lng-v),I=new ie(N.lat-f,N.lng-v);return new oe(j,I)}},mt=s({},Re,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var u=Math.PI/180,f=i.lat*u,v=a.lat*u,k=Math.sin((a.lat-i.lat)*u/2),N=Math.sin((a.lng-i.lng)*u/2),j=k*k+Math.cos(f)*Math.cos(v)*N*N,I=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return this.R*I}}),Ht=6378137,kr={R:Ht,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,u=this.MAX_LATITUDE,f=Math.max(Math.min(u,i.lat),-u),v=Math.sin(f*a);return new R(this.R*i.lng*a,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(i){var a=180/Math.PI;return new ie((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=Ht*Math.PI;return new K([-i,-i],[i,i])}()};function Pr(i,a,u,f){if(S(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=u,this._d=f}Pr.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new R((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function Vn(i,a,u,f){return new Pr(i,a,u,f)}var li=s({},mt,{code:"EPSG:3857",projection:kr,transformation:function(){var i=.5/(Math.PI*kr.R);return Vn(i,.5,-i,.5)}()}),Eu=s({},li,{code:"EPSG:900913"});function ui(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function qf(i,a){var u="",f,v,k,N,j,I;for(f=0,k=i.length;f<k;f++){for(j=i[f],v=0,N=j.length;v<N;v++)I=j[v],u+=(v?"L":"M")+I.x+" "+I.y;u+=a?G.svg?"z":"x":""}return u||"M0 0"}var ku=document.documentElement.style,Jo="ActiveXObject"in window,zw=Jo&&!document.addEventListener,Kf="msLaunchUri"in navigator&&!("documentMode"in document),Pu=sn("webkit"),Gf=sn("android"),Yf=sn("android 2")||sn("android 3"),Fw=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bw=Gf&&sn("Google")&&Fw<537&&!("AudioNode"in window),Cu=!!window.opera,Jf=!Kf&&sn("chrome"),Qf=sn("gecko")&&!Pu&&!Cu&&!Jo,Uw=!Jf&&sn("safari"),Xf=sn("phantom"),ep="OTransition"in ku,Hw=navigator.platform.indexOf("Win")===0,tp=Jo&&"transition"in ku,Tu="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yf,np="MozPerspective"in ku,Ww=!window.L_DISABLE_3D&&(tp||Tu||np)&&!ep&&!Xf,_s=typeof orientation<"u"||sn("mobile"),Zw=_s&&Pu,Vw=_s&&Tu,rp=!window.PointerEvent&&window.MSPointerEvent,ip=!!(window.PointerEvent||rp),sp="ontouchstart"in window||!!window.TouchEvent,qw=!window.L_NO_TOUCH&&(sp||ip),Kw=_s&&Cu,Gw=_s&&Qf,Yw=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jw=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",m,a),window.removeEventListener("testPassiveEventSupport",m,a)}catch{}return i}(),Qw=function(){return!!document.createElement("canvas").getContext}(),Lu=!!(document.createElementNS&&ui("svg").createSVGRect),Xw=!!Lu&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ex=!Lu&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),tx=navigator.platform.indexOf("Mac")===0,nx=navigator.platform.indexOf("Linux")===0;function sn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var G={ie:Jo,ielt9:zw,edge:Kf,webkit:Pu,android:Gf,android23:Yf,androidStock:Bw,opera:Cu,chrome:Jf,gecko:Qf,safari:Uw,phantom:Xf,opera12:ep,win:Hw,ie3d:tp,webkit3d:Tu,gecko3d:np,any3d:Ww,mobile:_s,mobileWebkit:Zw,mobileWebkit3d:Vw,msPointer:rp,pointer:ip,touch:qw,touchNative:sp,mobileOpera:Kw,mobileGecko:Gw,retina:Yw,passiveEvents:Jw,canvas:Qw,svg:Lu,vml:ex,inlineSvg:Xw,mac:tx,linux:nx},op=G.msPointer?"MSPointerDown":"pointerdown",ap=G.msPointer?"MSPointerMove":"pointermove",lp=G.msPointer?"MSPointerUp":"pointerup",up=G.msPointer?"MSPointerCancel":"pointercancel",Nu={touchstart:op,touchmove:ap,touchend:lp,touchcancel:up},cp={touchstart:lx,touchmove:Qo,touchend:Qo,touchcancel:Qo},ci={},dp=!1;function rx(i,a,u){return a==="touchstart"&&ax(),cp[a]?(u=cp[a].bind(this,u),i.addEventListener(Nu[a],u,!1),u):(console.warn("wrong event specified:",a),m)}function ix(i,a,u){if(!Nu[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(Nu[a],u,!1)}function sx(i){ci[i.pointerId]=i}function ox(i){ci[i.pointerId]&&(ci[i.pointerId]=i)}function hp(i){delete ci[i.pointerId]}function ax(){dp||(document.addEventListener(op,sx,!0),document.addEventListener(ap,ox,!0),document.addEventListener(lp,hp,!0),document.addEventListener(up,hp,!0),dp=!0)}function Qo(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in ci)a.touches.push(ci[u]);a.changedTouches=[a],i(a)}}function lx(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ke(a),Qo(i,a)}function ux(i){var a={},u,f;for(f in i)u=i[f],a[f]=u&&u.bind?u.bind(i):u;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var cx=200;function dx(i,a){i.addEventListener("dblclick",a);var u=0,f;function v(k){if(k.detail!==1){f=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var N=vp(k);if(!(N.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!N.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var j=Date.now();j-u<=cx?(f++,f===2&&a(ux(k))):f=1,u=j}}}return i.addEventListener("click",v),{dblclick:a,simDblclick:v}}function hx(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var ju=ta(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ws=ta(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fp=ws==="webkitTransition"||ws==="OTransition"?ws+"End":"transitionend";function pp(i){return typeof i=="string"?document.getElementById(i):i}function xs(i,a){var u=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(i,null);u=f?f[a]:null}return u==="auto"?null:u}function me(i,a,u){var f=document.createElement(i);return f.className=a||"",u&&u.appendChild(f),f}function Pe(i){var a=i.parentNode;a&&a.removeChild(i)}function Xo(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function di(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function hi(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Au(i,a){if(i.classList!==void 0)return i.classList.contains(a);var u=ea(i);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function se(i,a){if(i.classList!==void 0)for(var u=E(a),f=0,v=u.length;f<v;f++)i.classList.add(u[f]);else if(!Au(i,a)){var k=ea(i);Ou(i,(k?k+" ":"")+a)}}function Ie(i,a){i.classList!==void 0?i.classList.remove(a):Ou(i,w((" "+ea(i)+" ").replace(" "+a+" "," ")))}function Ou(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function ea(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function At(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&fx(i,a)}function fx(i,a){var u=!1,f="DXImageTransform.Microsoft.Alpha";try{u=i.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):i.style.filter+=" progid:"+f+"(opacity="+a+")"}function ta(i){for(var a=document.documentElement.style,u=0;u<i.length;u++)if(i[u]in a)return i[u];return!1}function Cr(i,a,u){var f=a||new R(0,0);i.style[ju]=(G.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(u?" scale("+u+")":"")}function $e(i,a){i._leaflet_pos=a,G.any3d?Cr(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function Tr(i){return i._leaflet_pos||new R(0,0)}var bs,Ss,Ru;if("onselectstart"in document)bs=function(){ne(window,"selectstart",Ke)},Ss=function(){_e(window,"selectstart",Ke)};else{var Es=ta(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bs=function(){if(Es){var i=document.documentElement.style;Ru=i[Es],i[Es]="none"}},Ss=function(){Es&&(document.documentElement.style[Es]=Ru,Ru=void 0)}}function Iu(){ne(window,"dragstart",Ke)}function Mu(){_e(window,"dragstart",Ke)}var na,$u;function Du(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ra(),na=i,$u=i.style.outlineStyle,i.style.outlineStyle="none",ne(window,"keydown",ra))}function ra(){na&&(na.style.outlineStyle=$u,na=void 0,$u=void 0,_e(window,"keydown",ra))}function mp(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function zu(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var px={__proto__:null,TRANSFORM:ju,TRANSITION:ws,TRANSITION_END:fp,get:pp,getStyle:xs,create:me,remove:Pe,empty:Xo,toFront:di,toBack:hi,hasClass:Au,addClass:se,removeClass:Ie,setClass:Ou,getClass:ea,setOpacity:At,testProp:ta,setTransform:Cr,setPosition:$e,getPosition:Tr,get disableTextSelection(){return bs},get enableTextSelection(){return Ss},disableImageDrag:Iu,enableImageDrag:Mu,preventOutline:Du,restoreOutline:ra,getSizedParentNode:mp,getScale:zu};function ne(i,a,u,f){if(a&&typeof a=="object")for(var v in a)Bu(i,v,a[v],u);else{a=E(a);for(var k=0,N=a.length;k<N;k++)Bu(i,a[k],u,f)}return this}var on="_leaflet_events";function _e(i,a,u,f){if(arguments.length===1)gp(i),delete i[on];else if(a&&typeof a=="object")for(var v in a)Uu(i,v,a[v],u);else if(a=E(a),arguments.length===2)gp(i,function(j){return T(a,j)!==-1});else for(var k=0,N=a.length;k<N;k++)Uu(i,a[k],u,f);return this}function gp(i,a){for(var u in i[on]){var f=u.split(/\d/)[0];(!a||a(f))&&Uu(i,f,null,null,u)}}var Fu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Bu(i,a,u,f){var v=a+d(u)+(f?"_"+d(f):"");if(i[on]&&i[on][v])return this;var k=function(j){return u.call(f||i,j||window.event)},N=k;!G.touchNative&&G.pointer&&a.indexOf("touch")===0?k=rx(i,a,k):G.touch&&a==="dblclick"?k=dx(i,k):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(Fu[a]||a,k,G.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(k=function(j){j=j||window.event,Wu(i,j)&&N(j)},i.addEventListener(Fu[a],k,!1)):i.addEventListener(a,N,!1):i.attachEvent("on"+a,k),i[on]=i[on]||{},i[on][v]=k}function Uu(i,a,u,f,v){v=v||a+d(u)+(f?"_"+d(f):"");var k=i[on]&&i[on][v];if(!k)return this;!G.touchNative&&G.pointer&&a.indexOf("touch")===0?ix(i,a,k):G.touch&&a==="dblclick"?hx(i,k):"removeEventListener"in i?i.removeEventListener(Fu[a]||a,k,!1):i.detachEvent("on"+a,k),i[on][v]=null}function Lr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Hu(i){return Bu(i,"wheel",Lr),this}function ks(i){return ne(i,"mousedown touchstart dblclick contextmenu",Lr),i._leaflet_disable_click=!0,this}function Ke(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Nr(i){return Ke(i),Lr(i),this}function vp(i){if(i.composedPath)return i.composedPath();for(var a=[],u=i.target;u;)a.push(u),u=u.parentNode;return a}function yp(i,a){if(!a)return new R(i.clientX,i.clientY);var u=zu(a),f=u.boundingClientRect;return new R((i.clientX-f.left)/u.x-a.clientLeft,(i.clientY-f.top)/u.y-a.clientTop)}var mx=G.linux&&G.chrome?window.devicePixelRatio:G.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _p(i){return G.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/mx:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Wu(i,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==i;)u=u.parentNode}catch{return!1}return u!==i}var gx={__proto__:null,on:ne,off:_e,stopPropagation:Lr,disableScrollPropagation:Hu,disableClickPropagation:ks,preventDefault:Ke,stop:Nr,getPropagationPath:vp,getMousePosition:yp,getWheelDelta:_p,isExternalTarget:Wu,addListener:ne,removeListener:_e},wp=de.extend({run:function(i,a,u,f){this.stop(),this._el=i,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Tr(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var u=this._startPos.add(this._offset.multiplyBy(i));a&&u._round(),$e(this._el,u),this.fire("step")},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),he=de.extend({options:{crs:li,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=P(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(J(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ws&&G.any3d&&!G.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ne(this._proxy,fp,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(J(i),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=s({animate:u.animate},u.zoom),u.pan=s({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,u.zoom):this._tryAnimatedPan(i,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(G.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(G.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,u){var f=this.getZoomScale(a),v=this.getSize().divideBy(2),k=i instanceof R?i:this.latLngToContainerPoint(i),N=k.subtract(v).multiplyBy(1-1/f),j=this.containerPointToLatLng(v.add(N));return this.setView(j,a,{zoom:u})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():fe(i);var u=z(a.paddingTopLeft||a.padding||[0,0]),f=z(a.paddingBottomRight||a.padding||[0,0]),v=this.getBoundsZoom(i,!1,u.add(f));if(v=typeof a.maxZoom=="number"?Math.min(a.maxZoom,v):v,v===1/0)return{center:i.getCenter(),zoom:v};var k=f.subtract(u).divideBy(2),N=this.project(i.getSouthWest(),v),j=this.project(i.getNorthEast(),v),I=this.unproject(N.add(j).divideBy(2).add(k),v);return{center:I,zoom:v}},fitBounds:function(i,a){if(i=fe(i),!i.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(i,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=z(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){se(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,u){if(u=u||{},u.animate===!1||!G.any3d)return this.setView(i,a,u);this._stop();var f=this.project(this.getCenter()),v=this.project(i),k=this.getSize(),N=this._zoom;i=J(i),a=a===void 0?N:a;var j=Math.max(k.x,k.y),I=j*this.getZoomScale(N,a),F=v.distanceTo(f)||1,Z=1.42,Y=Z*Z;function ae(De){var ma=De?-1:1,ib=De?I:j,sb=I*I-j*j+ma*Y*Y*F*F,ob=2*ib*Y*F,tc=sb/ob,em=Math.sqrt(tc*tc+1)-tc,ab=em<1e-9?-18:Math.log(em);return ab}function at(De){return(Math.exp(De)-Math.exp(-De))/2}function Ze(De){return(Math.exp(De)+Math.exp(-De))/2}function Rt(De){return at(De)/Ze(De)}var gt=ae(0);function yi(De){return j*(Ze(gt)/Ze(gt+Z*De))}function eb(De){return j*(Ze(gt)*Rt(gt+Z*De)-at(gt))/Y}function tb(De){return 1-Math.pow(1-De,1.5)}var nb=Date.now(),Qp=(ae(1)-gt)/Z,rb=u.duration?1e3*u.duration:1e3*Qp*.8;function Xp(){var De=(Date.now()-nb)/rb,ma=tb(De)*Qp;De<=1?(this._flyToFrame=H(Xp,this),this._move(this.unproject(f.add(v.subtract(f).multiplyBy(eb(ma)/F)),N),this.getScaleZoom(j/yi(ma),N),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Xp.call(this),this},flyToBounds:function(i,a){var u=this._getBoundsCenterZoom(i,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(i){return i=fe(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var u=this.getCenter(),f=this._limitCenter(u,this._zoom,fe(i));return u.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var u=z(a.paddingTopLeft||a.padding||[0,0]),f=z(a.paddingBottomRight||a.padding||[0,0]),v=this.project(this.getCenter()),k=this.project(i),N=this.getPixelBounds(),j=X([N.min.add(u),N.max.subtract(f)]),I=j.getSize();if(!j.contains(k)){this._enforcingBounds=!0;var F=k.subtract(j.getCenter()),Z=j.extend(k).getSize().subtract(I);v.x+=F.x<0?-Z.x:Z.x,v.y+=F.y<0?-Z.y:Z.y,this.panTo(this.unproject(v),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),f=a.divideBy(2).round(),v=u.divideBy(2).round(),k=f.subtract(v);return!k.x&&!k.y?this:(i.animate&&i.pan?this.panBy(k):(i.pan&&this._rawPanBy(k),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,i):navigator.geolocation.getCurrentPosition(a,u,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,u=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,u=i.coords.longitude,f=new ie(a,u),v=f.toBounds(i.coords.accuracy*2),k=this._locateOptions;if(k.setView){var N=this.getBoundsZoom(v);this.setView(f,k.maxZoom?Math.min(N,k.maxZoom):N)}var j={latlng:f,bounds:v,timestamp:i.timestamp};for(var I in i.coords)typeof i.coords[I]=="number"&&(j[I]=i.coords[I]);this.fire("locationfound",j)}},addHandler:function(i,a){if(!a)return this;var u=this[i]=new a(this);return this._handlers.push(u),this.options[i]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Pe(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var u="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),f=me("div",u,a||this._mapPane);return i&&(this._panes[i]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),u=this.unproject(i.getTopRight());return new oe(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,u){i=fe(i),u=z(u||[0,0]);var f=this.getZoom()||0,v=this.getMinZoom(),k=this.getMaxZoom(),N=i.getNorthWest(),j=i.getSouthEast(),I=this.getSize().subtract(u),F=X(this.project(j,f),this.project(N,f)).getSize(),Z=G.any3d?this.options.zoomSnap:1,Y=I.x/F.x,ae=I.y/F.y,at=a?Math.max(Y,ae):Math.min(Y,ae);return f=this.getScaleZoom(at,f),Z&&(f=Math.round(f/(Z/100))*(Z/100),f=a?Math.ceil(f/Z)*Z:Math.floor(f/Z)*Z),Math.max(v,Math.min(k,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var u=this._getTopLeftPoint(i,a);return new K(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(i)/u.scale(a)},getScaleZoom:function(i,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var f=u.zoom(i*u.scale(a));return isNaN(f)?1/0:f},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(J(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(z(i),a)},layerPointToLatLng:function(i){var a=z(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(J(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(J(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(fe(i))},distance:function(i,a){return this.options.crs.distance(J(i),J(a))},containerPointToLayerPoint:function(i){return z(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return z(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(z(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(i)))},mouseEventToContainerPoint:function(i){return yp(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=pp(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ne(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&G.any3d,se(i,"leaflet-container"+(G.touch?" leaflet-touch":"")+(G.retina?" leaflet-retina":"")+(G.ielt9?" leaflet-oldie":"")+(G.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=xs(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),$e(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(se(i.markerPane,"leaflet-zoom-hide"),se(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,u){$e(this._mapPane,new R(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var v=this._zoom!==a;this._moveStart(v,u)._move(i,a)._moveEnd(v),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,u,f){a===void 0&&(a=this._zoom);var v=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),f?u&&u.pinch&&this.fire("zoom",u):((v||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){$e(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var a=i?_e:ne;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),G.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var u=[],f,v=a==="mouseout"||a==="mouseover",k=i.target||i.srcElement,N=!1;k;){if(f=this._targets[d(k)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){N=!0;break}if(f&&f.listens(a,!0)&&(v&&!Wu(k,i)||(u.push(f),v))||k===this._container)break;k=k.parentNode}return!u.length&&!N&&!v&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var u=i.type;u==="mousedown"&&Du(a),this._fireDOMEvent(i,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,u){if(i.type==="click"){var f=s({},i);f.type="preclick",this._fireDOMEvent(f,f.type,u)}var v=this._findEventTargets(i,a);if(u){for(var k=[],N=0;N<u.length;N++)u[N].listens(a,!0)&&k.push(u[N]);v=k.concat(v)}if(v.length){a==="contextmenu"&&Ke(i);var j=v[0],I={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var F=j.getLatLng&&(!j._radius||j._radius<=10);I.containerPoint=F?this.latLngToContainerPoint(j.getLatLng()):this.mouseEventToContainerPoint(i),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=F?j.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(N=0;N<v.length;N++)if(v[N].fire(a,I,!0),I.originalEvent._stopped||v[N].options.bubblingMouseEvents===!1&&T(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return Tr(this._mapPane)||new R(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var u=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var u=this.getSize()._divideBy(2);return this.project(i,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,u){var f=this._getNewPixelOrigin(u,a);return this.project(i,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(i,a,u){var f=this._getNewPixelOrigin(u,a);return X([this.project(i.getSouthWest(),a)._subtract(f),this.project(i.getNorthWest(),a)._subtract(f),this.project(i.getSouthEast(),a)._subtract(f),this.project(i.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,u){if(!u)return i;var f=this.project(i,a),v=this.getSize().divideBy(2),k=new K(f.subtract(v),f.add(v)),N=this._getBoundsOffset(k,u,a);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?i:this.unproject(f.add(N),a)},_limitOffset:function(i,a){if(!a)return i;var u=this.getPixelBounds(),f=new K(u.min.add(i),u.max.add(i));return i.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(i,a,u){var f=X(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),v=f.min.subtract(i.min),k=f.max.subtract(i.max),N=this._rebound(v.x,-k.x),j=this._rebound(v.y,-k.y);return new R(N,j)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),u=this.getMaxZoom(),f=G.any3d?this.options.zoomSnap:1;return f&&(i=Math.round(i/f)*f),Math.max(a,Math.min(u,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ie(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var u=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var i=this._proxy=me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var u=ju,f=this._proxy.style[u];Cr(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();Cr(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),v=this._getCenterOffset(i)._divideBy(1-1/f);return u.animate!==!0&&!this.getSize().contains(v)?!1:(H(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,u,f){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ie(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function vx(i,a){return new he(i,a)}var Wt=Q.extend({options:{position:"topright"},initialize:function(i){P(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),u=this.getPosition(),f=i._controlCorners[u];return se(a,"leaflet-control"),u.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Ps=function(i){return new Wt(i)};he.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",u=this._controlContainer=me("div",a+"control-container",this._container);function f(v,k){var N=a+v+" "+a+k;i[v+k]=me("div",N,u)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Pe(this._controlCorners[i]);Pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var xp=Wt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,u,f){return u<f?-1:f<u?1:0}},initialize:function(i,a,u){P(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in i)this._addLayer(i[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Wt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ie(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ie(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=me("div",i),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),ks(a),Hu(a);var f=this._section=me("section",i+"-list");u&&(this._map.on("click",this.collapse,this),ne(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=me("a",i+"-toggle",a);v.href="#",v.title="Layers",v.setAttribute("role","button"),ne(v,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){Ke(k),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=me("div",i+"-base",f),this._separator=me("div",i+"-separator",f),this._overlaysList=me("div",i+"-overlays",f),a.appendChild(f)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,u){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(f,v){return this.options.sortFunction(f.layer,v.layer,f.name,v.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xo(this._baseLayersList),Xo(this._overlaysList),this._layerControlInputs=[];var i,a,u,f,v=0;for(u=0;u<this._layers.length;u++)f=this._layers[u],this._addItem(f),a=a||f.overlay,i=i||!f.overlay,v+=f.overlay?0:1;return this.options.hideSingleBase&&(i=i&&v>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(d(i.target)),u=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(i,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=u,f.firstChild},_addItem:function(i){var a=document.createElement("label"),u=this._map.hasLayer(i.layer),f;i.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=u):f=this._createRadioElement("leaflet-base-layers_"+d(this),u),this._layerControlInputs.push(f),f.layerId=d(i.layer),ne(f,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+i.name;var k=document.createElement("span");a.appendChild(k),k.appendChild(f),k.appendChild(v);var N=i.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,u,f=[],v=[];this._handlingClick=!0;for(var k=i.length-1;k>=0;k--)a=i[k],u=this._getLayer(a.layerId).layer,a.checked?f.push(u):a.checked||v.push(u);for(k=0;k<v.length;k++)this._map.hasLayer(v[k])&&this._map.removeLayer(v[k]);for(k=0;k<f.length;k++)this._map.hasLayer(f[k])||this._map.addLayer(f[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,u,f=this._map.getZoom(),v=i.length-1;v>=0;v--)a=i[v],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&f<u.options.minZoom||u.options.maxZoom!==void 0&&f>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,ne(i,"click",Ke),this.expand();var a=this;setTimeout(function(){_e(i,"click",Ke),a._preventClick=!1})}}),yx=function(i,a,u){return new xp(i,a,u)},Zu=Wt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",u=me("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,u,f,v){var k=me("a",u,f);return k.innerHTML=i,k.href="#",k.title=a,k.setAttribute("role","button"),k.setAttribute("aria-label",a),ks(k),ne(k,"click",Nr),ne(k,"click",v,this),ne(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";Ie(this._zoomInButton,a),Ie(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(se(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(se(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});he.mergeOptions({zoomControl:!0}),he.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zu,this.addControl(this.zoomControl))});var _x=function(i){return new Zu(i)},bp=Wt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",u=me("div",a),f=this.options;return this._addScales(f,a+"-line",u),i.on(f.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),u},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,u){i.metric&&(this._mScale=me("div",a,u)),i.imperial&&(this._iScale=me("div",a,u))},_update:function(){var i=this._map,a=i.getSize().y/2,u=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/i)},_updateImperial:function(i){var a=i*3.2808399,u,f,v;a>5280?(u=a/5280,f=this._getRoundNum(u),this._updateScale(this._iScale,f+" mi",f/u)):(v=this._getRoundNum(a),this._updateScale(this._iScale,v+" ft",v/a))},_updateScale:function(i,a,u){i.style.width=Math.round(this.options.maxWidth*u)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),u=i/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),wx=function(i){return new bp(i)},xx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vu=Wt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(G.inlineSvg?xx+" ":"")+"Leaflet</a>"},initialize:function(i){P(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=me("div","leaflet-control-attribution"),ks(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),i.length&&u.push(i.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});he.mergeOptions({attributionControl:!0}),he.addInitHook(function(){this.options.attributionControl&&new Vu().addTo(this)});var bx=function(i){return new Vu(i)};Wt.Layers=xp,Wt.Zoom=Zu,Wt.Scale=bp,Wt.Attribution=Vu,Ps.layers=yx,Ps.zoom=_x,Ps.scale=wx,Ps.attribution=bx;var an=Q.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});an.addTo=function(i,a){return i.addHandler(a,this),this};var Sx={Events:te},Sp=G.touch?"touchstart mousedown":"mousedown",qn=de.extend({options:{clickTolerance:3},initialize:function(i,a,u,f){P(this,f),this._element=i,this._dragStartTarget=a||i,this._preventOutline=u},enable:function(){this._enabled||(ne(this._dragStartTarget,Sp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qn._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,Sp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Au(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){qn._dragging===this&&this.finishDrag();return}if(!(qn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(qn._dragging=this,this._preventOutline&&Du(this._element),Iu(),bs(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,u=mp(this._element);this._startPoint=new R(a.clientX,a.clientY),this._startPos=Tr(this._element),this._parentScale=zu(u);var f=i.type==="mousedown";ne(document,f?"mousemove":"touchmove",this._onMove,this),ne(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,u=new R(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Ke(i),this._moved||(this.fire("dragstart"),this._moved=!0,se(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),$e(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ie(document.body,"leaflet-dragging"),this._lastTarget&&(Ie(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),Mu(),Ss();var a=this._moved&&this._moving;this._moving=!1,qn._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Ep(i,a,u){var f,v=[1,4,2,8],k,N,j,I,F,Z,Y,ae;for(k=0,Z=i.length;k<Z;k++)i[k]._code=jr(i[k],a);for(j=0;j<4;j++){for(Y=v[j],f=[],k=0,Z=i.length,N=Z-1;k<Z;N=k++)I=i[k],F=i[N],I._code&Y?F._code&Y||(ae=ia(F,I,Y,a,u),ae._code=jr(ae,a),f.push(ae)):(F._code&Y&&(ae=ia(F,I,Y,a,u),ae._code=jr(ae,a),f.push(ae)),f.push(I));i=f}return i}function kp(i,a){var u,f,v,k,N,j,I,F,Z;if(!i||i.length===0)throw new Error("latlngs not passed");Ot(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Y=J([0,0]),ae=fe(i),at=ae.getNorthWest().distanceTo(ae.getSouthWest())*ae.getNorthEast().distanceTo(ae.getNorthWest());at<1700&&(Y=qu(i));var Ze=i.length,Rt=[];for(u=0;u<Ze;u++){var gt=J(i[u]);Rt.push(a.project(J([gt.lat-Y.lat,gt.lng-Y.lng])))}for(j=I=F=0,u=0,f=Ze-1;u<Ze;f=u++)v=Rt[u],k=Rt[f],N=v.y*k.x-k.y*v.x,I+=(v.x+k.x)*N,F+=(v.y+k.y)*N,j+=N*3;j===0?Z=Rt[0]:Z=[I/j,F/j];var yi=a.unproject(z(Z));return J([yi.lat+Y.lat,yi.lng+Y.lng])}function qu(i){for(var a=0,u=0,f=0,v=0;v<i.length;v++){var k=J(i[v]);a+=k.lat,u+=k.lng,f++}return J([a/f,u/f])}var Ex={__proto__:null,clipPolygon:Ep,polygonCenter:kp,centroid:qu};function Pp(i,a){if(!a||!i.length)return i.slice();var u=a*a;return i=Cx(i,u),i=Px(i,u),i}function Cp(i,a,u){return Math.sqrt(Cs(i,a,u,!0))}function kx(i,a,u){return Cs(i,a,u)}function Px(i,a){var u=i.length,f=typeof Uint8Array<"u"?Uint8Array:Array,v=new f(u);v[0]=v[u-1]=1,Ku(i,v,a,0,u-1);var k,N=[];for(k=0;k<u;k++)v[k]&&N.push(i[k]);return N}function Ku(i,a,u,f,v){var k=0,N,j,I;for(j=f+1;j<=v-1;j++)I=Cs(i[j],i[f],i[v],!0),I>k&&(N=j,k=I);k>u&&(a[N]=1,Ku(i,a,u,f,N),Ku(i,a,u,N,v))}function Cx(i,a){for(var u=[i[0]],f=1,v=0,k=i.length;f<k;f++)Tx(i[f],i[v])>a&&(u.push(i[f]),v=f);return v<k-1&&u.push(i[k-1]),u}var Tp;function Lp(i,a,u,f,v){var k=f?Tp:jr(i,u),N=jr(a,u),j,I,F;for(Tp=N;;){if(!(k|N))return[i,a];if(k&N)return!1;j=k||N,I=ia(i,a,j,u,v),F=jr(I,u),j===k?(i=I,k=F):(a=I,N=F)}}function ia(i,a,u,f,v){var k=a.x-i.x,N=a.y-i.y,j=f.min,I=f.max,F,Z;return u&8?(F=i.x+k*(I.y-i.y)/N,Z=I.y):u&4?(F=i.x+k*(j.y-i.y)/N,Z=j.y):u&2?(F=I.x,Z=i.y+N*(I.x-i.x)/k):u&1&&(F=j.x,Z=i.y+N*(j.x-i.x)/k),new R(F,Z,v)}function jr(i,a){var u=0;return i.x<a.min.x?u|=1:i.x>a.max.x&&(u|=2),i.y<a.min.y?u|=4:i.y>a.max.y&&(u|=8),u}function Tx(i,a){var u=a.x-i.x,f=a.y-i.y;return u*u+f*f}function Cs(i,a,u,f){var v=a.x,k=a.y,N=u.x-v,j=u.y-k,I=N*N+j*j,F;return I>0&&(F=((i.x-v)*N+(i.y-k)*j)/I,F>1?(v=u.x,k=u.y):F>0&&(v+=N*F,k+=j*F)),N=i.x-v,j=i.y-k,f?N*N+j*j:new R(v,k)}function Ot(i){return!S(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Np(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ot(i)}function jp(i,a){var u,f,v,k,N,j,I,F;if(!i||i.length===0)throw new Error("latlngs not passed");Ot(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Z=J([0,0]),Y=fe(i),ae=Y.getNorthWest().distanceTo(Y.getSouthWest())*Y.getNorthEast().distanceTo(Y.getNorthWest());ae<1700&&(Z=qu(i));var at=i.length,Ze=[];for(u=0;u<at;u++){var Rt=J(i[u]);Ze.push(a.project(J([Rt.lat-Z.lat,Rt.lng-Z.lng])))}for(u=0,f=0;u<at-1;u++)f+=Ze[u].distanceTo(Ze[u+1])/2;if(f===0)F=Ze[0];else for(u=0,k=0;u<at-1;u++)if(N=Ze[u],j=Ze[u+1],v=N.distanceTo(j),k+=v,k>f){I=(k-f)/v,F=[j.x-I*(j.x-N.x),j.y-I*(j.y-N.y)];break}var gt=a.unproject(z(F));return J([gt.lat+Z.lat,gt.lng+Z.lng])}var Lx={__proto__:null,simplify:Pp,pointToSegmentDistance:Cp,closestPointOnSegment:kx,clipSegment:Lp,_getEdgeIntersection:ia,_getBitCode:jr,_sqClosestPointOnSegment:Cs,isFlat:Ot,_flat:Np,polylineCenter:jp},Gu={project:function(i){return new R(i.lng,i.lat)},unproject:function(i){return new ie(i.y,i.x)},bounds:new K([-180,-90],[180,90])},Yu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,u=this.R,f=i.lat*a,v=this.R_MINOR/u,k=Math.sqrt(1-v*v),N=k*Math.sin(f),j=Math.tan(Math.PI/4-f/2)/Math.pow((1-N)/(1+N),k/2);return f=-u*Math.log(Math.max(j,1e-10)),new R(i.lng*a*u,f)},unproject:function(i){for(var a=180/Math.PI,u=this.R,f=this.R_MINOR/u,v=Math.sqrt(1-f*f),k=Math.exp(-i.y/u),N=Math.PI/2-2*Math.atan(k),j=0,I=.1,F;j<15&&Math.abs(I)>1e-7;j++)F=v*Math.sin(N),F=Math.pow((1-F)/(1+F),v/2),I=Math.PI/2-2*Math.atan(k*F)-N,N+=I;return new ie(N*a,i.x*a/u)}},Nx={__proto__:null,LonLat:Gu,Mercator:Yu,SphericalMercator:kr},jx=s({},mt,{code:"EPSG:3395",projection:Yu,transformation:function(){var i=.5/(Math.PI*Yu.R);return Vn(i,.5,-i,.5)}()}),Ap=s({},mt,{code:"EPSG:4326",projection:Gu,transformation:Vn(1/180,1,-1/180,.5)}),Ax=s({},Re,{projection:Gu,transformation:Vn(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var u=a.lng-i.lng,f=a.lat-i.lat;return Math.sqrt(u*u+f*f)},infinite:!0});Re.Earth=mt,Re.EPSG3395=jx,Re.EPSG3857=li,Re.EPSG900913=Eu,Re.EPSG4326=Ap,Re.Simple=Ax;var Zt=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});he.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=d(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,a){for(var u in this._layers)i.call(a,this._layers[u]);return this},_addLayers:function(i){i=i?S(i)?i:[i]:[];for(var a=0,u=i.length;a<u;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=d(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,u=this._getZoomSpan();for(var f in this._zoomBoundLayers){var v=this._zoomBoundLayers[f].options;i=v.minZoom===void 0?i:Math.min(i,v.minZoom),a=v.maxZoom===void 0?a:Math.max(a,v.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fi=Zt.extend({initialize:function(i,a){P(this,a),this._layers={};var u,f;if(i)for(u=0,f=i.length;u<f;u++)this.addLayer(i[u])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),u,f;for(u in this._layers)f=this._layers[u],f[i]&&f[i].apply(f,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var u in this._layers)i.call(a,this._layers[u]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),Ox=function(i,a){return new fi(i,a)},kn=fi.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),fi.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),fi.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new oe;for(var a in this._layers){var u=this._layers[a];i.extend(u.getBounds?u.getBounds():u.getLatLng())}return i}}),Rx=function(i,a){return new kn(i,a)},pi=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){P(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var u=this._getIconUrl(i);if(!u){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(i,a){var u=this.options,f=u[a+"Size"];typeof f=="number"&&(f=[f,f]);var v=z(f),k=z(a==="shadow"&&u.shadowAnchor||u.iconAnchor||v&&v.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(u.className||""),k&&(i.style.marginLeft=-k.x+"px",i.style.marginTop=-k.y+"px"),v&&(i.style.width=v.x+"px",i.style.height=v.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return G.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Ix(i){return new pi(i)}var Ts=pi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Ts.imagePath!="string"&&(Ts.imagePath=this._detectIconPath()),(this.options.imagePath||Ts.imagePath)+pi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(u,f,v){var k=f.exec(u);return k&&k[v]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=me("div","leaflet-default-icon-path",document.body),a=xs(i,"background-image")||xs(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Op=an.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new qn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),se(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ie(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,u=a._map,f=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,k=Tr(a._icon),N=u.getPixelBounds(),j=u.getPixelOrigin(),I=X(N.min._subtract(j).add(v),N.max._subtract(j).subtract(v));if(!I.contains(k)){var F=z((Math.max(I.max.x,k.x)-I.max.x)/(N.max.x-I.max.x)-(Math.min(I.min.x,k.x)-I.min.x)/(N.min.x-I.min.x),(Math.max(I.max.y,k.y)-I.max.y)/(N.max.y-I.max.y)-(Math.min(I.min.y,k.y)-I.min.y)/(N.min.y-I.min.y)).multiplyBy(f);u.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),$e(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=H(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,u=a._shadow,f=Tr(a._icon),v=a._map.layerPointToLatLng(f);u&&$e(u,f),a._latlng=v,i.latlng=v,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),sa=Zt.extend({options:{icon:new Ts,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){P(this,a),this._latlng=J(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=J(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=i.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,i.title&&(u.title=i.title),u.tagName==="IMG"&&(u.alt=i.alt||"")),se(u,a),i.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ne(u,"focus",this._panOnFocus,this);var v=i.icon.createShadow(this._shadow),k=!1;v!==this._shadow&&(this._removeShadow(),k=!0),v&&(se(v,a),v.alt=""),this._shadow=v,i.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&k&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),Pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pe(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&$e(this._icon,i),this._shadow&&$e(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Op)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Op(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&At(this._icon,i),this._shadow&&At(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,u=a.iconSize?z(a.iconSize):z(0,0),f=a.iconAnchor?z(a.iconAnchor):z(0,0);i.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:u.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Mx(i,a){return new sa(i,a)}var Kn=Zt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return P(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oa=Kn.extend({options:{fill:!0,radius:10},initialize:function(i,a){P(this,a),this._latlng=J(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=J(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return Kn.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,u=this._clickTolerance(),f=[i+u,a+u];this._pxBounds=new K(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $x(i,a){return new oa(i,a)}var Ju=oa.extend({initialize:function(i,a,u){if(typeof a=="number"&&(a=s({},u,{radius:a})),P(this,a),this._latlng=J(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new oe(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Kn.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,u=this._map,f=u.options.crs;if(f.distance===mt.distance){var v=Math.PI/180,k=this._mRadius/mt.R/v,N=u.project([a+k,i]),j=u.project([a-k,i]),I=N.add(j).divideBy(2),F=u.unproject(I).lat,Z=Math.acos((Math.cos(k*v)-Math.sin(a*v)*Math.sin(F*v))/(Math.cos(a*v)*Math.cos(F*v)))/v;(isNaN(Z)||Z===0)&&(Z=k/Math.cos(Math.PI/180*a)),this._point=I.subtract(u.getPixelOrigin()),this._radius=isNaN(Z)?0:I.x-u.project([F,i-Z]).x,this._radiusY=I.y-N.y}else{var Y=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Y).x}this._updateBounds()}});function Dx(i,a,u){return new Ju(i,a,u)}var Pn=Kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){P(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,u=null,f=Cs,v,k,N=0,j=this._parts.length;N<j;N++)for(var I=this._parts[N],F=1,Z=I.length;F<Z;F++){v=I[F-1],k=I[F];var Y=f(i,v,k,!0);Y<a&&(a=Y,u=f(i,v,k))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=J(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new oe,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Ot(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],u=Ot(i),f=0,v=i.length;f<v;f++)u?(a[f]=J(i[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(i[f]);return a},_project:function(){var i=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new R(i,i);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,u){var f=i[0]instanceof ie,v=i.length,k,N;if(f){for(N=[],k=0;k<v;k++)N[k]=this._map.latLngToLayerPoint(i[k]),u.extend(N[k]);a.push(N)}else for(k=0;k<v;k++)this._projectLatlngs(i[k],a,u)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,f,v,k,N,j,I;for(u=0,v=0,k=this._rings.length;u<k;u++)for(I=this._rings[u],f=0,N=I.length;f<N-1;f++)j=Lp(I[f],I[f+1],i,f,!0),j&&(a[v]=a[v]||[],a[v].push(j[0]),(j[1]!==I[f+1]||f===N-2)&&(a[v].push(j[1]),v++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,u=0,f=i.length;u<f;u++)i[u]=Pp(i[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var u,f,v,k,N,j,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(u=0,k=this._parts.length;u<k;u++)for(j=this._parts[u],f=0,N=j.length,v=N-1;f<N;v=f++)if(!(!a&&f===0)&&Cp(i,j[v],j[f])<=I)return!0;return!1}});function zx(i,a){return new Pn(i,a)}Pn._flat=Np;var mi=Pn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=Pn.prototype._convertLatLngs.call(this,i),u=a.length;return u>=2&&a[0]instanceof ie&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(i){Pn.prototype._setLatLngs.call(this,i),Ot(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ot(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,u=new R(a,a);if(i=new K(i.min.subtract(u),i.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,v=this._rings.length,k;f<v;f++)k=Ep(this._rings[f],i,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,u,f,v,k,N,j,I,F;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(k=0,I=this._parts.length;k<I;k++)for(u=this._parts[k],N=0,F=u.length,j=F-1;N<F;j=N++)f=u[N],v=u[j],f.y>i.y!=v.y>i.y&&i.x<(v.x-f.x)*(i.y-f.y)/(v.y-f.y)+f.x&&(a=!a);return a||Pn.prototype._containsPoint.call(this,i,!0)}});function Fx(i,a){return new mi(i,a)}var Cn=kn.extend({initialize:function(i,a){P(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=S(i)?i:i.features,u,f,v;if(a){for(u=0,f=a.length;u<f;u++)v=a[u],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var k=this.options;if(k.filter&&!k.filter(i))return this;var N=aa(i,k);return N?(N.feature=ca(i),N.defaultOptions=N.options,this.resetStyle(N),k.onEachFeature&&k.onEachFeature(i,N),this.addLayer(N)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function aa(i,a){var u=i.type==="Feature"?i.geometry:i,f=u?u.coordinates:null,v=[],k=a&&a.pointToLayer,N=a&&a.coordsToLatLng||Qu,j,I,F,Z;if(!f&&!u)return null;switch(u.type){case"Point":return j=N(f),Rp(k,i,j,a);case"MultiPoint":for(F=0,Z=f.length;F<Z;F++)j=N(f[F]),v.push(Rp(k,i,j,a));return new kn(v);case"LineString":case"MultiLineString":return I=la(f,u.type==="LineString"?0:1,N),new Pn(I,a);case"Polygon":case"MultiPolygon":return I=la(f,u.type==="Polygon"?1:2,N),new mi(I,a);case"GeometryCollection":for(F=0,Z=u.geometries.length;F<Z;F++){var Y=aa({geometry:u.geometries[F],type:"Feature",properties:i.properties},a);Y&&v.push(Y)}return new kn(v);case"FeatureCollection":for(F=0,Z=u.features.length;F<Z;F++){var ae=aa(u.features[F],a);ae&&v.push(ae)}return new kn(v);default:throw new Error("Invalid GeoJSON object.")}}function Rp(i,a,u,f){return i?i(a,u):new sa(u,f&&f.markersInheritOptions&&f)}function Qu(i){return new ie(i[1],i[0],i[2])}function la(i,a,u){for(var f=[],v=0,k=i.length,N;v<k;v++)N=a?la(i[v],a-1,u):(u||Qu)(i[v]),f.push(N);return f}function Xu(i,a){return i=J(i),i.alt!==void 0?[_(i.lng,a),_(i.lat,a),_(i.alt,a)]:[_(i.lng,a),_(i.lat,a)]}function ua(i,a,u,f){for(var v=[],k=0,N=i.length;k<N;k++)v.push(a?ua(i[k],Ot(i[k])?0:a-1,u,f):Xu(i[k],f));return!a&&u&&v.length>0&&v.push(v[0].slice()),v}function gi(i,a){return i.feature?s({},i.feature,{geometry:a}):ca(a)}function ca(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ec={toGeoJSON:function(i){return gi(this,{type:"Point",coordinates:Xu(this.getLatLng(),i)})}};sa.include(ec),Ju.include(ec),oa.include(ec),Pn.include({toGeoJSON:function(i){var a=!Ot(this._latlngs),u=ua(this._latlngs,a?1:0,!1,i);return gi(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),mi.include({toGeoJSON:function(i){var a=!Ot(this._latlngs),u=a&&!Ot(this._latlngs[0]),f=ua(this._latlngs,u?2:a?1:0,!0,i);return a||(f=[f]),gi(this,{type:(u?"Multi":"")+"Polygon",coordinates:f})}}),fi.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(i).geometry.coordinates)}),gi(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var u=a==="GeometryCollection",f=[];return this.eachLayer(function(v){if(v.toGeoJSON){var k=v.toGeoJSON(i);if(u)f.push(k.geometry);else{var N=ca(k);N.type==="FeatureCollection"?f.push.apply(f,N.features):f.push(N)}}}),u?gi(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Ip(i,a){return new Cn(i,a)}var Bx=Ip,da=Zt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,u){this._url=i,this._bounds=fe(a),P(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&di(this._image),this},bringToBack:function(){return this._map&&hi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=fe(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:me("img");if(se(a,"leaflet-image-layer"),this._zoomAnimated&&se(a,"leaflet-zoom-animated"),this.options.className&&se(a,this.options.className),a.onselectstart=m,a.onmousemove=m,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Cr(this._image,u,a)},_reset:function(){var i=this._image,a=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();$e(i,a.min),i.style.width=u.x+"px",i.style.height=u.y+"px"},_updateOpacity:function(){At(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Ux=function(i,a,u){return new da(i,a,u)},Mp=da.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:me("video");if(se(a,"leaflet-image-layer"),this._zoomAnimated&&se(a,"leaflet-zoom-animated"),this.options.className&&se(a,this.options.className),a.onselectstart=m,a.onmousemove=m,a.onloadeddata=l(this.fire,this,"load"),i){for(var u=a.getElementsByTagName("source"),f=[],v=0;v<u.length;v++)f.push(u[v].src);this._url=u.length>0?f:[a.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var N=me("source");N.src=this._url[k],a.appendChild(N)}}});function Hx(i,a,u){return new Mp(i,a,u)}var $p=da.extend({_initImage:function(){var i=this._image=this._url;se(i,"leaflet-image-layer"),this._zoomAnimated&&se(i,"leaflet-zoom-animated"),this.options.className&&se(i,this.options.className),i.onselectstart=m,i.onmousemove=m}});function Wx(i,a,u){return new $p(i,a,u)}var ln=Zt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof ie||S(i))?(this._latlng=J(i),P(this,a)):(P(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&At(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&At(this._container,1),this.bringToFront(),this.options.interactive&&(se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(At(this._container,0),this._removeTimeout=setTimeout(l(Pe,void 0,this._container),200)):Pe(this._container),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=J(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&di(this._container),this},bringToBack:function(){return this._map&&hi(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof kn){a=null;var u=this._source._layers;for(var f in u)if(u[f]._map){a=u[f];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=z(this.options.offset),u=this._getAnchor();this._zoomAnimated?$e(this._container,i.add(u)):a=a.add(i).add(u);var f=this._containerBottom=-a.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});he.include({_initOverlay:function(i,a,u,f){var v=a;return v instanceof i||(v=new i(f).setContent(a)),u&&v.setLatLng(u),v}}),Zt.include({_initOverlay:function(i,a,u,f){var v=u;return v instanceof i?(P(v,f),v._source=this):(v=a&&!f?a:new i(f,this),v.setContent(u)),v}});var ha=ln.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,ln.prototype.openOn.call(this,i)},onAdd:function(i){ln.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kn||this._source.on("preclick",Lr))},onRemove:function(i){ln.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kn||this._source.off("preclick",Lr))},getEvents:function(){var i=ln.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=me("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=me("div",i+"-content-wrapper",a);if(this._contentNode=me("div",i+"-content",u),ks(a),Hu(this._contentNode),ne(a,"contextmenu",Lr),this._tipContainer=me("div",i+"-tip-container",a),this._tip=me("div",i+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=me("a",i+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',ne(f,"click",function(v){Ke(v),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var u=i.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var f=i.offsetHeight,v=this.options.maxHeight,k="leaflet-popup-scrolled";v&&f>v?(a.height=v+"px",se(i,k)):Ie(i,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),u=this._getAnchor();$e(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(xs(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,f=this._containerWidth,v=new R(this._containerLeft,-u-this._containerBottom);v._add(Tr(this._container));var k=i.layerPointToContainerPoint(v),N=z(this.options.autoPanPadding),j=z(this.options.autoPanPaddingTopLeft||N),I=z(this.options.autoPanPaddingBottomRight||N),F=i.getSize(),Z=0,Y=0;k.x+f+I.x>F.x&&(Z=k.x+f-F.x+I.x),k.x-Z-j.x<0&&(Z=k.x-j.x),k.y+u+I.y>F.y&&(Y=k.y+u-F.y+I.y),k.y-Y-j.y<0&&(Y=k.y-j.y),(Z||Y)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Z,Y]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Zx=function(i,a){return new ha(i,a)};he.mergeOptions({closePopupOnClick:!0}),he.include({openPopup:function(i,a,u){return this._initOverlay(ha,i,a,u).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Zt.include({bindPopup:function(i,a){return this._popup=this._initOverlay(ha,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof kn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Nr(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof Kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var fa=ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){ln.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){ln.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=ln.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=me("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,u,f=this._map,v=this._container,k=f.latLngToContainerPoint(f.getCenter()),N=f.layerPointToContainerPoint(i),j=this.options.direction,I=v.offsetWidth,F=v.offsetHeight,Z=z(this.options.offset),Y=this._getAnchor();j==="top"?(a=I/2,u=F):j==="bottom"?(a=I/2,u=0):j==="center"?(a=I/2,u=F/2):j==="right"?(a=0,u=F/2):j==="left"?(a=I,u=F/2):N.x<k.x?(j="right",a=0,u=F/2):(j="left",a=I+(Z.x+Y.x)*2,u=F/2),i=i.subtract(z(a,u,!0)).add(Z).add(Y),Ie(v,"leaflet-tooltip-right"),Ie(v,"leaflet-tooltip-left"),Ie(v,"leaflet-tooltip-top"),Ie(v,"leaflet-tooltip-bottom"),se(v,"leaflet-tooltip-"+j),$e(v,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&At(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vx=function(i,a){return new fa(i,a)};he.include({openTooltip:function(i,a,u){return this._initOverlay(fa,i,a,u).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Zt.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(fa,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof kn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(ne(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),ne(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,u,f;this._tooltip.options.sticky&&i.originalEvent&&(u=this._map.mouseEventToContainerPoint(i.originalEvent),f=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var Dp=pi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Xo(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var f=z(u.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function qx(i){return new Dp(i)}pi.Default=Ts;var Ls=Zt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:G.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){P(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Pe(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof R?i:new R(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,u=-i(-1/0,1/0),f=0,v=a.length,k;f<v;f++)k=a[f].style.zIndex,a[f]!==this._container&&k&&(u=i(u,+k));isFinite(u)&&(this.options.zIndex=u+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!G.ielt9){At(this._container,this.options.opacity);var i=+new Date,a=!1,u=!1;for(var f in this._tiles){var v=this._tiles[f];if(!(!v.current||!v.loaded)){var k=Math.min(1,(i-v.loaded)/200);At(v.el,k),k<1?a=!0:(v.active?u=!0:this._onOpaqueTile(v),v.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(ee(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===i?(this._levels[u].el.style.zIndex=a-Math.abs(i-u),this._onUpdateLevel(u)):(Pe(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var f=this._levels[i],v=this._map;return f||(f=this._levels[i]={},f.el=me("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=v.project(v.unproject(v.getPixelOrigin()),i).round(),f.zoom=i,this._setZoomTransform(f,v.getCenter(),v.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var i,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Pe(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,u,f){var v=Math.floor(i/2),k=Math.floor(a/2),N=u-1,j=new R(+v,+k);j.z=+N;var I=this._tileCoordsToKey(j),F=this._tiles[I];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),N>f?this._retainParent(v,k,N,f):!1)},_retainChildren:function(i,a,u,f){for(var v=2*i;v<2*i+2;v++)for(var k=2*a;k<2*a+2;k++){var N=new R(v,k);N.z=u+1;var j=this._tileCoordsToKey(N),I=this._tiles[j];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);u+1<f&&this._retainChildren(v,k,u+1,f)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,u,f){var v=Math.round(a);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var k=this.options.updateWhenZooming&&v!==this._tileZoom;(!f||k)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(i),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],i,a)},_setZoomTransform:function(i,a,u){var f=this._map.getZoomScale(u,i.zoom),v=i.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,u)).round();G.any3d?Cr(i.el,v,f):$e(i.el,v)},_resetGrid:function(){var i=this._map,a=i.options.crs,u=this._tileSize=this.getTileSize(),f=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],f).x/u.x),Math.ceil(i.project([0,a.wrapLng[1]],f).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],f).y/u.x),Math.ceil(i.project([a.wrapLat[1],0],f).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(u,this._tileZoom),v=a.project(i,this._tileZoom).floor(),k=a.getSize().divideBy(f*2);return new K(v.subtract(k),v.add(k))},_update:function(i){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(i),v=this._pxBoundsToTileRange(f),k=v.getCenter(),N=[],j=this.options.keepBuffer,I=new K(v.getBottomLeft().subtract([j,-j]),v.getTopRight().add([j,-j]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var Z=this._tiles[F].coords;(Z.z!==this._tileZoom||!I.contains(new R(Z.x,Z.y)))&&(this._tiles[F].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(i,u);return}for(var Y=v.min.y;Y<=v.max.y;Y++)for(var ae=v.min.x;ae<=v.max.x;ae++){var at=new R(ae,Y);if(at.z=this._tileZoom,!!this._isValidTile(at)){var Ze=this._tiles[this._tileCoordsToKey(at)];Ze?Ze.current=!0:N.push(at)}}if(N.sort(function(gt,yi){return gt.distanceTo(k)-yi.distanceTo(k)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Rt=document.createDocumentFragment();for(ae=0;ae<N.length;ae++)this._addTile(N[ae],Rt);this._level.el.appendChild(Rt)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(i.x<u.min.x||i.x>u.max.x)||!a.wrapLat&&(i.y<u.min.y||i.y>u.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(i);return fe(this.options.bounds).overlaps(f)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,u=this.getTileSize(),f=i.scaleBy(u),v=f.add(u),k=a.unproject(f,i.z),N=a.unproject(v,i.z);return[k,N]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),u=new oe(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),u=new R(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(i){var a=this._tiles[i];a&&(Pe(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){se(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=m,i.onmousemove=m,G.ielt9&&this.options.opacity<1&&At(i,this.options.opacity)},_addTile:function(i,a){var u=this._getTilePos(i),f=this._tileCoordsToKey(i),v=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(v),this.createTile.length<2&&H(l(this._tileReady,this,i,null,v)),$e(v,u),this._tiles[f]={el:v,coords:i,current:!0},a.appendChild(v),this.fire("tileloadstart",{tile:v,coords:i})},_tileReady:function(i,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:i});var f=this._tileCoordsToKey(i);u=this._tiles[f],u&&(u.loaded=+new Date,this._map._fadeAnimated?(At(u.el,0),ee(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(se(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),G.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new R(this._wrapX?p(i.x,this._wrapX):i.x,this._wrapY?p(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new K(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Kx(i){return new Ls(i)}var vi=Ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=P(this,a),a.detectRetina&&G.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var u=document.createElement("img");return ne(u,"load",l(this._tileOnLoad,this,a,u)),ne(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(i),u},getTileUrl:function(i){var a={r:G.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=u),a["-y"]=u}return x(this._url,s(a,this.options))},_tileOnLoad:function(i,a){G.ielt9?setTimeout(l(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,u){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),i(u,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,f=this.options.zoomOffset;return u&&(i=a-i),i+f},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=m,a.onerror=m,!a.complete)){a.src=A;var u=this._tiles[i].coords;Pe(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",A),Ls.prototype._removeTile.call(this,i)},_tileReady:function(i,a,u){if(!(!this._map||u&&u.getAttribute("src")===A))return Ls.prototype._tileReady.call(this,i,a,u)}});function zp(i,a){return new vi(i,a)}var Fp=vi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var u=s({},this.defaultWmsParams);for(var f in a)f in this.options||(u[f]=a[f]);a=P(this,a);var v=a.detectRetina&&G.retina?2:1,k=this.getTileSize();u.width=k.x*v,u.height=k.y*v,this.wmsParams=u},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,vi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),u=this._crs,f=X(u.project(a[0]),u.project(a[1])),v=f.min,k=f.max,N=(this._wmsVersion>=1.3&&this._crs===Ap?[v.y,v.x,k.y,k.x]:[v.x,v.y,k.x,k.y]).join(","),j=vi.prototype.getTileUrl.call(this,i);return j+C(this.wmsParams,j,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(i,a){return s(this.wmsParams,i),a||this.redraw(),this}});function Gx(i,a){return new Fp(i,a)}vi.WMS=Fp,zp.wms=Gx;var Tn=Zt.extend({options:{padding:.1},initialize:function(i){P(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var u=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,a),k=f.multiplyBy(-u).add(v).subtract(this._map._getNewPixelOrigin(i,a));G.any3d?Cr(this._container,k,u):$e(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new K(u,u.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bp=Tn.extend({options:{tolerance:0},getEvents:function(){var i=Tn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Tn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");ne(i,"mousemove",this._onMouseMove,this),ne(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ne(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,Pe(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tn.prototype._update.call(this);var i=this._bounds,a=this._container,u=i.getSize(),f=G.retina?2:1;$e(a,i.min),a.width=f*u.x,a.height=f*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",G.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Tn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,u=a.next,f=a.prev;u?u.prev=f:this._drawLast=f,f?f.next=u:this._drawFirst=u,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),u=[],f,v;for(v=0;v<a.length;v++){if(f=Number(a[v]),isNaN(f))return;u.push(f)}i.options._dashArray=u}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)i=f.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var u,f,v,k,N=i._parts,j=N.length,I=this._ctx;if(j){for(I.beginPath(),u=0;u<j;u++){for(f=0,v=N[u].length;f<v;f++)k=N[u][f],I[f?"lineTo":"moveTo"](k.x,k.y);a&&I.closePath()}this._fillStroke(I,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,u=this._ctx,f=Math.max(Math.round(i._radius),1),v=(Math.max(Math.round(i._radiusY),1)||f)/f;v!==1&&(u.save(),u.scale(1,v)),u.beginPath(),u.arc(a.x,a.y/v,f,0,Math.PI*2,!1),v!==1&&u.restore(),this._fillStroke(u,i)}},_fillStroke:function(i,a){var u=a.options;u.fill&&(i.globalAlpha=u.fillOpacity,i.fillStyle=u.fillColor||u.color,i.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=u.opacity,i.lineWidth=u.weight,i.strokeStyle=u.color,i.lineCap=u.lineCap,i.lineJoin=u.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),u,f,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(u))&&(f=u);this._fireEvent(f?[f]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var u,f,v=this._drawFirst;v;v=v.next)u=v.layer,u.options.interactive&&u._containsPoint(a)&&(f=u);f!==this._hoveredLayer&&(this._handleMouseOut(i),f&&(se(this._container,"leaflet-interactive"),this._fireEvent([f],i,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,u){this._map._fireDOMEvent(a,u||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var u=a.next,f=a.prev;if(u)u.prev=f;else return;f?f.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var u=a.next,f=a.prev;if(f)f.next=u;else return;u?u.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function Up(i){return G.canvas?new Bp(i):null}var Ns=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Yx={_initContainer:function(){this._container=me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Tn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=Ns("shape");se(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=Ns("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;Pe(a),i.removeInteractiveTarget(a),delete this._layers[d(i)]},_updateStyle:function(i){var a=i._stroke,u=i._fill,f=i.options,v=i._container;v.stroked=!!f.stroke,v.filled=!!f.fill,f.stroke?(a||(a=i._stroke=Ns("stroke")),v.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=S(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(v.removeChild(a),i._stroke=null),f.fill?(u||(u=i._fill=Ns("fill")),v.appendChild(u),u.color=f.fillColor||f.color,u.opacity=f.fillOpacity):u&&(v.removeChild(u),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),u=Math.round(i._radius),f=Math.round(i._radiusY||u);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+f+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){di(i._container)},_bringToBack:function(i){hi(i._container)}},pa=G.vml?Ns:ui,js=Tn.extend({_initContainer:function(){this._container=pa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pe(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tn.prototype._update.call(this);var i=this._bounds,a=i.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),$e(u,i.min),u.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=pa("path");i.options.className&&se(a,i.options.className),i.options.interactive&&se(a,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Pe(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,u=i.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,qf(i._parts,a))},_updateCircle:function(i){var a=i._point,u=Math.max(Math.round(i._radius),1),f=Math.max(Math.round(i._radiusY),1)||u,v="a"+u+","+f+" 0 1,0 ",k=i._empty()?"M0 0":"M"+(a.x-u)+","+a.y+v+u*2+",0 "+v+-u*2+",0 ";this._setPath(i,k)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){di(i._path)},_bringToBack:function(i){hi(i._path)}});G.vml&&js.include(Yx);function Hp(i){return G.svg||G.vml?new js(i):null}he.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&Up(i)||Hp(i)}});var Wp=mi.extend({initialize:function(i,a){mi.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=fe(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Jx(i,a){return new Wp(i,a)}js.create=pa,js.pointsToPath=qf,Cn.geometryToLayer=aa,Cn.coordsToLatLng=Qu,Cn.coordsToLatLngs=la,Cn.latLngToCoords=Xu,Cn.latLngsToCoords=ua,Cn.getFeature=gi,Cn.asFeature=ca,he.mergeOptions({boxZoom:!0});var Zp=an.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){ne(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),bs(),Iu(),this._startPoint=this._map.mouseEventToContainerPoint(i),ne(document,{contextmenu:Nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=me("div","leaflet-zoom-box",this._container),se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new K(this._point,this._startPoint),u=a.getSize();$e(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Pe(this._box),Ie(this._container,"leaflet-crosshair")),Ss(),Mu(),_e(document,{contextmenu:Nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new oe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});he.addInitHook("addHandler","boxZoom",Zp),he.mergeOptions({doubleClickZoom:!0});var Vp=an.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,u=a.getZoom(),f=a.options.zoomDelta,v=i.originalEvent.shiftKey?u-f:u+f;a.options.doubleClickZoom==="center"?a.setZoom(v):a.setZoomAround(i.containerPoint,v)}});he.addInitHook("addHandler","doubleClickZoom",Vp),he.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qp=an.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new qn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ie(this._map._container,"leaflet-grab"),Ie(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=fe(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),u=this._initialWorldOffset,f=this._draggable._newPos.x,v=(f-a+u)%i+a-u,k=(f+a+u)%i-a-u,N=Math.abs(v+u)<Math.abs(k+u)?v:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(i){var a=this._map,u=a.options,f=!u.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),f)a.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,N=u.easeLinearity,j=v.multiplyBy(N/k),I=j.distanceTo([0,0]),F=Math.min(u.inertiaMaxSpeed,I),Z=j.multiplyBy(F/I),Y=F/(u.inertiaDeceleration*N),ae=Z.multiplyBy(-Y/2).round();!ae.x&&!ae.y?a.fire("moveend"):(ae=a._limitOffset(ae,a.options.maxBounds),H(function(){a.panBy(ae,{duration:Y,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});he.addInitHook("addHandler","dragging",qp),he.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kp=an.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),ne(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,u=i.scrollTop||a.scrollTop,f=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},u=this.keyCodes,f,v;for(f=0,v=u.left.length;f<v;f++)a[u.left[f]]=[-1*i,0];for(f=0,v=u.right.length;f<v;f++)a[u.right[f]]=[i,0];for(f=0,v=u.down.length;f<v;f++)a[u.down[f]]=[0,i];for(f=0,v=u.up.length;f<v;f++)a[u.up[f]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},u=this.keyCodes,f,v;for(f=0,v=u.zoomIn.length;f<v;f++)a[u.zoomIn[f]]=i;for(f=0,v=u.zoomOut.length;f<v;f++)a[u.zoomOut[f]]=-i},_addHooks:function(){ne(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,u=this._map,f;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(f=this._panKeys[a],i.shiftKey&&(f=z(f).multiplyBy(3)),u.options.maxBounds&&(f=u._limitOffset(z(f),u.options.maxBounds)),u.options.worldCopyJump){var v=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(f)));u.panTo(v)}else u.panBy(f)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Nr(i)}}});he.addInitHook("addHandler","keyboard",Kp),he.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Gp=an.extend({addHooks:function(){ne(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=_p(i),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var f=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),Nr(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),u=this._map.options.zoomSnap||0;i._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,k=u?Math.ceil(v/u)*u:v,N=i._limitZoom(a+(this._delta>0?k:-k))-a;this._delta=0,this._startTime=null,N&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+N):i.setZoomAround(this._lastMousePos,a+N))}});he.addInitHook("addHandler","scrollWheelZoom",Gp);var Qx=600;he.mergeOptions({tapHold:G.touchNative&&G.safari&&G.mobile,tapTolerance:15});var Yp=an.extend({addHooks:function(){ne(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new R(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ne(document,"touchend",Ke),ne(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Qx),ne(document,"touchend touchcancel contextmenu",this._cancel,this),ne(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){_e(document,"touchend",Ke),_e(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new R(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var u=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});he.addInitHook("addHandler","tapHold",Yp),he.mergeOptions({touchZoom:G.touch,bounceAtZoomLimits:!0});var Jp=an.extend({addHooks:function(){se(this._map._container,"leaflet-touch-zoom"),ne(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(i.touches[0]),f=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(f)._divideBy(2))),this._startDist=u.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ne(document,"touchmove",this._onTouchMove,this),ne(document,"touchend touchcancel",this._onTouchEnd,this),Ke(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(i.touches[0]),f=a.mouseEventToContainerPoint(i.touches[1]),v=u.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(v,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&v<1||this._zoom>a.getMaxZoom()&&v>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var k=u._add(f)._divideBy(2)._subtract(this._centerPoint);if(v===1&&k.x===0&&k.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),ee(this._animRequest);var N=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(N,this,!0),Ke(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ee(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});he.addInitHook("addHandler","touchZoom",Jp),he.BoxZoom=Zp,he.DoubleClickZoom=Vp,he.Drag=qp,he.Keyboard=Kp,he.ScrollWheelZoom=Gp,he.TapHold=Yp,he.TouchZoom=Jp,n.Bounds=K,n.Browser=G,n.CRS=Re,n.Canvas=Bp,n.Circle=Ju,n.CircleMarker=oa,n.Class=Q,n.Control=Wt,n.DivIcon=Dp,n.DivOverlay=ln,n.DomEvent=gx,n.DomUtil=px,n.Draggable=qn,n.Evented=de,n.FeatureGroup=kn,n.GeoJSON=Cn,n.GridLayer=Ls,n.Handler=an,n.Icon=pi,n.ImageOverlay=da,n.LatLng=ie,n.LatLngBounds=oe,n.Layer=Zt,n.LayerGroup=fi,n.LineUtil=Lx,n.Map=he,n.Marker=sa,n.Mixin=Sx,n.Path=Kn,n.Point=R,n.PolyUtil=Ex,n.Polygon=mi,n.Polyline=Pn,n.Popup=ha,n.PosAnimation=wp,n.Projection=Nx,n.Rectangle=Wp,n.Renderer=Tn,n.SVG=js,n.SVGOverlay=$p,n.TileLayer=vi,n.Tooltip=fa,n.Transformation=Pr,n.Util=V,n.VideoOverlay=Mp,n.bind=l,n.bounds=X,n.canvas=Up,n.circle=Dx,n.circleMarker=$x,n.control=Ps,n.divIcon=qx,n.extend=s,n.featureGroup=Rx,n.geoJSON=Ip,n.geoJson=Bx,n.gridLayer=Kx,n.icon=Ix,n.imageOverlay=Ux,n.latLng=J,n.latLngBounds=fe,n.layerGroup=Ox,n.map=vx,n.marker=Mx,n.point=z,n.polygon=Fx,n.polyline=zx,n.popup=Zx,n.rectangle=Jx,n.setOptions=P,n.stamp=d,n.svg=Hp,n.svgOverlay=Wx,n.tileLayer=zp,n.tooltip=Vx,n.transformation=Vn,n.version=r,n.videoOverlay=Hx;var Xx=window.L;n.noConflict=function(){return window.L=Xx,this},window.L=n})})(nh,nh.exports);var fs=nh.exports;const jo=_v(fs);function hu(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function fu(e,t){return t==null?function(r,s){const o=y.useRef();return o.current||(o.current=e(r,s)),o}:function(r,s){const o=y.useRef();o.current||(o.current=e(r,s));const l=y.useRef(r),{instance:c}=o.current;return y.useEffect(function(){l.current!==r&&(t(c,r,l.current),l.current=r)},[c,r,s]),o}}function k0(e,t){y.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function P0(e){return function(n){const r=cu(),s=e(du(n,r),r);return w0(r.map,n.attribution),Pf(s.current,n.eventHandlers),k0(s.current,r),s}}function JC(e,t){const n=y.useRef();y.useEffect(function(){if(t.pathOptions!==n.current){const s=t.pathOptions??{};e.instance.setStyle(s),n.current=s}},[e,t])}function QC(e){return function(n){const r=cu(),s=e(du(n,r),r);return Pf(s.current,n.eventHandlers),k0(s.current,r),JC(s.current,n),s}}function XC(e,t){const n=fu(e,t),r=P0(n);return E0(r)}function eT(e,t){const n=fu(e),r=YC(n,t);return KC(r)}function tT(e,t){const n=fu(e,t),r=QC(n);return E0(r)}function nT(e,t){const n=fu(e,t),r=P0(n);return GC(r)}function rT(e,t,n){const{opacity:r,zIndex:s}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function iT(){return cu().map}function rh(){return rh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rh.apply(this,arguments)}function sT({bounds:e,boundsOptions:t,center:n,children:r,className:s,id:o,placeholder:l,style:c,whenReady:d,zoom:h,...p},m){const[_]=y.useState({className:s,id:o,style:c}),[w,E]=y.useState(null);y.useImperativeHandle(m,()=>(w==null?void 0:w.map)??null,[w]);const P=y.useCallback(b=>{if(b!==null&&w===null){const x=new fs.Map(b,p);n!=null&&h!=null?x.setView(n,h):e!=null&&x.fitBounds(e,t),d!=null&&x.whenReady(d),E(qC(x))}},[]);y.useEffect(()=>()=>{w==null||w.map.remove()},[w]);const C=w?ge.createElement(S0,{value:w},r):l??null;return ge.createElement("div",rh({},_,{ref:P}),C)}const Cf=y.forwardRef(sT),Vi=XC(function({position:t,...n},r){const s=new fs.Marker(t,n);return hu(s,x0(r,{overlayContainer:s}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),oT=tT(function({positions:t,...n},r){const s=new fs.Polyline(t,n);return hu(s,x0(r,{overlayContainer:s}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),qi=eT(function(t,n){const r=new fs.Popup(t,n.overlayContainer);return hu(r,n)},function(t,n,{position:r},s){y.useEffect(function(){const{instance:l}=t;function c(h){h.popup===l&&(l.update(),s(!0))}function d(h){h.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var p;n.map.off({popupopen:c,popupclose:d}),(p=n.overlayContainer)==null||p.unbindPopup(),n.map.removeLayer(l)}},[t,n,s,r])}),Tf=nT(function({url:t,...n},r){const s=new fs.TileLayer(t,du(n,r));return hu(s,r)},function(t,n,r){rT(t,n,r);const{url:s}=n;s!=null&&s!==r.url&&t.setUrl(s)}),aT=[28.6139,77.209],C0=[[28.4,76.8],[28.9,77.5]],lT=[{name:"India Gate",position:[28.6129,77.2295],description:"War memorial"},{name:"Red Fort",position:[28.6562,77.241],description:"Historic fort"},{name:"Connaught Place",position:[28.628,77.2185],description:"Financial district"},{name:"Lotus Temple",position:[28.5535,77.2588],description:"Bah' House of Worship"},{name:"Akshardham Temple",position:[28.6127,77.2773],description:"Hindu temple complex"}],uT=[{name:"Rohini",relation:"Cousin",position:[28.736,77.112]},{name:"Dwarka",relation:"Friend",position:[28.5921,77.046]},{name:"Saket",relation:"Aunt",position:[28.5245,77.2066]},{name:"Noida",relation:"Uncle",position:[28.5708,77.3261]},{name:"Gurugram",relation:"Friend",position:[28.4595,77.0266]}],$c=[28.6139,77.209],Dg=e=>new jo.DivIcon({className:"custom-marker",html:`<div style="background-color: ${e}; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white; box-shadow: 0 0 10px rgba(0,0,0,0.3);"></div>`,iconSize:[20,20],iconAnchor:[10,10],popupAnchor:[0,-10]}),cT=new jo.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),dT=()=>{const e=iT();return y.useEffect(()=>{e&&(e.setMaxBounds(C0),e.setMinZoom(10),e.setMaxZoom(16))},[e]),null},hT=({height:e=400,className:t=""})=>{const[n,r]=y.useState(!0);return y.useEffect(()=>{const s=setTimeout(()=>{r(!1)},500);return()=>clearTimeout(s)},[]),g.jsxs("div",{className:`relative overflow-hidden rounded-xl border border-gray-200 shadow-md bg-white ${t}`,children:[n&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 bg-opacity-70 z-10",children:g.jsx("div",{className:"animate-pulse text-gray-500",children:"Loading map..."})}),g.jsxs(Cf,{center:aT,zoom:12,scrollWheelZoom:!0,style:{height:typeof e=="number"?`${e}px`:e,width:"100%",minHeight:"300px",borderRadius:"0.5rem"},className:"z-0",zoomControl:!0,maxBounds:C0,maxBoundsViscosity:1,whenReady:()=>r(!1),children:[g.jsx(dT,{}),g.jsx(Tf,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",noWrap:!0}),g.jsx(Vi,{position:$c,icon:Dg("#ef4444"),children:g.jsx(qi,{children:g.jsxs("div",{className:"text-sm p-1 min-w-[160px]",children:[g.jsx("div",{className:"font-semibold text-red-600",children:"Your Location"}),g.jsxs("div",{className:"text-gray-500 text-xs",children:[$c[0].toFixed(4),", ",$c[1].toFixed(4)]})]})})}),lT.map((s,o)=>g.jsx(Vi,{position:s.position,icon:cT,children:g.jsx(qi,{children:g.jsxs("div",{className:"text-sm p-1 min-w-[160px]",children:[g.jsx("div",{className:"font-semibold",children:s.name}),g.jsx("div",{className:"text-gray-600 text-xs",children:s.description}),g.jsxs("div",{className:"text-gray-500 text-xs mt-1",children:[s.position[0].toFixed(4),", ",s.position[1].toFixed(4)]})]})})},`landmark-${o}`)),uT.map((s,o)=>g.jsx(Vi,{position:s.position,icon:Dg("#3b82f6"),children:g.jsx(qi,{children:g.jsxs("div",{className:"text-sm p-1 min-w-[160px]",children:[g.jsx("div",{className:"font-semibold",children:s.name}),g.jsx("div",{className:"text-gray-600 text-xs",children:s.relation}),g.jsxs("div",{className:"text-gray-500 text-xs mt-1",children:[s.position[0].toFixed(4),", ",s.position[1].toFixed(4)]})]})})},`contact-${o}`))]})]})},fT=({onBack:e,userLocation:t})=>{const[n,r]=y.useState(!1),[s,o]=y.useState(0);y.useEffect(()=>{let h;return n&&(h=setInterval(()=>{o(p=>p+1)},1e3)),()=>{h&&clearInterval(h)}},[n]);const l=h=>{const p=Math.floor(h/60),m=h%60;return`${p}:${m.toString().padStart(2,"0")}`},c=()=>{r(!0),o(0);const h=["Everything is under control. Don't worry at all.","I'm analyzing the safest route possible for you.","Help is on the way. Stay calm and stay safe.","Your location has been shared with emergency contacts.","Police and emergency services have been notified."];let p=0;const m=setInterval(()=>{p<h.length?(console.log("AI Message:",h[p]),p++):clearInterval(m)},3e3);setTimeout(()=>{r(!1),o(0),clearInterval(m)},15e3)},d=()=>{r(!1),o(0)};return g.jsxs("div",{className:"min-h-screen bg-aura-background",children:[g.jsx("div",{className:"bg-gray-900 shadow-lg",children:g.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:g.jsx(Uo,{className:"w-5 h-5 text-gray-300"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-semibold text-white",children:"Aura Monitoring"}),g.jsx("p",{className:"text-sm text-gray-300",children:"Emergency Response Active"})]}),g.jsx("div",{className:"w-10"})," "]})})}),g.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-xl p-6 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(rs,{className:"w-8 h-8 text-red-400"})}),g.jsx("h2",{className:"text-xl font-bold text-red-400 mb-2",children:"Emergency Alert Sent"}),g.jsx("p",{className:"text-sm text-gray-300",children:"Your location has been shared with emergency contacts"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(wf,{className:"w-5 h-5 text-green-400"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-white",children:"Relatives & Friends Notified"}),g.jsx("p",{className:"text-xs text-gray-400",children:"8 contacts in New Delhi area"})]})]})}),g.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(rs,{className:"w-5 h-5 text-blue-400"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-white",children:"Police & Emergency Services"}),g.jsx("p",{className:"text-xs text-gray-400",children:"Nearest station: Connaught Place Police Station"})]})]})}),g.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx(ei,{className:"w-5 h-5 text-yellow-400"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-sm font-medium text-white",children:"Current Coordinates"}),g.jsxs("p",{className:"text-xs text-gray-400",children:[t.latitude.toFixed(6),", ",t.longitude.toFixed(6)]})]})]})})]}),g.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4 text-center",children:"AI Comfort Call"}),n?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4 text-center",children:[g.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[g.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),g.jsx("span",{className:"text-green-400 font-medium",children:"AI Call Active"}),g.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})]}),g.jsxs("p",{className:"text-sm text-gray-300",children:["Duration: ",l(s)]})]}),g.jsx("div",{className:"bg-gray-700 rounded-lg p-4",children:g.jsx("p",{className:"text-sm text-gray-300 italic",children:`"Everything is under control. Don't worry at all. I'm analyzing the safest route possible for you."`})}),g.jsx("button",{onClick:d,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200",children:"End Call"})]}):g.jsxs("button",{onClick:c,className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-6 rounded-xl flex items-center justify-center space-x-3 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:[g.jsx(iu,{className:"w-5 h-5"}),g.jsx("span",{children:"Start AI Call"})]})]}),g.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[g.jsx("h4",{className:"text-sm font-medium text-blue-400 mb-2",children:"Safety Tips:"}),g.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[g.jsx("li",{children:" Stay in a well-lit, public area"}),g.jsx("li",{children:" Keep your phone charged and accessible"}),g.jsx("li",{children:" Trust your instincts and call 911 if needed"})]})]})]})})]})},T0=typeof document<"u"?ge.useLayoutEffect:()=>{};var Dc;const pT=(Dc=ge.useInsertionEffect)!==null&&Dc!==void 0?Dc:T0;function mT(e){const t=y.useRef(null);return pT(()=>{t.current=e},[e]),y.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Sr=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Wr=e=>e&&"window"in e&&e.window===e?e:Sr(e).defaultView||window;function gT(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function vT(e){return gT(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let yT=!1;function Lf(){return yT}function L0(e,t){if(!Lf())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:vT(n)?n=n.host:n=n.parentNode}return!1}const ih=(e=document)=>{var t;if(!Lf())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function N0(e){return Lf()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function _T(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function wT(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function j0(e){let t=null;return()=>(t==null&&(t=e()),t)}const xT=j0(function(){return wT(/^Mac/i)}),bT=j0(function(){return _T(/Android/i)});function A0(){let e=y.useRef(new Map),t=y.useCallback((s,o,l,c)=>{let d=c!=null&&c.once?(...h)=>{e.current.delete(l),l(...h)}:l;e.current.set(l,{type:o,eventTarget:s,fn:d,options:c}),s.addEventListener(o,d,c)},[]),n=y.useCallback((s,o,l,c)=>{var d;let h=((d=e.current.get(l))===null||d===void 0?void 0:d.fn)||l;s.removeEventListener(o,h,c),e.current.delete(l)},[]),r=y.useCallback(()=>{e.current.forEach((s,o)=>{n(s.eventTarget,s.type,o,s.options)})},[n]);return y.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function ST(e){return e.pointerType===""&&e.isTrusted?!0:bT()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function O0(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function ET(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function R0(e){let t=y.useRef({isFocused:!1,observer:null});T0(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=mT(r=>{e==null||e(r)});return y.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=r.target,o=l=>{if(t.current.isFocused=!1,s.disabled){let c=O0(l);n(c)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let c=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let kT=!1,Vo=null,sh=new Set,uo=new Map,ti=!1,oh=!1;const PT={Tab:!0,Escape:!0};function Nf(e,t){for(let n of sh)n(e,t)}function CT(e){return!(e.metaKey||!xT()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ol(e){ti=!0,CT(e)&&(Vo="keyboard",Nf("keyboard",e))}function Ki(e){Vo="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(ti=!0,Nf("pointer",e))}function I0(e){ST(e)&&(ti=!0,Vo="virtual")}function M0(e){e.target===window||e.target===document||kT||!e.isTrusted||(!ti&&!oh&&(Vo="virtual",Nf("virtual",e)),ti=!1,oh=!1)}function $0(){ti=!1,oh=!0}function ah(e){if(typeof window>"u"||typeof document>"u"||uo.get(Wr(e)))return;const t=Wr(e),n=Sr(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){ti=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ol,!0),n.addEventListener("keyup",Ol,!0),n.addEventListener("click",I0,!0),t.addEventListener("focus",M0,!0),t.addEventListener("blur",$0,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Ki,!0),n.addEventListener("pointermove",Ki,!0),n.addEventListener("pointerup",Ki,!0)),t.addEventListener("beforeunload",()=>{D0(e)},{once:!0}),uo.set(t,{focus:r})}const D0=(e,t)=>{const n=Wr(e),r=Sr(e);t&&r.removeEventListener("DOMContentLoaded",t),uo.has(n)&&(n.HTMLElement.prototype.focus=uo.get(n).focus,r.removeEventListener("keydown",Ol,!0),r.removeEventListener("keyup",Ol,!0),r.removeEventListener("click",I0,!0),n.removeEventListener("focus",M0,!0),n.removeEventListener("blur",$0,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Ki,!0),r.removeEventListener("pointermove",Ki,!0),r.removeEventListener("pointerup",Ki,!0)),uo.delete(n))};function TT(e){const t=Sr(e);let n;return t.readyState!=="loading"?ah(e):(n=()=>{ah(e)},t.addEventListener("DOMContentLoaded",n)),()=>D0(e,n)}typeof document<"u"&&TT();function z0(){return Vo!=="pointer"}const LT=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function NT(e,t,n){let r=Sr(n==null?void 0:n.target);const s=typeof window<"u"?Wr(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Wr(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?Wr(n==null?void 0:n.target).HTMLElement:HTMLElement,c=typeof window<"u"?Wr(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof s&&!LT.has(r.activeElement.type)||r.activeElement instanceof o||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof c&&!PT[n.key])}function jT(e,t,n){ah(),y.useEffect(()=>{let r=(s,o)=>{NT(!!(n!=null&&n.isTextInput),s,o)&&e(z0())};return sh.add(r),()=>{sh.delete(r)}},t)}function AT(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:s}=e;const o=y.useCallback(d=>{if(d.target===d.currentTarget)return r&&r(d),s&&s(!1),!0},[r,s]),l=R0(o),c=y.useCallback(d=>{const h=Sr(d.target),p=h?ih(h):ih();d.target===d.currentTarget&&p===N0(d.nativeEvent)&&(n&&n(d),s&&s(!0),l(d))},[s,n,l]);return{focusProps:{onFocus:!t&&(n||s||r)?c:void 0,onBlur:!t&&(r||s)?o:void 0}}}function OT(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=e,o=y.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:c}=A0(),d=y.useCallback(m=>{m.currentTarget.contains(m.target)&&o.current.isFocusWithin&&!m.currentTarget.contains(m.relatedTarget)&&(o.current.isFocusWithin=!1,c(),n&&n(m),s&&s(!1))},[n,s,o,c]),h=R0(d),p=y.useCallback(m=>{if(!m.currentTarget.contains(m.target))return;const _=Sr(m.target),w=ih(_);if(!o.current.isFocusWithin&&w===N0(m.nativeEvent)){r&&r(m),s&&s(!0),o.current.isFocusWithin=!0,h(m);let E=m.currentTarget;l(_,"focus",P=>{if(o.current.isFocusWithin&&!L0(E,P.target)){let C=new _.defaultView.FocusEvent("blur",{relatedTarget:P.target});ET(C,E);let b=O0(C);d(b)}},{capture:!0})}},[r,s,h,l,d]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:p,onBlur:d}}}let lh=!1,Da=0;function RT(){lh=!0,setTimeout(()=>{lh=!1},50)}function zg(e){e.pointerType==="touch"&&RT()}function IT(){if(!(typeof document>"u"))return Da===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",zg),Da++,()=>{Da--,!(Da>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",zg)}}function MT(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:s}=e,[o,l]=y.useState(!1),c=y.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;y.useEffect(IT,[]);let{addGlobalListener:d,removeAllGlobalListeners:h}=A0(),{hoverProps:p,triggerHoverEnd:m}=y.useMemo(()=>{let _=(P,C)=>{if(c.pointerType=C,s||C==="touch"||c.isHovered||!P.currentTarget.contains(P.target))return;c.isHovered=!0;let b=P.currentTarget;c.target=b,d(Sr(P.target),"pointerover",x=>{c.isHovered&&c.target&&!L0(c.target,x.target)&&w(x,x.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:C}),n&&n(!0),l(!0)},w=(P,C)=>{let b=c.target;c.pointerType="",c.target=null,!(C==="touch"||!c.isHovered||!b)&&(c.isHovered=!1,h(),r&&r({type:"hoverend",target:b,pointerType:C}),n&&n(!1),l(!1))},E={};return typeof PointerEvent<"u"&&(E.onPointerEnter=P=>{lh&&P.pointerType==="mouse"||_(P,P.pointerType)},E.onPointerLeave=P=>{!s&&P.currentTarget.contains(P.target)&&w(P,P.pointerType)}),{hoverProps:E,triggerHoverEnd:w}},[t,n,r,s,c,d,h]);return y.useEffect(()=>{s&&m({currentTarget:c.target},c.pointerType)},[s]),{hoverProps:p,isHovered:o}}function $T(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,s=y.useRef({isFocused:!1,isFocusVisible:t||z0()}),[o,l]=y.useState(!1),[c,d]=y.useState(()=>s.current.isFocused&&s.current.isFocusVisible),h=y.useCallback(()=>d(s.current.isFocused&&s.current.isFocusVisible),[]),p=y.useCallback(w=>{s.current.isFocused=w,l(w),h()},[h]);jT(w=>{s.current.isFocusVisible=w,h()},[],{isTextInput:n});let{focusProps:m}=AT({isDisabled:r,onFocusChange:p}),{focusWithinProps:_}=OT({isDisabled:!r,onFocusWithinChange:p});return{isFocused:o,isFocusVisible:c,focusProps:r?_:m}}var DT=Object.defineProperty,zT=(e,t,n)=>t in e?DT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zc=(e,t,n)=>(zT(e,typeof t!="symbol"?t+"":t,n),n);let FT=class{constructor(){zc(this,"current",this.detect()),zc(this,"handoffState","pending"),zc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},yn=new FT;function ps(e){var t,n;return yn.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function F0(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Ut(){let e=[],t={addEventListener(n,r,s,o){return n.addEventListener(r,s,o),t.add(()=>n.removeEventListener(r,s,o))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return F0(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let o=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:o})})},group(n){let r=Ut();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function qo(){let[e]=y.useState(Ut);return y.useEffect(()=>()=>e.dispose(),[e]),e}let be=(e,t)=>{yn.isServer?y.useEffect(e,t):y.useLayoutEffect(e,t)};function ms(e){let t=y.useRef(e);return be(()=>{t.current=e},[e]),t}let le=function(e){let t=ms(e);return ge.useCallback((...n)=>t.current(...n),[t])};function BT(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function UT(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function HT({disabled:e=!1}={}){let t=y.useRef(null),[n,r]=y.useState(!1),s=qo(),o=le(()=>{t.current=null,r(!1),s.dispose()}),l=le(c=>{if(s.dispose(),t.current===null){t.current=c.currentTarget,r(!0);{let d=ps(c.currentTarget);s.addEventListener(d,"pointerup",o,!1),s.addEventListener(d,"pointermove",h=>{if(t.current){let p=BT(h);r(UT(p,t.current.getBoundingClientRect()))}},!1),s.addEventListener(d,"pointercancel",o,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:o,onClick:o}}}let WT=y.createContext(void 0);function B0(){return y.useContext(WT)}function uh(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Er(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Er),r}var Rl=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Rl||{}),or=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(or||{});function St(){let e=VT();return y.useCallback(t=>ZT({mergeRefs:e,...t}),[e])}function ZT({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:o=!0,name:l,mergeRefs:c}){c=c??qT;let d=U0(t,e);if(o)return za(d,n,r,l,c);let h=s??0;if(h&2){let{static:p=!1,...m}=d;if(p)return za(m,n,r,l,c)}if(h&1){let{unmount:p=!0,...m}=d;return Er(p?0:1,{0(){return null},1(){return za({...m,hidden:!0,style:{display:"none"}},n,r,l,c)}})}return za(d,n,r,l,c)}function za(e,t={},n,r,s){let{as:o=n,children:l,refName:c="ref",...d}=Fc(e,["unmount","static"]),h=e.ref!==void 0?{[c]:e.ref}:{},p=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let m={};if(t){let _=!1,w=[];for(let[E,P]of Object.entries(t))typeof P=="boolean"&&(_=!0),P===!0&&w.push(E.replace(/([A-Z])/g,C=>`-${C.toLowerCase()}`));if(_){m["data-headlessui-state"]=w.join(" ");for(let E of w)m[`data-${E}`]=""}}if(o===y.Fragment&&(Object.keys(zr(d)).length>0||Object.keys(zr(m)).length>0))if(!y.isValidElement(p)||Array.isArray(p)&&p.length>1){if(Object.keys(zr(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(zr(d)).concat(Object.keys(zr(m))).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`))}else{let _=p.props,w=_==null?void 0:_.className,E=typeof w=="function"?(...b)=>uh(w(...b),d.className):uh(w,d.className),P=E?{className:E}:{},C=U0(p.props,zr(Fc(d,["ref"])));for(let b in m)b in C&&delete m[b];return y.cloneElement(p,Object.assign({},C,m,h,{ref:s(KT(p),h.ref)},P))}return y.createElement(o,Object.assign({},Fc(d,["ref"]),o!==y.Fragment&&h,o!==y.Fragment&&m),p)}function VT(){let e=y.useRef([]),t=y.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function qT(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function U0(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var o;return(o=s==null?void 0:s.preventDefault)==null?void 0:o.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...o){let l=n[r];for(let c of l){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;c(s,...o)}}});return t}function H0(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];for(let r in n)Object.assign(t,{[r](...s){let o=n[r];for(let l of o)l==null||l(...s)}});return t}function pt(e){var t;return Object.assign(y.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function zr(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Fc(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function KT(e){return ge.version.split(".")[0]>="19"?e.props.ref:e.ref}let GT=y.createContext(void 0);function YT(){return y.useContext(GT)}function jf(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function pu(e){return jf(e)&&"tagName"in e}function Zn(e){return pu(e)&&"accessKey"in e}function Zr(e){return pu(e)&&"tabIndex"in e}function JT(e){return pu(e)&&"style"in e}function QT(e){return Zn(e)&&e.nodeName==="IFRAME"}function W0(e){return Zn(e)&&e.nodeName==="INPUT"}function Fg(e){return Zn(e)&&e.nodeName==="LABEL"}function XT(e){return Zn(e)&&e.nodeName==="FIELDSET"}function Z0(e){return Zn(e)&&e.nodeName==="LEGEND"}function eL(e){return pu(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function tL(e){let t=e.parentElement,n=null;for(;t&&!XT(t);)Z0(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&nL(n)?!1:r}function nL(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(Z0(t))return!1;t=t.previousElementSibling}return!0}let V0=Symbol();function rL(e,t=!0){return Object.assign(e,{[V0]:t})}function rn(...e){let t=y.useRef(e);y.useEffect(()=>{t.current=e},[e]);let n=le(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[V0]))?void 0:n}let Af=y.createContext(null);Af.displayName="DescriptionContext";function q0(){let e=y.useContext(Af);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,q0),t}return e}function iL(){let[e,t]=y.useState([]);return[e.length>0?e.join(" "):void 0,y.useMemo(()=>function(n){let r=le(o=>(t(l=>[...l,o]),()=>t(l=>{let c=l.slice(),d=c.indexOf(o);return d!==-1&&c.splice(d,1),c}))),s=y.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return ge.createElement(Af.Provider,{value:s},n.children)},[t])]}let sL="p";function oL(e,t){let n=y.useId(),r=B0(),{id:s=`headlessui-description-${n}`,...o}=e,l=q0(),c=rn(t);be(()=>l.register(s),[s,l.register]);let d=r||!1,h=y.useMemo(()=>({...l.slot,disabled:d}),[l.slot,d]),p={ref:c,...l.props,id:s};return St()({ourProps:p,theirProps:o,slot:h,defaultTag:sL,name:l.name||"Description"})}let aL=pt(oL);Object.assign(aL,{});var Je=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Je||{});let mu=y.createContext(null);mu.displayName="LabelContext";function Of(){let e=y.useContext(mu);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Of),t}return e}function lL(e){var t,n,r;let s=(n=(t=y.useContext(mu))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...e].filter(Boolean).join(" "):s}function K0({inherit:e=!1}={}){let t=lL(),[n,r]=y.useState([]),s=e?[t,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,y.useMemo(()=>function(o){let l=le(d=>(r(h=>[...h,d]),()=>r(h=>{let p=h.slice(),m=p.indexOf(d);return m!==-1&&p.splice(m,1),p}))),c=y.useMemo(()=>({register:l,slot:o.slot,name:o.name,props:o.props,value:o.value}),[l,o.slot,o.name,o.props,o.value]);return ge.createElement(mu.Provider,{value:c},o.children)},[r])]}let uL="label";function cL(e,t){var n;let r=y.useId(),s=Of(),o=YT(),l=B0(),{id:c=`headlessui-label-${r}`,htmlFor:d=o??((n=s.props)==null?void 0:n.htmlFor),passive:h=!1,...p}=e,m=rn(t);be(()=>s.register(c),[c,s.register]);let _=le(C=>{let b=C.currentTarget;if(!(C.target!==C.currentTarget&&eL(C.target))&&(Fg(b)&&C.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(C),Fg(b))){let x=document.getElementById(b.htmlFor);if(x){let S=x.getAttribute("disabled");if(S==="true"||S==="")return;let T=x.getAttribute("aria-disabled");if(T==="true"||T==="")return;(W0(x)&&(x.type==="file"||x.type==="radio"||x.type==="checkbox")||x.role==="radio"||x.role==="checkbox"||x.role==="switch")&&x.click(),x.focus({preventScroll:!0})}}}),w=l||!1,E=y.useMemo(()=>({...s.slot,disabled:w}),[s.slot,w]),P={ref:m,...s.props,id:c,htmlFor:d,onClick:_};return h&&("onClick"in P&&(delete P.htmlFor,delete P.onClick),"onClick"in p&&delete p.onClick),St()({ourProps:P,theirProps:p,slot:E,defaultTag:d?uL:"div",name:s.name||"Label"})}let dL=pt(cL);Object.assign(dL,{});function hL(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function fL(e,t=!1){let[n,r]=y.useReducer(()=>({}),{}),s=y.useMemo(()=>hL(e),[e,n]);return be(()=>{if(!e)return;let o=new ResizeObserver(r);return o.observe(e),()=>{o.disconnect()}},[e]),t?{width:`${s.width}px`,height:`${s.height}px`}:s}let G0=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var pL=Object.defineProperty,mL=(e,t,n)=>t in e?pL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gL=(e,t,n)=>(mL(e,t+"",n),n),Y0=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},It=(e,t,n)=>(Y0(e,t,"read from private field"),n?n.call(e):t.get(e)),Bc=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Bg=(e,t,n,r)=>(Y0(e,t,"write to private field"),t.set(e,n),n),cn,Gs,Ys;let J0=class{constructor(t){Bc(this,cn,{}),Bc(this,Gs,new G0(()=>new Set)),Bc(this,Ys,new Set),gL(this,"disposables",Ut()),Bg(this,cn,t),yn.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return It(this,cn)}subscribe(t,n){if(yn.isServer)return()=>{};let r={selector:t,callback:n,current:t(It(this,cn))};return It(this,Ys).add(r),this.disposables.add(()=>{It(this,Ys).delete(r)})}on(t,n){return yn.isServer?()=>{}:(It(this,Gs).get(t).add(n),this.disposables.add(()=>{It(this,Gs).get(t).delete(n)}))}send(t){let n=this.reduce(It(this,cn),t);if(n!==It(this,cn)){Bg(this,cn,n);for(let r of It(this,Ys)){let s=r.selector(It(this,cn));Q0(r.current,s)||(r.current=s,r.callback(s))}for(let r of It(this,Gs).get(t.type))r(It(this,cn),t)}}};cn=new WeakMap,Gs=new WeakMap,Ys=new WeakMap;function Q0(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Uc(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Uc(e.entries(),t.entries()):Ug(e)&&Ug(t)?Uc(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Uc(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Ug(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function Hg(e){let[t,n]=e(),r=Ut();return(...s)=>{t(...s),r.dispose(),r.microTask(n)}}var vL=Object.defineProperty,yL=(e,t,n)=>t in e?vL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wg=(e,t,n)=>(yL(e,typeof t!="symbol"?t+"":t,n),n),X0=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(X0||{});let _L={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let o=e.stack.slice();return o.splice(s,1),o.push(n),r=o,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},wL=class ew extends J0{constructor(){super(...arguments),Wg(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Wg(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new ew({stack:[]})}reduce(t,n){return Er(n.type,_L,t,n)}};const Rf=new G0(()=>wL.new());var tw={exports:{}},nw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=y;function xL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bL=typeof Object.is=="function"?Object.is:xL,SL=Ko.useSyncExternalStore,EL=Ko.useRef,kL=Ko.useEffect,PL=Ko.useMemo,CL=Ko.useDebugValue;nw.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var o=EL(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=PL(function(){function d(w){if(!h){if(h=!0,p=w,w=r(w),s!==void 0&&l.hasValue){var E=l.value;if(s(E,w))return m=E}return m=w}if(E=m,bL(p,w))return E;var P=r(w);return s!==void 0&&s(E,P)?(p=w,E):(p=w,m=P)}var h=!1,p,m,_=n===void 0?null:n;return[function(){return d(t())},_===null?void 0:function(){return d(_())}]},[t,n,r,s]);var c=SL(e,o[0],o[1]);return kL(function(){l.hasValue=!0,l.value=c},[c]),CL(c),c};tw.exports=nw;var TL=tw.exports;function mn(e,t,n=Q0){return TL.useSyncExternalStoreWithSelector(le(r=>e.subscribe(LL,r)),le(()=>e.state),le(()=>e.state),le(t),n)}function LL(e){return e}function rw(e,t){let n=y.useId(),r=Rf.get(t),[s,o]=mn(r,y.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return be(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?o?s:!0:!1}let ch=new Map,co=new Map;function Zg(e){var t;let n=(t=co.get(e))!=null?t:0;return co.set(e,n+1),n!==0?()=>Vg(e):(ch.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Vg(e))}function Vg(e){var t;let n=(t=co.get(e))!=null?t:1;if(n===1?co.delete(e):co.set(e,n-1),n!==1)return;let r=ch.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,ch.delete(e))}function NL(e,{allowed:t,disallowed:n}={}){let r=rw(e,"inert-others");be(()=>{var s,o;if(!r)return;let l=Ut();for(let d of(s=n==null?void 0:n())!=null?s:[])d&&l.add(Zg(d));let c=(o=t==null?void 0:t())!=null?o:[];for(let d of c){if(!d)continue;let h=ps(d);if(!h)continue;let p=d.parentElement;for(;p&&p!==h.body;){for(let m of p.children)c.some(_=>m.contains(_))||l.add(Zg(m));p=p.parentElement}}return l.dispose},[r,t,n])}function jL(e,t,n){let r=ms(s=>{let o=s.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});y.useEffect(()=>{if(!e)return;let s=t===null?null:Zn(t)?t:t.current;if(!s)return;let o=Ut();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(s));l.observe(s),o.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(s));l.observe(s),o.add(()=>l.disconnect())}return()=>o.dispose()},[t,r,e])}let dh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),AL=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var hh=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(hh||{}),OL=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(OL||{}),RL=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(RL||{});function iw(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(dh)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function IL(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(AL)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var If=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(If||{});function Mf(e,t=0){var n;return e===((n=ps(e))==null?void 0:n.body)?!1:Er(t,{0(){return e.matches(dh)},1(){let r=e;for(;r!==null;){if(r.matches(dh))return!0;r=r.parentElement}return!1}})}function sw(e){let t=ps(e);Ut().nextFrame(()=>{t&&Zr(t.activeElement)&&!Mf(t.activeElement,0)&&$L(e)})}var ML=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(ML||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function $L(e){e==null||e.focus({preventScroll:!0})}let DL=["textarea","input"].join(",");function zL(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,DL))!=null?n:!1}function ow(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),o=t(r);if(s===null||o===null)return 0;let l=s.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function FL(e,t){return BL(iw(),t,{relativeTo:e})}function BL(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?n?ow(e):e:t&64?IL(e):iw(e);s.length>0&&l.length>1&&(l=l.filter(w=>!s.some(E=>E!=null&&"current"in E?(E==null?void 0:E.current)===w:E===w))),r=r??o.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=t&32?{preventScroll:!0}:{},p=0,m=l.length,_;do{if(p>=m||p+m<=0)return 0;let w=d+p;if(t&16)w=(w+m)%m;else{if(w<0)return 3;if(w>=m)return 1}_=l[w],_==null||_.focus(h),p+=c}while(_!==o.activeElement);return t&6&&zL(_)&&_.select(),2}function aw(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function UL(){return/Android/gi.test(window.navigator.userAgent)}function qg(){return aw()||UL()}function zi(e,t,n,r){let s=ms(n);y.useEffect(()=>{if(!e)return;function o(l){s.current(l)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function HL(e,t,n,r){let s=ms(n);y.useEffect(()=>{if(!e)return;function o(l){s.current(l)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const Kg=30;function WL(e,t,n){let r=ms(n),s=y.useCallback(function(c,d){if(c.defaultPrevented)return;let h=d(c);if(h===null||!h.getRootNode().contains(h)||!h.isConnected)return;let p=function m(_){return typeof _=="function"?m(_()):Array.isArray(_)||_ instanceof Set?_:[_]}(t);for(let m of p)if(m!==null&&(m.contains(h)||c.composed&&c.composedPath().includes(m)))return;return!Mf(h,If.Loose)&&h.tabIndex!==-1&&c.preventDefault(),r.current(c,h)},[r,t]),o=y.useRef(null);zi(e,"pointerdown",c=>{var d,h;qg()||(o.current=((h=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:h[0])||c.target)},!0),zi(e,"pointerup",c=>{if(qg()||!o.current)return;let d=o.current;return o.current=null,s(c,()=>d)},!0);let l=y.useRef({x:0,y:0});zi(e,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),zi(e,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=Kg||Math.abs(d.y-l.current.y)>=Kg))return s(c,()=>Zr(c.target)?c.target:null)},!0),HL(e,"blur",c=>s(c,()=>QT(window.document.activeElement)?window.document.activeElement:null),!0)}function fh(...e){return y.useMemo(()=>ps(...e),[...e])}var ZL=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(ZL||{});const Fa={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},VL=200,Gg=5;function qL(e,{trigger:t,action:n,close:r,select:s}){let o=y.useRef(null),l=y.useRef(null),c=y.useRef(null);zi(e&&t!==null,"pointerdown",d=>{jf(d==null?void 0:d.target)&&t!=null&&t.contains(d.target)&&(l.current=d.x,c.current=d.y,o.current=d.timeStamp)}),zi(e&&t!==null,"pointerup",d=>{var h,p;let m=o.current;if(m===null||(o.current=null,!Zr(d.target))||Math.abs(d.x-((h=l.current)!=null?h:d.x))<Gg&&Math.abs(d.y-((p=c.current)!=null?p:d.y))<Gg)return;let _=n(d);switch(_.kind){case 0:return;case 1:{d.timeStamp-m>VL&&(s(_.target),r());break}case 2:{r();break}}},{capture:!0})}function KL(e,t){return y.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function GL(e){return y.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function YL(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...o){let l=t[s].call(n,...o);l&&(n=l,r.forEach(c=>c()))}}}function JL(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-s);n.style(r,"paddingRight",`${o}px`)}}}function QL(){return aw()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(o=>o()).some(o=>o.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=Ut();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,l=null;t.addEventListener(e,"click",c=>{if(Zr(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:h}=new URL(d.href),p=e.querySelector(h);Zr(p)&&!r(p)&&(l=p)}catch{}},!0),t.addEventListener(e,"touchstart",c=>{if(Zr(c.target)&&JT(c.target))if(r(c.target)){let d=c.target;for(;d.parentElement&&r(d.parentElement);)d=d.parentElement;t.style(d,"overscrollBehavior","contain")}else t.style(c.target,"touchAction","none")}),t.addEventListener(e,"touchmove",c=>{if(Zr(c.target)){if(W0(c.target))return;if(r(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;o!==d&&window.scrollTo(0,o),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function XL(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function e2(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Vr=YL(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Ut(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:e2(n)},s=[QL(),JL(),XL()];s.forEach(({before:o})=>o==null?void 0:o(r)),s.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Vr.subscribe(()=>{let e=Vr.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Vr.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Vr.dispatch("TEARDOWN",n)}});function t2(e,t,n=()=>({containers:[]})){let r=GL(Vr),s=t?r.get(t):void 0,o=s?s.count>0:!1;return be(()=>{if(!(!t||!e))return Vr.dispatch("PUSH",t,n),()=>Vr.dispatch("POP",t,n)},[e,t]),o}function n2(e,t,n=()=>[document.body]){let r=rw(e,"scroll-lock");t2(r,t,s=>{var o;return{containers:[...(o=s.containers)!=null?o:[],n]}})}function Yg(e){return[e.screenX,e.screenY]}function r2(){let e=y.useRef([-1,-1]);return{wasMoved(t){let n=Yg(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=Yg(t)}}}function i2(e=0){let[t,n]=y.useState(e),r=y.useCallback(d=>n(d),[t]),s=y.useCallback(d=>n(h=>h|d),[t]),o=y.useCallback(d=>(t&d)===d,[t]),l=y.useCallback(d=>n(h=>h&~d),[n]),c=y.useCallback(d=>n(h=>h^d),[n]);return{flags:t,setFlag:r,addFlag:s,hasFlag:o,removeFlag:l,toggleFlag:c}}var s2={},Jg,Qg;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Jg=process==null?void 0:s2)==null?void 0:Jg.NODE_ENV)==="test"&&typeof((Qg=Element==null?void 0:Element.prototype)==null?void 0:Qg.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var o2=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(o2||{});function lw(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function uw(e,t,n,r){let[s,o]=y.useState(n),{hasFlag:l,addFlag:c,removeFlag:d}=i2(e&&s?3:0),h=y.useRef(!1),p=y.useRef(!1),m=qo();return be(()=>{var _;if(e){if(n&&o(!0),!t){n&&c(3);return}return(_=r==null?void 0:r.start)==null||_.call(r,n),a2(t,{inFlight:h,prepare(){p.current?p.current=!1:p.current=h.current,h.current=!0,!p.current&&(n?(c(3),d(4)):(c(4),d(2)))},run(){p.current?n?(d(3),c(4)):(d(4),c(3)):n?d(1):c(1)},done(){var w;p.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(h.current=!1,d(7),n||o(!1),(w=r==null?void 0:r.end)==null||w.call(r,n))}})}},[e,n,t,m]),e?[s,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function a2(e,{prepare:t,run:n,done:r,inFlight:s}){let o=Ut();return u2(e,{prepare:t,inFlight:s}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(l2(e,r))})}),o.dispose}function l2(e,t){var n,r;let s=Ut();if(!e)return s.dispose;let o=!1;s.add(()=>{o=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(c=>c instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),s.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{o||t()}),s.dispose)}function u2(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function c2(e,{container:t,accept:n,walk:r}){let s=y.useRef(n),o=y.useRef(r);y.useEffect(()=>{s.current=n,o.current=r},[n,r]),be(()=>{if(!t||!e)return;let l=ps(t);if(!l)return;let c=s.current,d=o.current,h=Object.assign(m=>c(m),{acceptNode:c}),p=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,h,!1);for(;p.nextNode();)d(p.currentNode)},[t,e,s,o])}function gu(){return typeof window<"u"}function gs(e){return cw(e)?(e.nodeName||"").toLowerCase():"#document"}function Ct(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function En(e){var t;return(t=(cw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cw(e){return gu()?e instanceof Node||e instanceof Ct(e).Node:!1}function ct(e){return gu()?e instanceof Element||e instanceof Ct(e).Element:!1}function bn(e){return gu()?e instanceof HTMLElement||e instanceof Ct(e).HTMLElement:!1}function Xg(e){return!gu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ct(e).ShadowRoot}const d2=new Set(["inline","contents"]);function Go(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=nn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!d2.has(s)}const h2=new Set(["table","td","th"]);function f2(e){return h2.has(gs(e))}const p2=[":popover-open",":modal"];function vu(e){return p2.some(t=>{try{return e.matches(t)}catch{return!1}})}const m2=["transform","translate","scale","rotate","perspective"],g2=["transform","translate","scale","rotate","perspective","filter"],v2=["paint","layout","strict","content"];function $f(e){const t=Df(),n=ct(e)?nn(e):e;return m2.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||g2.some(r=>(n.willChange||"").includes(r))||v2.some(r=>(n.contain||"").includes(r))}function y2(e){let t=vr(e);for(;bn(t)&&!ss(t);){if($f(t))return t;if(vu(t))return null;t=vr(t)}return null}function Df(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _2=new Set(["html","body","#document"]);function ss(e){return _2.has(gs(e))}function nn(e){return Ct(e).getComputedStyle(e)}function yu(e){return ct(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function vr(e){if(gs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xg(e)&&e.host||En(e);return Xg(t)?t.host:t}function dw(e){const t=vr(e);return ss(t)?e.ownerDocument?e.ownerDocument.body:e.body:bn(t)&&Go(t)?t:dw(t)}function Ao(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=dw(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),l=Ct(s);if(o){const c=ph(l);return t.concat(l,l.visualViewport||[],Go(s)?s:[],c&&n?Ao(c):[])}return t.concat(s,Ao(s,[],n))}function ph(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function w2(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const ni=Math.min,st=Math.max,Oo=Math.round,Ba=Math.floor,_n=e=>({x:e,y:e}),x2={left:"right",right:"left",bottom:"top",top:"bottom"},b2={start:"end",end:"start"};function ev(e,t,n){return st(e,ni(t,n))}function vs(e,t){return typeof e=="function"?e(t):e}function yr(e){return e.split("-")[0]}function Yo(e){return e.split("-")[1]}function hw(e){return e==="x"?"y":"x"}function fw(e){return e==="y"?"height":"width"}const S2=new Set(["top","bottom"]);function In(e){return S2.has(yr(e))?"y":"x"}function pw(e){return hw(In(e))}function E2(e,t,n){n===void 0&&(n=!1);const r=Yo(e),s=pw(e),o=fw(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Il(l)),[l,Il(l)]}function k2(e){const t=Il(e);return[mh(e),t,mh(t)]}function mh(e){return e.replace(/start|end/g,t=>b2[t])}const tv=["left","right"],nv=["right","left"],P2=["top","bottom"],C2=["bottom","top"];function T2(e,t,n){switch(e){case"top":case"bottom":return n?t?nv:tv:t?tv:nv;case"left":case"right":return t?P2:C2;default:return[]}}function L2(e,t,n,r){const s=Yo(e);let o=T2(yr(e),n==="start",r);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(mh)))),o}function Il(e){return e.replace(/left|right|bottom|top/g,t=>x2[t])}function N2(e){return{top:0,right:0,bottom:0,left:0,...e}}function j2(e){return typeof e!="number"?N2(e):{top:e,right:e,bottom:e,left:e}}function Ml(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function rv(e,t,n){let{reference:r,floating:s}=e;const o=In(t),l=pw(t),c=fw(l),d=yr(t),h=o==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,_=r[c]/2-s[c]/2;let w;switch(d){case"top":w={x:p,y:r.y-s.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:m};break;case"left":w={x:r.x-s.width,y:m};break;default:w={x:r.x,y:r.y}}switch(Yo(t)){case"start":w[l]-=_*(n&&h?-1:1);break;case"end":w[l]+=_*(n&&h?-1:1);break}return w}const A2=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:m}=rv(h,r,d),_=r,w={},E=0;for(let P=0;P<c.length;P++){const{name:C,fn:b}=c[P],{x,y:S,data:T,reset:A}=await b({x:p,y:m,initialPlacement:r,placement:_,strategy:s,middlewareData:w,rects:h,platform:l,elements:{reference:e,floating:t}});p=x??p,m=S??m,w={...w,[C]:{...w[C],...T}},A&&E<=50&&(E++,typeof A=="object"&&(A.placement&&(_=A.placement),A.rects&&(h=A.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):A.rects),{x:p,y:m}=rv(h,_,d)),P=-1)}return{x:p,y:m,placement:_,strategy:s,middlewareData:w}};async function _u(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:l,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:_=!1,padding:w=0}=vs(t,e),E=j2(w),C=c[_?m==="floating"?"reference":"floating":m],b=Ml(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(C)))==null||n?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:h,rootBoundary:p,strategy:d})),x=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),T=await(o.isElement==null?void 0:o.isElement(S))?await(o.getScale==null?void 0:o.getScale(S))||{x:1,y:1}:{x:1,y:1},A=Ml(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:S,strategy:d}):x);return{top:(b.top-A.top+E.top)/T.y,bottom:(A.bottom-b.bottom+E.bottom)/T.y,left:(b.left-A.left+E.left)/T.x,right:(A.right-b.right+E.right)/T.x}}const O2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:_,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:P=!0,...C}=vs(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=yr(s),x=In(c),S=yr(c)===c,T=await(d.isRTL==null?void 0:d.isRTL(h.floating)),A=_||(S||!P?[Il(c)]:k2(c)),M=E!=="none";!_&&M&&A.push(...L2(c,P,E,T));const O=[c,...A],D=await _u(t,C),W=[];let U=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&W.push(D[b]),m){const Q=E2(s,l,T);W.push(D[Q[0]],D[Q[1]])}if(U=[...U,{placement:s,overflows:W}],!W.every(Q=>Q<=0)){var H,ee;const Q=(((H=o.flip)==null?void 0:H.index)||0)+1,Oe=O[Q];if(Oe&&(!(m==="alignment"?x!==In(Oe):!1)||U.every(R=>In(R.placement)===x?R.overflows[0]>0:!0)))return{data:{index:Q,overflows:U},reset:{placement:Oe}};let te=(ee=U.filter(de=>de.overflows[0]<=0).sort((de,R)=>de.overflows[1]-R.overflows[1])[0])==null?void 0:ee.placement;if(!te)switch(w){case"bestFit":{var V;const de=(V=U.filter(R=>{if(M){const $=In(R.placement);return $===x||$==="y"}return!0}).map(R=>[R.placement,R.overflows.filter($=>$>0).reduce(($,z)=>$+z,0)]).sort((R,$)=>R[1]-$[1])[0])==null?void 0:V[0];de&&(te=de);break}case"initialPlacement":te=c;break}if(s!==te)return{reset:{placement:te}}}return{}}}},R2=new Set(["left","top"]);async function I2(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=yr(n),c=Yo(n),d=In(n)==="y",h=R2.has(l)?-1:1,p=o&&d?-1:1,m=vs(t,e);let{mainAxis:_,crossAxis:w,alignmentAxis:E}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof E=="number"&&(w=c==="end"?E*-1:E),d?{x:w*p,y:_*h}:{x:_*h,y:w*p}}const M2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:l,middlewareData:c}=t,d=await I2(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},$2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:C=>{let{x:b,y:x}=C;return{x:b,y:x}}},...d}=vs(e,t),h={x:n,y:r},p=await _u(t,d),m=In(yr(s)),_=hw(m);let w=h[_],E=h[m];if(o){const C=_==="y"?"top":"left",b=_==="y"?"bottom":"right",x=w+p[C],S=w-p[b];w=ev(x,w,S)}if(l){const C=m==="y"?"top":"left",b=m==="y"?"bottom":"right",x=E+p[C],S=E-p[b];E=ev(x,E,S)}const P=c.fn({...t,[_]:w,[m]:E});return{...P,data:{x:P.x-n,y:P.y-r,enabled:{[_]:o,[m]:l}}}}}},D2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:l,elements:c}=t,{apply:d=()=>{},...h}=vs(e,t),p=await _u(t,h),m=yr(s),_=Yo(s),w=In(s)==="y",{width:E,height:P}=o.floating;let C,b;m==="top"||m==="bottom"?(C=m,b=_===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(b=m,C=_==="end"?"top":"bottom");const x=P-p.top-p.bottom,S=E-p.left-p.right,T=ni(P-p[C],x),A=ni(E-p[b],S),M=!t.middlewareData.shift;let O=T,D=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=x),M&&!_){const U=st(p.left,0),H=st(p.right,0),ee=st(p.top,0),V=st(p.bottom,0);w?D=E-2*(U!==0||H!==0?U+H:st(p.left,p.right)):O=P-2*(ee!==0||V!==0?ee+V:st(p.top,p.bottom))}await d({...t,availableWidth:D,availableHeight:O});const W=await l.getDimensions(c.floating);return E!==W.width||P!==W.height?{reset:{rects:!0}}:{}}}};function mw(e){const t=nn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=bn(e),o=s?e.offsetWidth:n,l=s?e.offsetHeight:r,c=Oo(n)!==o||Oo(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function zf(e){return ct(e)?e:e.contextElement}function Gi(e){const t=zf(e);if(!bn(t))return _n(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=mw(t);let l=(o?Oo(n.width):n.width)/r,c=(o?Oo(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const z2=_n(0);function gw(e){const t=Ct(e);return!Df()||!t.visualViewport?z2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function F2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ct(e)?!1:t}function ri(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=zf(e);let l=_n(1);t&&(r?ct(r)&&(l=Gi(r)):l=Gi(e));const c=F2(o,n,r)?gw(o):_n(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,p=s.width/l.x,m=s.height/l.y;if(o){const _=Ct(o),w=r&&ct(r)?Ct(r):r;let E=_,P=ph(E);for(;P&&r&&w!==E;){const C=Gi(P),b=P.getBoundingClientRect(),x=nn(P),S=b.left+(P.clientLeft+parseFloat(x.paddingLeft))*C.x,T=b.top+(P.clientTop+parseFloat(x.paddingTop))*C.y;d*=C.x,h*=C.y,p*=C.x,m*=C.y,d+=S,h+=T,E=Ct(P),P=ph(E)}}return Ml({width:p,height:m,x:d,y:h})}function wu(e,t){const n=yu(e).scrollLeft;return t?t.left+n:ri(En(e)).left+n}function vw(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-wu(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function B2(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",l=En(r),c=t?vu(t.floating):!1;if(r===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},h=_n(1);const p=_n(0),m=bn(r);if((m||!m&&!o)&&((gs(r)!=="body"||Go(l))&&(d=yu(r)),bn(r))){const w=ri(r);h=Gi(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const _=l&&!m&&!o?vw(l,d):_n(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+p.x+_.x,y:n.y*h.y-d.scrollTop*h.y+p.y+_.y}}function U2(e){return Array.from(e.getClientRects())}function H2(e){const t=En(e),n=yu(e),r=e.ownerDocument.body,s=st(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=st(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+wu(e);const c=-n.scrollTop;return nn(r).direction==="rtl"&&(l+=st(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:c}}const iv=25;function W2(e,t){const n=Ct(e),r=En(e),s=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){o=s.width,l=s.height;const p=Df();(!p||p&&t==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const h=wu(r);if(h<=0){const p=r.ownerDocument,m=p.body,_=getComputedStyle(m),w=p.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,E=Math.abs(r.clientWidth-m.clientWidth-w);E<=iv&&(o-=E)}else h<=iv&&(o+=h);return{width:o,height:l,x:c,y:d}}const Z2=new Set(["absolute","fixed"]);function V2(e,t){const n=ri(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=bn(e)?Gi(e):_n(1),l=e.clientWidth*o.x,c=e.clientHeight*o.y,d=s*o.x,h=r*o.y;return{width:l,height:c,x:d,y:h}}function sv(e,t,n){let r;if(t==="viewport")r=W2(e,n);else if(t==="document")r=H2(En(e));else if(ct(t))r=V2(t,n);else{const s=gw(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ml(r)}function yw(e,t){const n=vr(e);return n===t||!ct(n)||ss(n)?!1:nn(n).position==="fixed"||yw(n,t)}function q2(e,t){const n=t.get(e);if(n)return n;let r=Ao(e,[],!1).filter(c=>ct(c)&&gs(c)!=="body"),s=null;const o=nn(e).position==="fixed";let l=o?vr(e):e;for(;ct(l)&&!ss(l);){const c=nn(l),d=$f(l);!d&&c.position==="fixed"&&(s=null),(o?!d&&!s:!d&&c.position==="static"&&!!s&&Z2.has(s.position)||Go(l)&&!d&&yw(e,l))?r=r.filter(p=>p!==l):s=c,l=vr(l)}return t.set(e,r),r}function K2(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?vu(t)?[]:q2(t,this._c):[].concat(n),r],c=l[0],d=l.reduce((h,p)=>{const m=sv(t,p,s);return h.top=st(m.top,h.top),h.right=ni(m.right,h.right),h.bottom=ni(m.bottom,h.bottom),h.left=st(m.left,h.left),h},sv(t,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function G2(e){const{width:t,height:n}=mw(e);return{width:t,height:n}}function Y2(e,t,n){const r=bn(t),s=En(t),o=n==="fixed",l=ri(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const d=_n(0);function h(){d.x=wu(s)}if(r||!r&&!o)if((gs(t)!=="body"||Go(s))&&(c=yu(t)),r){const w=ri(t,!0,o,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else s&&h();o&&!r&&s&&h();const p=s&&!r&&!o?vw(s,c):_n(0),m=l.left+c.scrollLeft-d.x-p.x,_=l.top+c.scrollTop-d.y-p.y;return{x:m,y:_,width:l.width,height:l.height}}function Hc(e){return nn(e).position==="static"}function ov(e,t){if(!bn(e)||nn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return En(e)===n&&(n=n.ownerDocument.body),n}function _w(e,t){const n=Ct(e);if(vu(e))return n;if(!bn(e)){let s=vr(e);for(;s&&!ss(s);){if(ct(s)&&!Hc(s))return s;s=vr(s)}return n}let r=ov(e,t);for(;r&&f2(r)&&Hc(r);)r=ov(r,t);return r&&ss(r)&&Hc(r)&&!$f(r)?n:r||y2(e)||n}const J2=async function(e){const t=this.getOffsetParent||_w,n=this.getDimensions,r=await n(e.floating);return{reference:Y2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Q2(e){return nn(e).direction==="rtl"}const X2={convertOffsetParentRelativeRectToViewportRelativeRect:B2,getDocumentElement:En,getClippingRect:K2,getOffsetParent:_w,getElementRects:J2,getClientRects:U2,getDimensions:G2,getScale:Gi,isElement:ct,isRTL:Q2};function ww(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eN(e,t){let n=null,r;const s=En(e);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=e.getBoundingClientRect(),{left:p,top:m,width:_,height:w}=h;if(c||t(),!_||!w)return;const E=Ba(m),P=Ba(s.clientWidth-(p+_)),C=Ba(s.clientHeight-(m+w)),b=Ba(p),S={rootMargin:-E+"px "+-P+"px "+-C+"px "+-b+"px",threshold:st(0,ni(1,d))||1};let T=!0;function A(M){const O=M[0].intersectionRatio;if(O!==d){if(!T)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!ww(h,e.getBoundingClientRect())&&l(),T=!1}try{n=new IntersectionObserver(A,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,S)}n.observe(e)}return l(!0),o}function tN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=zf(e),p=s||o?[...h?Ao(h):[],...Ao(t)]:[];p.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const m=h&&c?eN(h,n):null;let _=-1,w=null;l&&(w=new ResizeObserver(b=>{let[x]=b;x&&x.target===h&&w&&(w.unobserve(t),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var S;(S=w)==null||S.observe(t)})),n()}),h&&!d&&w.observe(h),w.observe(t));let E,P=d?ri(e):null;d&&C();function C(){const b=ri(e);P&&!ww(P,b)&&n(),P=b,E=requestAnimationFrame(C)}return n(),()=>{var b;p.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),m==null||m(),(b=w)==null||b.disconnect(),w=null,d&&cancelAnimationFrame(E)}}const Wc=_u,nN=M2,rN=$2,iN=O2,sN=D2,oN=(e,t,n)=>{const r=new Map,s={platform:X2,...n},o={...s.platform,_c:r};return A2(e,t,{...s,platform:o})};var aN=typeof document<"u",lN=function(){},il=aN?y.useLayoutEffect:lN;function $l(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!$l(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!$l(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function xw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function av(e,t){const n=xw(e);return Math.round(t*n)/n}function Zc(e){const t=y.useRef(e);return il(()=>{t.current=e}),t}function uN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[p,m]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[_,w]=y.useState(r);$l(_,r)||w(r);const[E,P]=y.useState(null),[C,b]=y.useState(null),x=y.useCallback(R=>{R!==M.current&&(M.current=R,P(R))},[]),S=y.useCallback(R=>{R!==O.current&&(O.current=R,b(R))},[]),T=o||E,A=l||C,M=y.useRef(null),O=y.useRef(null),D=y.useRef(p),W=d!=null,U=Zc(d),H=Zc(s),ee=Zc(h),V=y.useCallback(()=>{if(!M.current||!O.current)return;const R={placement:t,strategy:n,middleware:_};H.current&&(R.platform=H.current),oN(M.current,O.current,R).then($=>{const z={...$,isPositioned:ee.current!==!1};Q.current&&!$l(D.current,z)&&(D.current=z,wn.flushSync(()=>{m(z)}))})},[_,t,n,H,ee]);il(()=>{h===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(R=>({...R,isPositioned:!1})))},[h]);const Q=y.useRef(!1);il(()=>(Q.current=!0,()=>{Q.current=!1}),[]),il(()=>{if(T&&(M.current=T),A&&(O.current=A),T&&A){if(U.current)return U.current(T,A,V);V()}},[T,A,V,U,W]);const Oe=y.useMemo(()=>({reference:M,floating:O,setReference:x,setFloating:S}),[x,S]),te=y.useMemo(()=>({reference:T,floating:A}),[T,A]),de=y.useMemo(()=>{const R={position:n,left:0,top:0};if(!te.floating)return R;const $=av(te.floating,p.x),z=av(te.floating,p.y);return c?{...R,transform:"translate("+$+"px, "+z+"px)",...xw(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:z}},[n,c,te.floating,p.x,p.y]);return y.useMemo(()=>({...p,update:V,refs:Oe,elements:te,floatingStyles:de}),[p,V,Oe,te,de])}const bw=(e,t)=>({...nN(e),options:[e,t]}),cN=(e,t)=>({...rN(e),options:[e,t]}),dN=(e,t)=>({...iN(e),options:[e,t]}),hN=(e,t)=>({...sN(e),options:[e,t]}),Sw={...Kc},fN=Sw.useInsertionEffect,pN=fN||(e=>e());function Ew(e){const t=y.useRef(()=>{});return pN(()=>{t.current=e}),y.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}var gh=typeof document<"u"?y.useLayoutEffect:y.useEffect;let lv=!1,mN=0;const uv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+mN++;function gN(){const[e,t]=y.useState(()=>lv?uv():void 0);return gh(()=>{e==null&&t(uv())},[]),y.useEffect(()=>{lv=!0},[]),e}const vN=Sw.useId,yN=vN||gN;function _N(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(s=>s(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(s=>s!==n))||[])}}}const wN=y.createContext(null),xN=y.createContext(null),bN=()=>{var e;return((e=y.useContext(wN))==null?void 0:e.id)||null},SN=()=>y.useContext(xN),EN="data-floating-ui-focusable";function kN(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=yN(),o=y.useRef({}),[l]=y.useState(()=>_N()),c=bN()!=null,[d,h]=y.useState(r.reference),p=Ew((w,E,P)=>{o.current.openEvent=w?E:void 0,l.emit("openchange",{open:w,event:E,reason:P,nested:c}),n==null||n(w,E,P)}),m=y.useMemo(()=>({setPositionReference:h}),[]),_=y.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return y.useMemo(()=>({dataRef:o,open:t,onOpenChange:p,elements:_,events:l,floatingId:s,refs:m}),[t,p,_,l,s,m])}function PN(e){e===void 0&&(e={});const{nodeId:t}=e,n=kN({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[o,l]=y.useState(null),[c,d]=y.useState(null),p=(s==null?void 0:s.domReference)||o,m=y.useRef(null),_=SN();gh(()=>{p&&(m.current=p)},[p]);const w=uN({...e,elements:{...s,...c&&{reference:c}}}),E=y.useCallback(S=>{const T=ct(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;d(T),w.refs.setReference(T)},[w.refs]),P=y.useCallback(S=>{(ct(S)||S===null)&&(m.current=S,l(S)),(ct(w.refs.reference.current)||w.refs.reference.current===null||S!==null&&!ct(S))&&w.refs.setReference(S)},[w.refs]),C=y.useMemo(()=>({...w.refs,setReference:P,setPositionReference:E,domReference:m}),[w.refs,P,E]),b=y.useMemo(()=>({...w.elements,domReference:p}),[w.elements,p]),x=y.useMemo(()=>({...w,...r,refs:C,elements:b,nodeId:t}),[w,C,b,t,r]);return gh(()=>{r.dataRef.current.floatingContext=x;const S=_==null?void 0:_.nodesRef.current.find(T=>T.id===t);S&&(S.context=x)}),y.useMemo(()=>({...w,context:x,refs:C,elements:b}),[w,C,b,x])}const cv="active",dv="selected";function Vc(e,t,n){const r=new Map,s=n==="item";let o=e;if(s&&e){const{[cv]:l,[dv]:c,...d}=e;o=d}return{...n==="floating"&&{tabIndex:-1,[EN]:""},...o,...t.map(l=>{const c=l?l[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((l,c)=>(c&&Object.entries(c).forEach(d=>{let[h,p]=d;if(!(s&&[cv,dv].includes(h)))if(h.indexOf("on")===0){if(r.has(h)||r.set(h,[]),typeof p=="function"){var m;(m=r.get(h))==null||m.push(p),l[h]=function(){for(var _,w=arguments.length,E=new Array(w),P=0;P<w;P++)E[P]=arguments[P];return(_=r.get(h))==null?void 0:_.map(C=>C(...E)).find(C=>C!==void 0)}}}else l[h]=p}),l),{})}}function CN(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),r=e.map(c=>c==null?void 0:c.item),s=y.useCallback(c=>Vc(c,e,"reference"),t),o=y.useCallback(c=>Vc(c,e,"floating"),n),l=y.useCallback(c=>Vc(c,e,"item"),r);return y.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:l}),[s,o,l])}function hv(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const TN=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:s,offset:o=0,index:l=0,minItemsVisible:c=4,referenceOverflowThreshold:d=0,scrollRef:h,...p}=vs(e,t),{rects:m,elements:{floating:_}}=t,w=n.current[l],E=(h==null?void 0:h.current)||_,P=_.clientTop||E.clientTop,C=_.clientTop!==0,b=E.clientTop!==0,x=_===E;if(!w)return{};const S={...t,...await bw(-w.offsetTop-_.clientTop-m.reference.height/2-w.offsetHeight/2-o).fn(t)},T=await Wc(hv(S,E.scrollHeight+P+_.clientTop),p),A=await Wc(S,{...p,elementContext:"reference"}),M=st(0,T.top),O=S.y+M,U=(E.scrollHeight>E.clientHeight?H=>H:Oo)(st(0,E.scrollHeight+(C&&x||b?P*2:0)-M-st(0,T.bottom)));if(E.style.maxHeight=U+"px",E.scrollTop=M,s){const H=E.offsetHeight<w.offsetHeight*ni(c,n.current.length)-1||A.top>=-d||A.bottom>=-d;wn.flushSync(()=>s(H))}return r&&(r.current=await Wc(hv({...S,y:O},E.offsetHeight+P+_.clientTop),p)),{y:O}}});function LN(e,t){const{open:n,elements:r}=e,{enabled:s=!0,overflowRef:o,scrollRef:l,onChange:c}=t,d=Ew(c),h=y.useRef(!1),p=y.useRef(null),m=y.useRef(null);y.useEffect(()=>{if(!s)return;function w(P){if(P.ctrlKey||!E||o.current==null)return;const C=P.deltaY,b=o.current.top>=-.5,x=o.current.bottom>=-.5,S=E.scrollHeight-E.clientHeight,T=C<0?-1:1,A=C<0?"max":"min";E.scrollHeight<=E.clientHeight||(!b&&C>0||!x&&C<0?(P.preventDefault(),wn.flushSync(()=>{d(M=>M+Math[A](C,S*T))})):/firefox/i.test(w2())&&(E.scrollTop+=C))}const E=(l==null?void 0:l.current)||r.floating;if(n&&E)return E.addEventListener("wheel",w),requestAnimationFrame(()=>{p.current=E.scrollTop,o.current!=null&&(m.current={...o.current})}),()=>{p.current=null,m.current=null,E.removeEventListener("wheel",w)}},[s,n,r.floating,o,l,d]);const _=y.useMemo(()=>({onKeyDown(){h.current=!0},onWheel(){h.current=!1},onPointerMove(){h.current=!1},onScroll(){const w=(l==null?void 0:l.current)||r.floating;if(!(!o.current||!w||!h.current)){if(p.current!==null){const E=w.scrollTop-p.current;(o.current.bottom<-.5&&E<-1||o.current.top<-.5&&E>1)&&wn.flushSync(()=>d(P=>P+E))}requestAnimationFrame(()=>{p.current=w.scrollTop})}}}),[r.floating,d,o,l]);return y.useMemo(()=>s?{floating:_}:{},[s,_])}let ys=y.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});ys.displayName="FloatingContext";let Ff=y.createContext(null);Ff.displayName="PlacementContext";function NN(e){return y.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function jN(){return y.useContext(ys).setReference}function AN(){return y.useContext(ys).getReferenceProps}function ON(){let{getFloatingProps:e,slot:t}=y.useContext(ys);return y.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function RN(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=y.useContext(Ff),n=y.useMemo(()=>e,[JSON.stringify(e,(s,o)=>{var l;return(l=o==null?void 0:o.outerHTML)!=null?l:o})]);be(()=>{t==null||t(n??null)},[t,n]);let r=y.useContext(ys);return y.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let fv=4;function IN({children:e,enabled:t=!0}){let[n,r]=y.useState(null),[s,o]=y.useState(0),l=y.useRef(null),[c,d]=y.useState(null);MN(c);let h=t&&n!==null&&c!==null,{to:p="bottom",gap:m=0,offset:_=0,padding:w=0,inner:E}=$N(n,c),[P,C="center"]=p.split(" ");be(()=>{h&&o(0)},[h]);let{refs:b,floatingStyles:x,context:S}=PN({open:h,placement:P==="selection"?C==="center"?"bottom":`bottom-${C}`:C==="center"?`${P}`:`${P}-${C}`,strategy:"absolute",transform:!1,middleware:[bw({mainAxis:P==="selection"?0:m,crossAxis:_}),cN({padding:w}),P!=="selection"&&dN({padding:w}),P==="selection"&&E?TN({...E,padding:w,overflowRef:l,offset:s,minItemsVisible:fv,referenceOverflowThreshold:w,onFallbackChange(H){var ee,V;if(!H)return;let Q=S.elements.floating;if(!Q)return;let Oe=parseFloat(getComputedStyle(Q).scrollPaddingBottom)||0,te=Math.min(fv,Q.childElementCount),de=0,R=0;for(let $ of(V=(ee=S.elements.floating)==null?void 0:ee.childNodes)!=null?V:[])if(Zn($)){let z=$.offsetTop,K=z+$.clientHeight+Oe,X=Q.scrollTop,oe=X+Q.clientHeight;if(z>=X&&K<=oe)te--;else{R=Math.max(0,Math.min(K,oe)-Math.max(z,X)),de=$.clientHeight;break}}te>=1&&o($=>{let z=de*te-R+Oe;return $>=z?$:z})}}):null,hN({padding:w,apply({availableWidth:H,availableHeight:ee,elements:V}){Object.assign(V.floating.style,{overflow:"auto",maxWidth:`${H}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${ee}px)`})}})].filter(Boolean),whileElementsMounted:tN}),[T=P,A=C]=S.placement.split("-");P==="selection"&&(T="selection");let M=y.useMemo(()=>({anchor:[T,A].filter(Boolean).join(" ")}),[T,A]),O=LN(S,{overflowRef:l,onChange:o}),{getReferenceProps:D,getFloatingProps:W}=CN([O]),U=le(H=>{d(H),b.setFloating(H)});return y.createElement(Ff.Provider,{value:r},y.createElement(ys.Provider,{value:{setFloating:U,setReference:b.setReference,styles:x,getReferenceProps:D,getFloatingProps:W,slot:M}},e))}function MN(e){be(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let s=parseInt(n);isNaN(s)||r!==s&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function $N(e,t){var n,r,s;let o=qc((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=qc((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),c=qc((s=e==null?void 0:e.padding)!=null?s:"var(--anchor-padding, 0)",t);return{...e,gap:o,offset:l,padding:c}}function qc(e,t,n=void 0){let r=qo(),s=le((d,h)=>{if(d==null)return[n,null];if(typeof d=="number")return[d,null];if(typeof d=="string"){if(!h)return[n,null];let p=pv(d,h);return[p,m=>{let _=kw(d);{let w=_.map(E=>window.getComputedStyle(h).getPropertyValue(E));r.requestAnimationFrame(function E(){r.nextFrame(E);let P=!1;for(let[b,x]of _.entries()){let S=window.getComputedStyle(h).getPropertyValue(x);if(w[b]!==S){w[b]=S,P=!0;break}}if(!P)return;let C=pv(d,h);p!==C&&(m(C),p=C)})}return r.dispose}]}return[n,null]}),o=y.useMemo(()=>s(e,t)[0],[e,t]),[l=o,c]=y.useState();return be(()=>{let[d,h]=s(e,t);if(c(d),!!h)return h(c)},[e,t]),l}function kw(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),s=t[1].slice(n+1).trim();return s?[r,...kw(s)]:[r]}return[]}function pv(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let Bf=y.createContext(null);Bf.displayName="OpenClosedContext";var Qt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Qt||{});function Uf(){return y.useContext(Bf)}function Pw({value:e,children:t}){return ge.createElement(Bf.Provider,{value:e},t)}function DN(e){throw new Error("Unexpected object: "+e)}var ze=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ze||{});function Ua(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),s=r??-1;switch(e.focus){case 0:{for(let o=0;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 1:{s===-1&&(s=n.length);for(let o=s-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 2:{for(let o=s+1;o<n.length;++o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 3:{for(let o=n.length-1;o>=0;--o)if(!t.resolveDisabled(n[o],o,n))return o;return r}case 4:{for(let o=0;o<n.length;++o)if(t.resolveId(n[o],o,n)===e.id)return o;return r}case 5:return null;default:DN(e)}}var Cw=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Cw||{});function Tw(e){let t=le(e),n=y.useRef(!1);y.useEffect(()=>(n.current=!1,()=>{n.current=!0,F0(()=>{n.current&&t()})}),[t])}function zN(){let e=typeof document>"u";return"useSyncExternalStore"in Kc?(t=>t.useSyncExternalStore)(Kc)(()=>()=>{},()=>!1,()=>!e):!1}function Hf(){let e=zN(),[t,n]=y.useState(yn.isHandoffComplete);return t&&yn.isHandoffComplete===!1&&n(!1),y.useEffect(()=>{t!==!0&&n(!0)},[t]),y.useEffect(()=>yn.handoff(),[]),e?!1:t}let FN=y.createContext(!1);function BN(){return y.useContext(FN)}function UN(e){let t=BN(),n=y.useContext(Nw),[r,s]=y.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(yn.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return y.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),y.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let Lw=y.Fragment,HN=pt(function(e,t){let{ownerDocument:n=null,...r}=e,s=y.useRef(null),o=rn(rL(w=>{s.current=w}),t),l=fh(s),c=n??l,d=UN(c),[h]=y.useState(()=>{var w;return yn.isServer?null:(w=c==null?void 0:c.createElement("div"))!=null?w:null}),p=y.useContext(qN),m=Hf();be(()=>{!d||!h||d.contains(h)||(h.setAttribute("data-headlessui-portal",""),d.appendChild(h))},[d,h]),be(()=>{if(h&&p)return p.register(h)},[p,h]),Tw(()=>{var w;!d||!h||(jf(h)&&d.contains(h)&&d.removeChild(h),d.childNodes.length<=0&&((w=d.parentElement)==null||w.removeChild(d)))});let _=St();return m?!d||!h?null:wn.createPortal(_({ourProps:{ref:o},theirProps:r,slot:{},defaultTag:Lw,name:"Portal"}),h):null});function WN(e,t){let n=rn(t),{enabled:r=!0,ownerDocument:s,...o}=e,l=St();return r?ge.createElement(HN,{...o,ownerDocument:s,ref:n}):l({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:Lw,name:"Portal"})}let ZN=y.Fragment,Nw=y.createContext(null);function VN(e,t){let{target:n,...r}=e,s={ref:rn(t)},o=St();return ge.createElement(Nw.Provider,{value:n},o({ourProps:s,theirProps:r,defaultTag:ZN,name:"Popover.Group"}))}let qN=y.createContext(null),KN=pt(WN),GN=pt(VN),YN=Object.assign(KN,{Group:GN});function JN(){let e=y.useRef(!1);return be(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function jw(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:Ow)!==y.Fragment||ge.Children.count(e.children)===1}let xu=y.createContext(null);xu.displayName="TransitionContext";var QN=(e=>(e.Visible="visible",e.Hidden="hidden",e))(QN||{});function XN(){let e=y.useContext(xu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function ej(){let e=y.useContext(bu);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let bu=y.createContext(null);bu.displayName="NestingContext";function Su(e){return"children"in e?Su(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Aw(e,t){let n=ms(e),r=y.useRef([]),s=JN(),o=qo(),l=le((w,E=or.Hidden)=>{let P=r.current.findIndex(({el:C})=>C===w);P!==-1&&(Er(E,{[or.Unmount](){r.current.splice(P,1)},[or.Hidden](){r.current[P].state="hidden"}}),o.microTask(()=>{var C;!Su(r)&&s.current&&((C=n.current)==null||C.call(n))}))}),c=le(w=>{let E=r.current.find(({el:P})=>P===w);return E?E.state!=="visible"&&(E.state="visible"):r.current.push({el:w,state:"visible"}),()=>l(w,or.Unmount)}),d=y.useRef([]),h=y.useRef(Promise.resolve()),p=y.useRef({enter:[],leave:[]}),m=le((w,E,P)=>{d.current.splice(0),t&&(t.chains.current[E]=t.chains.current[E].filter(([C])=>C!==w)),t==null||t.chains.current[E].push([w,new Promise(C=>{d.current.push(C)})]),t==null||t.chains.current[E].push([w,new Promise(C=>{Promise.all(p.current[E].map(([b,x])=>x)).then(()=>C())})]),E==="enter"?h.current=h.current.then(()=>t==null?void 0:t.wait.current).then(()=>P(E)):P(E)}),_=le((w,E,P)=>{Promise.all(p.current[E].splice(0).map(([C,b])=>b)).then(()=>{var C;(C=d.current.shift())==null||C()}).then(()=>P(E))});return y.useMemo(()=>({children:r,register:c,unregister:l,onStart:m,onStop:_,wait:h,chains:p}),[c,l,r,m,_,p,h])}let Ow=y.Fragment,Rw=Rl.RenderStrategy;function tj(e,t){var n,r;let{transition:s=!0,beforeEnter:o,afterEnter:l,beforeLeave:c,afterLeave:d,enter:h,enterFrom:p,enterTo:m,entered:_,leave:w,leaveFrom:E,leaveTo:P,...C}=e,[b,x]=y.useState(null),S=y.useRef(null),T=jw(e),A=rn(...T?[S,t,x]:t===null?[]:[t]),M=(n=C.unmount)==null||n?or.Unmount:or.Hidden,{show:O,appear:D,initial:W}=XN(),[U,H]=y.useState(O?"visible":"hidden"),ee=ej(),{register:V,unregister:Q}=ee;be(()=>V(S),[V,S]),be(()=>{if(M===or.Hidden&&S.current){if(O&&U!=="visible"){H("visible");return}return Er(U,{hidden:()=>Q(S),visible:()=>V(S)})}},[U,S,V,Q,O,M]);let Oe=Hf();be(()=>{if(T&&Oe&&U==="visible"&&S.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[S,U,Oe,T]);let te=W&&!D,de=D&&O&&W,R=y.useRef(!1),$=Aw(()=>{R.current||(H("hidden"),Q(S))},ee),z=le(Re=>{R.current=!0;let mt=Re?"enter":"leave";$.onStart(S,mt,Ht=>{Ht==="enter"?o==null||o():Ht==="leave"&&(c==null||c())})}),K=le(Re=>{let mt=Re?"enter":"leave";R.current=!1,$.onStop(S,mt,Ht=>{Ht==="enter"?l==null||l():Ht==="leave"&&(d==null||d())}),mt==="leave"&&!Su($)&&(H("hidden"),Q(S))});y.useEffect(()=>{T&&s||(z(O),K(O))},[O,T,s]);let X=!(!s||!T||!Oe||te),[,oe]=uw(X,b,O,{start:z,end:K}),fe=zr({ref:A,className:((r=uh(C.className,de&&h,de&&p,oe.enter&&h,oe.enter&&oe.closed&&p,oe.enter&&!oe.closed&&m,oe.leave&&w,oe.leave&&!oe.closed&&E,oe.leave&&oe.closed&&P,!oe.transition&&O&&_))==null?void 0:r.trim())||void 0,...lw(oe)}),ie=0;U==="visible"&&(ie|=Qt.Open),U==="hidden"&&(ie|=Qt.Closed),O&&U==="hidden"&&(ie|=Qt.Opening),!O&&U==="visible"&&(ie|=Qt.Closing);let J=St();return ge.createElement(bu.Provider,{value:$},ge.createElement(Pw,{value:ie},J({ourProps:fe,theirProps:C,defaultTag:Ow,features:Rw,visible:U==="visible",name:"Transition.Child"})))}function nj(e,t){let{show:n,appear:r=!1,unmount:s=!0,...o}=e,l=y.useRef(null),c=jw(e),d=rn(...c?[l,t]:t===null?[]:[t]);Hf();let h=Uf();if(n===void 0&&h!==null&&(n=(h&Qt.Open)===Qt.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[p,m]=y.useState(n?"visible":"hidden"),_=Aw(()=>{n||m("hidden")}),[w,E]=y.useState(!0),P=y.useRef([n]);be(()=>{w!==!1&&P.current[P.current.length-1]!==n&&(P.current.push(n),E(!1))},[P,n]);let C=y.useMemo(()=>({show:n,appear:r,initial:w}),[n,r,w]);be(()=>{n?m("visible"):!Su(_)&&l.current!==null&&m("hidden")},[n,_]);let b={unmount:s},x=le(()=>{var A;w&&E(!1),(A=e.beforeEnter)==null||A.call(e)}),S=le(()=>{var A;w&&E(!1),(A=e.beforeLeave)==null||A.call(e)}),T=St();return ge.createElement(bu.Provider,{value:_},ge.createElement(xu.Provider,{value:C},T({ourProps:{...b,as:y.Fragment,children:ge.createElement(Iw,{ref:d,...b,...o,beforeEnter:x,beforeLeave:S})},theirProps:{},defaultTag:y.Fragment,features:Rw,visible:p==="visible",name:"Transition"})))}function rj(e,t){let n=y.useContext(xu)!==null,r=Uf()!==null;return ge.createElement(ge.Fragment,null,!n&&r?ge.createElement(vh,{ref:t,...e}):ge.createElement(Iw,{ref:t,...e}))}let vh=pt(nj),Iw=pt(tj),ij=pt(rj),sj=Object.assign(vh,{Child:ij,Root:vh});function oj(e,t){let n=y.useRef({left:0,top:0});if(be(()=>{if(!t)return;let s=t.getBoundingClientRect();s&&(n.current=s)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let mv=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function gv(e){var t,n;let r=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!Zn(s))return r;let o=!1;for(let c of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),o=!0;let l=o?(n=s.innerText)!=null?n:"":r;return mv.test(l)&&(l=l.replace(mv,"")),l}function aj(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(s=>{let o=document.getElementById(s);if(o){let l=o.getAttribute("aria-label");return typeof l=="string"?l.trim():gv(o).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return gv(e).trim()}function lj(e){let t=y.useRef(""),n=y.useRef("");return le(()=>{let r=e.current;if(!r)return"";let s=r.innerText;if(t.current===s)return n.current;let o=aj(r).trim().toLowerCase();return t.current=s,n.current=o,o})}var uj=Object.defineProperty,cj=(e,t,n)=>t in e?uj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vv=(e,t,n)=>(cj(e,typeof t!="symbol"?t+"":t,n),n),Qe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Qe||{}),Dl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Dl||{}),ye=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e))(ye||{});function yv(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=ow(t(e.items.slice()),o=>o.dataRef.current.domRef.current),s=n?r.indexOf(n):null;return s===-1&&(s=null),{items:r,activeItemIndex:s}}let dj={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,pendingFocus:{focus:ze.Nothing},menuState:1}},0(e,t){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0}},2:(e,t)=>{var n,r,s,o,l;if(e.menuState===1)return e;let c={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===ze.Nothing)return{...c,activeItemIndex:null};if(t.focus===ze.Specific)return{...c,activeItemIndex:e.items.findIndex(p=>p.id===t.id)};if(t.focus===ze.Previous){let p=e.activeItemIndex;if(p!==null){let m=e.items[p].dataRef.current.domRef,_=Ua(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.current.disabled});if(_!==null){let w=e.items[_].dataRef.current.domRef;if(((r=m.current)==null?void 0:r.previousElementSibling)===w.current||((s=w.current)==null?void 0:s.previousElementSibling)===null)return{...c,activeItemIndex:_}}}}else if(t.focus===ze.Next){let p=e.activeItemIndex;if(p!==null){let m=e.items[p].dataRef.current.domRef,_=Ua(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.current.disabled});if(_!==null){let w=e.items[_].dataRef.current.domRef;if(((o=m.current)==null?void 0:o.nextElementSibling)===w.current||((l=w.current)==null?void 0:l.nextElementSibling)===null)return{...c,activeItemIndex:_}}}}let d=yv(e),h=Ua(t,{resolveItems:()=>d.items,resolveActiveIndex:()=>d.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});return{...c,...d,activeItemIndex:h}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(l=>{var c;return((c=l.dataRef.current.textValue)==null?void 0:c.startsWith(r))&&!l.dataRef.current.disabled}),o=s?e.items.indexOf(s):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=e.items.concat(t.items.map(s=>s)),r=e.activeItemIndex;return e.pendingFocus.focus!==ze.Nothing&&(r=Ua(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled})),{...e,items:n,activeItemIndex:r,pendingFocus:{focus:ze.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.items,r=[],s=new Set(t.items);for(let[o,l]of n.entries())if(s.has(l.id)&&(r.push(o),s.delete(l.id),s.size===0))break;if(r.length>0){n=n.slice();for(let o of r.reverse())n.splice(o,1)}return{...e,items:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...yv(e),pendingShouldSort:!1}:e};class Wf extends J0{constructor(t){super(t),vv(this,"actions",{registerItem:Hg(()=>{let n=[],r=new Set;return[(s,o)=>{r.has(o)||(r.add(o),n.push({id:s,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:n.splice(0)}))]}),unregisterItem:Hg(()=>{let n=[];return[r=>n.push(r),()=>this.send({type:6,items:n.splice(0)})]})}),vv(this,"selectors",{activeDescendantId(n){var r;let s=n.activeItemIndex,o=n.items;return s===null||(r=o[s])==null?void 0:r.id},isActive(n,r){var s;let o=n.activeItemIndex,l=n.items;return o!==null?((s=l[o])==null?void 0:s.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.menuState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=Rf.get(null);this.disposables.add(r.on(X0.Push,s=>{!r.selectors.isTop(s,n)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:t,__demoMode:n=!1}){return new Wf({id:t,__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:ze.Nothing}})}reduce(t,n){return Er(n.type,dj,t,n)}}const Mw=y.createContext(null);function Zf(e){let t=y.useContext(Mw);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$w),n}return t}function $w({id:e,__demoMode:t=!1}){let n=y.useMemo(()=>Wf.new({id:e,__demoMode:t}),[]);return Tw(()=>n.dispose()),n}let hj=y.Fragment;function fj(e,t){let n=y.useId(),{__demoMode:r=!1,...s}=e,o=$w({id:n,__demoMode:r}),[l,c,d]=mn(o,C=>[C.menuState,C.itemsElement,C.buttonElement]),h=rn(t),p=Rf.get(null),m=mn(p,y.useCallback(C=>p.selectors.isTop(C,n),[p,n]));WL(m,[d,c],(C,b)=>{var x;o.send({type:ye.CloseMenu}),Mf(b,If.Loose)||(C.preventDefault(),(x=o.state.buttonElement)==null||x.focus())});let _=le(()=>{o.send({type:ye.CloseMenu})}),w=y.useMemo(()=>({open:l===Qe.Open,close:_}),[l,_]),E={ref:h},P=St();return ge.createElement(IN,null,ge.createElement(Mw.Provider,{value:o},ge.createElement(Pw,{value:Er(l,{[Qe.Open]:Qt.Open,[Qe.Closed]:Qt.Closed})},P({ourProps:E,theirProps:s,slot:w,defaultTag:hj,name:"Menu"}))))}let pj="button";function mj(e,t){let n=Zf("Menu.Button"),r=y.useId(),{id:s=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:l=!1,...c}=e,d=y.useRef(null),h=AN(),p=rn(t,d,jN(),le(V=>n.send({type:ye.SetButtonElement,element:V}))),m=le(V=>{switch(V.key){case Je.Space:case Je.Enter:case Je.ArrowDown:V.preventDefault(),V.stopPropagation(),n.send({type:ye.OpenMenu,focus:{focus:ze.First}});break;case Je.ArrowUp:V.preventDefault(),V.stopPropagation(),n.send({type:ye.OpenMenu,focus:{focus:ze.Last}});break}}),_=le(V=>{switch(V.key){case Je.Space:V.preventDefault();break}}),[w,E,P]=mn(n,V=>[V.menuState,V.buttonElement,V.itemsElement]),C=w===Qe.Open;qL(C,{trigger:E,action:y.useCallback(V=>{if(E!=null&&E.contains(V.target))return Fa.Ignore;let Q=V.target.closest('[role="menuitem"]:not([data-disabled])');return Zn(Q)?Fa.Select(Q):P!=null&&P.contains(V.target)?Fa.Ignore:Fa.Close},[E,P]),close:y.useCallback(()=>n.send({type:ye.CloseMenu}),[]),select:y.useCallback(V=>V.click(),[])});let b=le(V=>{var Q;if(V.button===Cw.Left){if(tL(V.currentTarget))return V.preventDefault();o||(w===Qe.Open?(wn.flushSync(()=>n.send({type:ye.CloseMenu})),(Q=d.current)==null||Q.focus({preventScroll:!0})):(V.preventDefault(),n.send({type:ye.OpenMenu,focus:{focus:ze.Nothing},trigger:Dl.Pointer})))}}),x=y.useRef(null),S=le(V=>{x.current=V.pointerType,V.pointerType==="mouse"&&b(V)}),T=le(V=>{x.current!=="mouse"&&b(V)}),{isFocusVisible:A,focusProps:M}=$T({autoFocus:l}),{isHovered:O,hoverProps:D}=MT({isDisabled:o}),{pressed:W,pressProps:U}=HT({disabled:o}),H=y.useMemo(()=>({open:w===Qe.Open,active:W||w===Qe.Open,disabled:o,hover:O,focus:A,autofocus:l}),[w,O,A,W,o,l]),ee=H0(h(),{ref:p,id:s,type:KL(e,d.current),"aria-haspopup":"menu","aria-controls":P==null?void 0:P.id,"aria-expanded":w===Qe.Open,disabled:o||void 0,autoFocus:l,onKeyDown:m,onKeyUp:_,onPointerDown:S,onClick:T},M,D,U);return St()({ourProps:ee,theirProps:c,slot:H,defaultTag:pj,name:"Menu.Button"})}let gj="div",vj=Rl.RenderStrategy|Rl.Static;function yj(e,t){let n=y.useId(),{id:r=`headlessui-menu-items-${n}`,anchor:s,portal:o=!1,modal:l=!0,transition:c=!1,...d}=e,h=NN(s),p=Zf("Menu.Items"),[m,_]=RN(h),w=ON(),[E,P]=y.useState(null),C=rn(t,h?m:null,le($=>p.send({type:ye.SetItemsElement,element:$})),P),[b,x]=mn(p,$=>[$.menuState,$.buttonElement]),S=fh(x),T=fh(E);h&&(o=!0);let A=Uf(),[M,O]=uw(c,E,A!==null?(A&Qt.Open)===Qt.Open:b===Qe.Open);jL(M,x,()=>{p.send({type:ye.CloseMenu})});let D=mn(p,$=>$.__demoMode),W=D?!1:l&&b===Qe.Open;n2(W,T);let U=D?!1:l&&b===Qe.Open;NL(U,{allowed:y.useCallback(()=>[x,E],[x,E])});let H=b!==Qe.Open,ee=oj(H,x)?!1:M;y.useEffect(()=>{let $=E;$&&b===Qe.Open&&$!==(T==null?void 0:T.activeElement)&&$.focus({preventScroll:!0})},[b,E,T]),c2(b===Qe.Open,{container:E,accept($){return $.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:$.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk($){$.setAttribute("role","none")}});let V=qo(),Q=le($=>{var z,K,X;switch(V.dispose(),$.key){case Je.Space:if(p.state.searchQuery!=="")return $.preventDefault(),$.stopPropagation(),p.send({type:ye.Search,value:$.key});case Je.Enter:if($.preventDefault(),$.stopPropagation(),p.state.activeItemIndex!==null){let{dataRef:oe}=p.state.items[p.state.activeItemIndex];(K=(z=oe.current)==null?void 0:z.domRef.current)==null||K.click()}p.send({type:ye.CloseMenu}),sw(p.state.buttonElement);break;case Je.ArrowDown:return $.preventDefault(),$.stopPropagation(),p.send({type:ye.GoToItem,focus:ze.Next});case Je.ArrowUp:return $.preventDefault(),$.stopPropagation(),p.send({type:ye.GoToItem,focus:ze.Previous});case Je.Home:case Je.PageUp:return $.preventDefault(),$.stopPropagation(),p.send({type:ye.GoToItem,focus:ze.First});case Je.End:case Je.PageDown:return $.preventDefault(),$.stopPropagation(),p.send({type:ye.GoToItem,focus:ze.Last});case Je.Escape:$.preventDefault(),$.stopPropagation(),wn.flushSync(()=>p.send({type:ye.CloseMenu})),(X=p.state.buttonElement)==null||X.focus({preventScroll:!0});break;case Je.Tab:$.preventDefault(),$.stopPropagation(),wn.flushSync(()=>p.send({type:ye.CloseMenu})),FL(p.state.buttonElement,$.shiftKey?hh.Previous:hh.Next);break;default:$.key.length===1&&(p.send({type:ye.Search,value:$.key}),V.setTimeout(()=>p.send({type:ye.ClearSearch}),350));break}}),Oe=le($=>{switch($.key){case Je.Space:$.preventDefault();break}}),te=y.useMemo(()=>({open:b===Qe.Open}),[b]),de=H0(h?w():{},{"aria-activedescendant":mn(p,p.selectors.activeDescendantId),"aria-labelledby":mn(p,$=>{var z;return(z=$.buttonElement)==null?void 0:z.id}),id:r,onKeyDown:Q,onKeyUp:Oe,role:"menu",tabIndex:b===Qe.Open?0:void 0,ref:C,style:{...d.style,..._,"--button-width":fL(x,!0).width},...lw(O)}),R=St();return ge.createElement(YN,{enabled:o?e.static||M:!1,ownerDocument:S},R({ourProps:de,theirProps:d,slot:te,defaultTag:gj,features:vj,visible:ee,name:"Menu.Items"}))}let _j=y.Fragment;function wj(e,t){let n=y.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:s=!1,...o}=e,l=Zf("Menu.Item"),c=mn(l,H=>l.selectors.isActive(H,r)),d=y.useRef(null),h=rn(t,d),p=mn(l,H=>l.selectors.shouldScrollIntoView(H,r));be(()=>{if(p)return Ut().requestAnimationFrame(()=>{var H,ee;(ee=(H=d.current)==null?void 0:H.scrollIntoView)==null||ee.call(H,{block:"nearest"})})},[p,d]);let m=lj(d),_=y.useRef({disabled:s,domRef:d,get textValue(){return m()}});be(()=>{_.current.disabled=s},[_,s]),be(()=>(l.actions.registerItem(r,_),()=>l.actions.unregisterItem(r)),[_,r]);let w=le(()=>{l.send({type:ye.CloseMenu})}),E=le(H=>{if(s)return H.preventDefault();l.send({type:ye.CloseMenu}),sw(l.state.buttonElement)}),P=le(()=>{if(s)return l.send({type:ye.GoToItem,focus:ze.Nothing});l.send({type:ye.GoToItem,focus:ze.Specific,id:r})}),C=r2(),b=le(H=>C.update(H)),x=le(H=>{C.wasMoved(H)&&(s||c||l.send({type:ye.GoToItem,focus:ze.Specific,id:r,trigger:Dl.Pointer}))}),S=le(H=>{C.wasMoved(H)&&(s||c&&l.state.activationTrigger===Dl.Pointer&&l.send({type:ye.GoToItem,focus:ze.Nothing}))}),[T,A]=K0(),[M,O]=iL(),D=y.useMemo(()=>({active:c,focus:c,disabled:s,close:w}),[c,s,w]),W={id:r,ref:h,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-labelledby":T,"aria-describedby":M,disabled:void 0,onClick:E,onFocus:P,onPointerEnter:b,onMouseEnter:b,onPointerMove:x,onMouseMove:x,onPointerLeave:S,onMouseLeave:S},U=St();return ge.createElement(A,null,ge.createElement(O,null,U({ourProps:W,theirProps:o,slot:D,defaultTag:_j,name:"Menu.Item"})))}let xj="div";function bj(e,t){let[n,r]=K0(),s=e,o={ref:t,"aria-labelledby":n,role:"group"},l=St();return ge.createElement(r,null,l({ourProps:o,theirProps:s,slot:{},defaultTag:xj,name:"Menu.Section"}))}let Sj="header";function Ej(e,t){let n=y.useId(),{id:r=`headlessui-menu-heading-${n}`,...s}=e,o=Of();be(()=>o.register(r),[r,o.register]);let l={id:r,ref:t,role:"presentation",...o.props};return St()({ourProps:l,theirProps:s,slot:{},defaultTag:Sj,name:"Menu.Heading"})}let kj="div";function Pj(e,t){let n=e,r={ref:t,role:"separator"};return St()({ourProps:r,theirProps:n,slot:{},defaultTag:kj,name:"Menu.Separator"})}let Cj=pt(fj),Tj=pt(mj),Lj=pt(yj),Nj=pt(wj),jj=pt(bj),Aj=pt(Ej),Oj=pt(Pj),Ha=Object.assign(Cj,{Button:Tj,Items:Lj,Item:Nj,Section:jj,Heading:Aj,Separator:Oj});const Rj=({placement:e="fixed"})=>{const[t,n]=y.useState(!1),r=[{name:"Chat Section",icon:uk,to:"/chat",description:"Chat with your contacts"},{name:"Safe Route",icon:ei,to:"/safe-route",description:"Find the safest route"}],s=({children:o})=>e==="fixed"?g.jsx("div",{className:"fixed top-4 left-4 z-50",children:o}):g.jsx("div",{className:"relative",children:o});return g.jsx(s,{children:g.jsx(Ha,{as:"div",className:"relative",children:({open:o})=>g.jsxs(g.Fragment,{children:[g.jsx(Ha.Button,{onClick:()=>n(!t),className:`${e==="fixed"?"p-2 rounded-full bg-white bg-opacity-80 shadow-lg hover:bg-opacity-100":"p-1 rounded-lg hover:bg-gray-100"} transition-all duration-200 focus:outline-none`,children:t?g.jsx(gk,{className:"w-6 h-6 text-gray-800"}):g.jsx(lk,{className:"w-6 h-6 text-gray-800"})}),g.jsx(sj,{as:y.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:g.jsx(Ha.Items,{className:"absolute left-0 mt-2 w-64 origin-top-left bg-white rounded-xl shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none overflow-hidden",children:g.jsx("div",{className:"p-1",children:r.map(l=>g.jsx(Ha.Item,{children:({active:c})=>g.jsxs(yf,{to:l.to,className:`${c?"bg-blue-50 text-blue-900":"text-gray-900"} group flex w-full items-center rounded-lg p-3 text-sm transition-colors`,children:[g.jsx(l.icon,{className:`mr-3 h-5 w-5 ${c?"text-blue-500":"text-gray-400"}`}),g.jsxs("div",{className:"text-left",children:[g.jsx("p",{className:"font-medium",children:l.name}),g.jsx("p",{className:"text-xs text-gray-500",children:l.description})]})]})},l.name))})})})]})})})},Ij=new jo.Icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png",shadowSize:[41,41]}),Mj=()=>{const e=nu(),[t,n]=y.useState(""),r=y.useRef(null),[s,o]=y.useState([{id:1,text:"I have shared my location with you",sender:"me",timestamp:new Date,isLocation:!0,location:{lat:28.6139,lng:77.209,address:"Connaught Place, New Delhi"}},{id:2,text:"I have been alerted about the situation, I have alerted the authorities, I'm on my way",sender:"aagam",timestamp:new Date(Date.now()-1e3*60*2),isLocation:!1}]),l=()=>{var h;(h=r.current)==null||h.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{l()},[s]);const c=h=>{if(h.preventDefault(),!t.trim())return;const p={id:s.length+1,text:t,sender:"me",timestamp:new Date,isLocation:!1};o([...s,p]),n("")},d=h=>h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return g.jsxs("div",{className:"min-h-screen bg-aura-background",children:[g.jsx("div",{className:"bg-gray-900 shadow-lg",children:g.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-800 rounded-lg transition-colors","aria-label":"Go back",children:g.jsx(Uo,{className:"w-5 h-5 text-gray-300"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"Chat with Aagam"}),g.jsxs("div",{className:"flex items-center text-xs text-gray-400",children:[g.jsxs("div",{className:"flex items-center mr-3",children:[g.jsx(ei,{className:"w-3 h-3 mr-1 text-blue-400"}),g.jsx("span",{children:"0.5 km away"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(K_,{className:"w-3 h-3 mr-1 text-blue-400"}),g.jsx("span",{children:"Active now"})]})]})]})]})})})}),g.jsx("div",{className:"max-w-md mx-auto px-4 py-6",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"text-center",children:g.jsx("div",{className:"inline-block bg-gray-800 rounded-full px-4 py-2 border border-gray-700",children:g.jsx("p",{className:"text-sm text-gray-300",children:"Aagam is your nearest contact (0.5 km away)"})})}),g.jsx("div",{className:"space-y-4",children:s.map(h=>{var p,m,_,w,E,P,C,b,x,S;return g.jsx("div",{className:`flex ${h.sender==="me"?"justify-end":"justify-start"}`,children:g.jsxs("div",{className:`max-w-xs rounded-2xl px-4 py-3 transition-all duration-200 ${h.sender==="me"?"bg-blue-600 text-white rounded-br-none shadow-lg shadow-blue-500/20":"bg-white border border-gray-200 rounded-bl-none shadow-lg shadow-black/10"}`,children:[h.isLocation?g.jsxs("div",{className:"w-64",children:[g.jsx("div",{className:"h-40 bg-gray-100 rounded-lg mb-2 overflow-hidden border border-gray-200",children:g.jsxs(Cf,{center:[((p=h.location)==null?void 0:p.lat)||0,((m=h.location)==null?void 0:m.lng)||0],zoom:15,style:{height:"100%",width:"100%"},zoomControl:!1,className:"rounded-lg",children:[g.jsx(Tf,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),g.jsx(Vi,{position:[((_=h.location)==null?void 0:_.lat)||0,((w=h.location)==null?void 0:w.lng)||0],icon:Ij,children:g.jsx(qi,{children:(E=h.location)==null?void 0:E.address})})]})}),g.jsxs("div",{className:"p-2",children:[g.jsxs("div",{className:"flex items-center text-blue-600 mb-1",children:[g.jsx(ei,{className:"w-3.5 h-3.5 mr-1.5"}),g.jsx("span",{className:"text-xs font-medium text-gray-800",children:"My Location"})]}),g.jsx("p",{className:"text-sm text-gray-900 font-medium",children:(P=h.location)==null?void 0:P.address}),g.jsxs("div",{className:"flex justify-between items-center mt-2",children:[g.jsxs("span",{className:"text-xs text-gray-600",children:[(C=h.location)==null?void 0:C.lat.toFixed(4),", ",(b=h.location)==null?void 0:b.lng.toFixed(4)]}),g.jsxs("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${(x=h.location)==null?void 0:x.lat},${(S=h.location)==null?void 0:S.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded flex items-center transition-colors",children:[g.jsx(G_,{className:"w-3 h-3 mr-1"}),"Navigate"]})]})]})]}):g.jsx("p",{className:`text-sm ${h.sender==="me"?"text-white":"text-gray-900"}`,children:h.text}),g.jsxs("div",{className:`flex items-center mt-1 text-xs ${h.sender==="me"?"justify-end text-blue-100":"text-gray-500"}`,children:[g.jsx("span",{className:"opacity-70",children:d(h.timestamp)}),h.sender==="me"&&g.jsx("span",{className:"ml-1 text-blue-300",children:""})]})]})},h.id)})}),g.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:g.jsxs("form",{onSubmit:c,className:"flex items-center space-x-3",children:[g.jsx("input",{type:"text",value:t,onChange:h=>n(h.target.value),placeholder:"Type a message...",className:"flex-1 px-4 py-3 bg-gray-700 text-gray-100 border border-gray-600 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-gray-400 transition-all"}),g.jsx("button",{type:"submit",className:"p-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-lg hover:shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!t.trim(),"aria-label":"Send message",children:g.jsx(hk,{className:"w-5 h-5"})})]})})]})})]})},$j=[[28.6139,77.209],[28.614,77.212],[28.615,77.215],[28.617,77.22],[28.618,77.225],[28.619,77.23],[28.62,77.235],[28.621,77.24],[28.622,77.245],[28.623,77.25],[28.6235,77.255],[28.624,77.26],[28.6245,77.265],[28.625,77.27],[28.6255,77.275]],Ir={name:"Connaught Place Police Station",position:[28.6255,77.275],address:"H 8, Connaught Place, New Delhi, Delhi 110001"},Dj=()=>{const e=nu(),[t,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>{const c=setTimeout(()=>{n([28.6139,77.209]),s(!1)},1e3);return()=>clearTimeout(c)},[]);const o=jo.divIcon({className:"custom-icon",html:'<div class="w-4 h-4 rounded-full bg-blue-500 border-2 border-white shadow-lg"></div>',iconSize:[16,16],iconAnchor:[8,8]}),l=jo.divIcon({className:"custom-icon",html:`<div class="w-6 h-6 rounded-full bg-red-500 border-2 border-white shadow-lg flex items-center justify-center">
             <MapPin className="w-3 h-3 text-white" />
           </div>`,iconSize:[24,24],iconAnchor:[12,24]});return r||!t?g.jsx("div",{className:"min-h-screen bg-aura-background flex items-center justify-center",children:g.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:g.jsx("div",{className:"animate-pulse text-gray-600",children:"Loading route..."})})}):g.jsxs("div",{className:"min-h-screen bg-aura-background",children:[g.jsx("div",{className:"bg-gray-900 shadow-lg",children:g.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:g.jsx(Uo,{className:"w-5 h-5 text-gray-300"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-lg font-semibold text-white",children:"Safe Route"}),g.jsx("p",{className:"text-sm text-gray-400",children:"The safest route near you is Connaught Place police station"})]})]})})})}),g.jsx("div",{className:"max-w-md mx-auto px-4 py-6",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:g.jsx("div",{className:"h-80 relative",children:g.jsxs(Cf,{center:t,zoom:15,style:{height:"100%",width:"100%"},zoomControl:!1,className:"z-0",children:[g.jsx(Tf,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),g.jsx(Vi,{position:t,icon:o,children:g.jsx(qi,{children:"Your Location"})}),g.jsx(Vi,{position:Ir.position,icon:l,children:g.jsx(qi,{children:g.jsxs("div",{className:"text-sm",children:[g.jsx("p",{className:"font-semibold text-gray-900",children:Ir.name}),g.jsx("p",{className:"text-gray-600",children:Ir.address})]})})}),g.jsx(oT,{positions:$j,color:"#3b82f6",weight:5,opacity:.8})]})})}),g.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"font-semibold text-gray-900",children:["To: ",Ir.name]}),g.jsx("p",{className:"text-sm text-gray-600",children:Ir.address})]}),g.jsx("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-full",children:g.jsx(G_,{className:"w-5 h-5"})})]}),g.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-6",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(K_,{className:"w-4 h-4 mr-2"}),g.jsx("span",{children:"15 min"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(_f,{className:"w-4 h-4 mr-2 text-yellow-500"}),g.jsx("span",{children:"Safe Route"})]}),g.jsx("div",{children:g.jsx("span",{children:"2.5 km"})})]}),g.jsx("button",{className:"w-full py-4 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-lg hover:shadow-blue-500/20 transform hover:scale-105 active:scale-95",onClick:()=>{const c=`https://www.google.com/maps/dir/?api=1&destination=${Ir.position[0]},${Ir.position[1]}&travelmode=walking`;window.open(c,"_blank")},children:"Start Navigation"})]})]})})]})},Dw=y.createContext(void 0),Vf=()=>{const e=y.useContext(Dw);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},zj=({children:e})=>{const[t,n]=y.useState(null),[r,s]=y.useState(null),[o,l]=y.useState(!0),[c,d]=y.useState(null),h=y.useCallback(async C=>{try{const b=await fn.getUserById(C);if(b){const x={id:b.id,fullName:b.full_name||"",phoneNumber:b.phone_number||"",emergencyContacts:b.emergency_contacts||[],voiceActivationEnabled:b.voice_activation_enabled||!1,voiceActivationLanguage:b.voice_activation_language||"en-US"};return s(x),x}}catch(b){console.error("Error fetching user profile:",b),d({message:"Failed to load user profile",code:"profile_fetch_error"})}return null},[]);y.useEffect(()=>{let C=!0;(async()=>{try{const{data:{session:S},error:T}=await Ge.auth.getSession();if(C){if(T)throw T;n((S==null?void 0:S.user)??null),S!=null&&S.user&&await h(S.user.id)}}catch(S){console.error("Auth initialization error:",S),C&&d({message:"Failed to initialize authentication",code:"auth_init_error"})}finally{C&&l(!1)}})();const{data:{subscription:x}}=Ge.auth.onAuthStateChange(async(S,T)=>{C&&(n((T==null?void 0:T.user)??null),T!=null&&T.user?await h(T.user.id):s(null))});return()=>{C=!1,x.unsubscribe()}},[h]);const P={user:t,userProfile:r,loading:o,error:c,signUp:async C=>{var b;l(!0),d(null);try{const{data:{user:x},error:S}=await fn.signUp(C.email,C.password);if(S||!x)throw S||{message:"Failed to create user"};const T={id:x.id,email:C.email,full_name:C.fullName,phone_number:C.phoneNumber};if(!await fn.createUser(T))throw new Error("Failed to create user profile");const M=(b=C.emergencyContacts)!=null&&b.length?C.emergencyContacts:[{name:"Emergency Services",phoneNumber:"911"}];await Promise.all(M.map(D=>fn.createEmergencyContact(x.id,D)));const O=await h(x.id);return{data:{user:x,profile:O},error:null}}catch(x){console.error("Sign up error:",x);const S={message:x.message||"Failed to sign up",code:x.code};return d(S),{data:null,error:S}}finally{l(!1)}},signIn:async({email:C,password:b})=>{l(!0),d(null);try{const{data:{user:x},error:S}=await fn.signIn(C,b);if(S||!x)throw S||new Error("Failed to sign in");return await h(x.id)||(await fn.createUser({id:x.id,email:x.email||C,full_name:"",phone_number:""}),await fn.createEmergencyContact(x.id,{name:"Emergency Services",phoneNumber:"911"}),await h(x.id)),{data:{user:x,profile:r},error:null}}catch(x){console.error("Sign in error:",x);const S={message:x.message||"Failed to sign in",code:x.code};return d(S),{data:null,error:S}}finally{l(!1)}},signOut:async()=>{l(!0),d(null);try{const{error:C}=await Ge.auth.signOut();if(C)throw C;return n(null),s(null),{data:void 0,error:null}}catch(C){console.error("Sign out error:",C);const b={message:C.message||"Failed to sign out",code:C.code};return d(b),{data:void 0,error:b}}finally{l(!1)}},updateUserProfile:async C=>{if(!t){const b={message:"User not authenticated"};return d(b),{data:null,error:b}}l(!0),d(null);try{const b={};if(C.fullName!==void 0&&(b.full_name=C.fullName),C.phoneNumber!==void 0&&(b.phone_number=C.phoneNumber),C.voiceActivationEnabled!==void 0&&(b.voice_activation_enabled=C.voiceActivationEnabled),C.voiceActivationLanguage!==void 0&&(b.voice_activation_language=C.voiceActivationLanguage),Object.keys(b).length===0)return{data:{updated:!1,message:"No updates provided"},error:null};const x=await fn.updateUser(t.id,b);if(!x)throw new Error("Failed to update user profile");return s(S=>S?{...S,...C}:null),{data:{updated:!0,profile:x},error:null}}catch(b){console.error("Profile update error:",b);const x={message:b.message||"Failed to update profile",code:b.code};return d(x),{data:null,error:x}}finally{l(!1)}},clearError:()=>d(null)};return g.jsx(Dw.Provider,{value:P,children:e})},Fj=({onSwitchToSignUp:e})=>{const[t,n]=y.useState(""),[r,s]=y.useState(""),[o,l]=y.useState(!1),[c,d]=y.useState(""),{signIn:h}=Vf(),p=async m=>{m.preventDefault(),l(!0),d("");try{const{user:_,error:w}=await h(t,r);w&&d(w.message||"Failed to sign in")}catch{d("An unexpected error occurred")}finally{l(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-md w-full space-y-8",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Aura"}),g.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Your personal safety companion"})]}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[g.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),g.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:m=>n(m.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),g.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:m=>s(m.target.value)})]})]}),c&&g.jsx("div",{className:"text-red-600 text-sm text-center",children:c}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Signing in...":"Sign in"})}),g.jsx("div",{className:"text-center",children:g.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Don't have an account? Sign up"})})]})]})})},Bj=({onSwitchToLogin:e})=>{const[t,n]=y.useState({email:"",password:"",confirmPassword:"",fullName:"",phoneNumber:""}),[r,s]=y.useState(!1),[o,l]=y.useState(""),{signUp:c}=Vf(),d=p=>{n({...t,[p.target.name]:p.target.value})},h=async p=>{if(p.preventDefault(),s(!0),l(""),t.password!==t.confirmPassword){l("Passwords do not match"),s(!1);return}if(t.password.length<6){l("Password must be at least 6 characters long"),s(!1);return}try{const{user:m,error:_}=await c(t.email,t.password,{fullName:t.fullName,phoneNumber:t.phoneNumber,emergencyContacts:[]});_&&l(_.message||"Failed to create account")}catch{l("An unexpected error occurred")}finally{s(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-md w-full space-y-8",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your Aura account"}),g.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join thousands of users who trust Aura for their safety"})]}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"full-name",className:"sr-only",children:"Full Name"}),g.jsx("input",{id:"full-name",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:t.fullName,onChange:d})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"phone-number",className:"sr-only",children:"Phone Number"}),g.jsx("input",{id:"phone-number",name:"phoneNumber",type:"tel",autoComplete:"tel",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Phone Number",value:t.phoneNumber,onChange:d})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),g.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t.email,onChange:d})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),g.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t.password,onChange:d})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),g.jsx("input",{id:"confirm-password",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:t.confirmPassword,onChange:d})]})]}),o&&g.jsx("div",{className:"text-red-600 text-sm text-center",children:o}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Creating account...":"Create account"})}),g.jsx("div",{className:"text-center",children:g.jsx("button",{type:"button",onClick:e,className:"text-indigo-600 hover:text-indigo-500 text-sm",children:"Already have an account? Sign in"})})]})]})})},Uj=()=>g.jsx(zj,{children:g.jsx(GE,{children:g.jsxs(PE,{children:[g.jsx(qs,{path:"/chat",element:g.jsx(Mj,{})}),g.jsx(qs,{path:"/safe-route",element:g.jsx(Dj,{})}),g.jsx(qs,{path:"/monitoring",element:g.jsx(fT,{onBack:()=>window.history.back(),userLocation:{latitude:28.6139,longitude:77.209}})}),g.jsx(qs,{path:"*",element:g.jsx(Hj,{})})]})})}),Hj=()=>{const e=nu(),t=Ek(),{user:n,userProfile:r,loading:s}=Vf(),[o,l]=y.useState("auth"),c=bk(),d=Sk(),[h,p]=y.useState(!1),[m,_]=y.useState(!1),[w,E]=y.useState(!1),[P,C]=y.useState("login"),x=kk({triggerPhrase:"Help Aura",onActivate:async()=>{if(!r){console.error("No user profile available for SOS alert");return}_(!0);try{c.triggerSOS();const D=await t.getCurrentLocation(),W=await Jn.triggerSOSAlert(r.id,D);c.updateSOSResult(W),l("sos-confirmation")}catch(D){console.error("Error sending SOS alert:",D),c.updateSOSResult({success:!1,message:"Error sending alert, but emergency contacts may have been notified",data:{contactsNotified:0,timestamp:new Date().toISOString()}}),l("sos-confirmation")}finally{_(!1)}},enabled:(r==null?void 0:r.voiceActivationEnabled)??!1,language:(r==null?void 0:r.voiceActivationLanguage)??"en-US"});if(y.useEffect(()=>{console.log("App auth state changed:",{loading:s,user:!!n,userProfile:!!r}),!s&&(n&&r?(console.log("User authenticated, checking onboarding status"),Us.isOnboardingComplete()?(console.log("Onboarding complete, setting view to home"),l("home")):(console.log("Onboarding incomplete, setting view to permissions"),l("permissions"))):(console.log("User not authenticated, setting view to auth"),l("auth")))},[n,r,s]),s)return console.log("Showing loading state"),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600 mx-auto"}),g.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})});if(o==="auth")return console.log("Rendering auth screen, mode:",P),g.jsx("div",{children:P==="login"?g.jsx(Fj,{onSwitchToSignUp:()=>C("signup")}):g.jsx(Bj,{onSwitchToLogin:()=>C("login")})});y.useEffect(()=>{r&&(Us.isOnboardingComplete()&&l("home"),r.voiceActivationEnabled&&x.permissionStatus==="prompt"&&x.requestPermission())},[r==null?void 0:r.voiceActivationEnabled]),y.useEffect(()=>{if(!r)return;(async()=>{if(d.audioBlob&&c.isListening){p(!0);try{const W=await Jn.processAudioWorkflow(d.audioBlob);if(c.updateTranscription(W.transcription),c.updateAiResponse(W.ai_response),await Jn.playAudioResponse(W.ai_response),W.threat_detected){c.triggerAlert();try{const U=await t.getCurrentLocation();await Jn.triggerSmsAlert(r.id,U)}catch(U){console.error("Error getting location for alert:",U),await Jn.triggerSmsAlert(r.id,{latitude:0,longitude:0})}}d.clearAudio()}catch(W){console.error("Error processing audio:",W)}finally{p(!1)}}})()},[d.audioBlob,c.isListening,r]);const S=async()=>{try{await Jn.playEmergencyWarnings()}catch(D){console.error("Error playing emergency warnings:",D)}},T=()=>{Jn.stopEmergencyWarnings(),c.resetToIdle(),E(!1),l("home")},A=async()=>{if(!r){console.error("No user profile available for all-clear");return}try{const D=await t.getCurrentLocation();await Jn.triggerSmsAlert(r.id,D),c.resetToIdle(),l("home")}catch(D){console.error("Error sending all-clear:",D),c.resetToIdle(),l("home")}},M=D=>{if(!r)return;const W={...r,...D};setUserProfile(W),Us.saveUserProfile(W),D.emergencyContacts&&Us.saveEmergencyContacts(D.emergencyContacts)},O=()=>{Us.isOnboardingComplete()?l("home"):l("settings")};return o==="permissions"?r?g.jsx(wk,{onComplete:O}):(l("auth"),null):o==="settings"?r?g.jsx(_k,{userProfile:r,onProfileUpdate:M,onBack:()=>l("home")}):(l("home"),null):o==="sos-confirmation"?g.jsx(xk,{alertResult:c.sosAlertResult,userLocation:t.location,onBack:()=>l("home"),onAllClear:A}):o==="monitoring"?(e("/monitoring"),null):o==="fake-call"?g.jsx(vk,{callerName:"Dad",onEndCall:T,onCallAnswered:S}):o==="home"?r?g.jsxs("div",{className:"min-h-screen bg-aura-background",children:[g.jsx("div",{className:"bg-gray-900 shadow-lg",children:g.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(Rj,{placement:"inline"}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-semibold text-white",children:"Aura"}),g.jsx("p",{className:"text-sm text-gray-300",children:"Personal Safety AI"})]})]}),g.jsx("button",{onClick:()=>l("settings"),className:"p-2 hover:bg-gray-800 rounded-lg transition-colors",children:g.jsx(fk,{className:"w-5 h-5 text-gray-300"})})]})})}),g.jsx("div",{className:"max-w-md mx-auto px-4 py-8",children:g.jsxs("div",{className:"space-y-8 flex flex-col items-center",children:[g.jsx(ZC,{auraState:c.state,isListening:x.isListening,permissionStatus:x.permissionStatus,onRequestPermission:x.requestPermission}),g.jsxs("div",{className:"text-center",children:[x.permissionStatus==="prompt"&&g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-sm text-orange-600 font-medium mb-2",children:"Aura needs microphone & location. Click settings to enable."}),g.jsx("button",{onClick:x.requestPermission,className:"text-xs bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md transition-colors mb-2",children:"Grant Microphone Permission"})]}),x.permissionStatus==="granted"&&c.state===rt.IDLE&&g.jsx("p",{className:"text-sm text-gray-600",children:"Aura is listening for 'Help Aura'..."}),c.state===rt.ACTIVE&&g.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Aura is active: Threat detected!"}),c.state===rt.ALERT&&g.jsx("p",{className:"text-sm text-red-600 font-semibold",children:"Codeword detected! Sending alert..."}),c.state===rt.SOS_ACTIVE&&g.jsx("p",{className:"text-sm text-green-600 font-semibold",children:"Emergency Alert Sent!"})]}),g.jsxs("div",{className:"w-full",children:[g.jsx("h2",{className:"text-sm text-gray-300 mb-2",children:"Relatives & Friends in New Delhi"}),g.jsx("div",{className:"w-full max-w-md mx-auto",children:g.jsx(hT,{height:320})})]}),g.jsx("div",{className:"w-full",children:g.jsx("button",{onClick:()=>l("monitoring"),className:"w-full bg-aura-primary hover:bg-aura-calm text-white font-semibold py-4 px-6 rounded-xl flex items-center justify-center space-x-3 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95",children:g.jsx("span",{children:"Monitor AURA"})})}),c.state===rt.IDLE&&x.permissionStatus==="granted"&&g.jsx("div",{className:"flex justify-center",children:g.jsx("button",{onClick:x.startListening,disabled:h||m||w,className:"w-full bg-aura-primary hover:bg-aura-calm text-white font-semibold py-4 px-6 rounded-xl flex items-center justify-center space-x-3 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:g.jsx("span",{children:"Start Aura Monitoring"})})}),h&&g.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-gray-700",children:g.jsxs("div",{className:"flex items-center justify-center space-x-2 text-aura-primary",children:[g.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-current border-t-transparent rounded-full"}),g.jsx("span",{className:"text-sm text-gray-300",children:"Processing audio..."})]})}),g.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 border border-gray-700",children:g.jsxs("p",{className:"text-xs text-gray-300 text-center",children:["Aura is a safety deterrent. In real emergencies, always call 911.",g.jsx("br",{}),"Your conversations are processed securely and not stored."]})})]})})]}):(l("auth"),null):null};Gc.createRoot(document.getElementById("root")).render(g.jsx(ge.StrictMode,{children:g.jsx(Uj,{})}));
